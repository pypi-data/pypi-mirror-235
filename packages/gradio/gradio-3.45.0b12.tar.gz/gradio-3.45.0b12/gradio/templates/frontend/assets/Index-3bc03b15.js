import{u as Jt,n as xe,B as qt}from"./Button-50aef8a4.js";import"./index-7f6ac6a3.js";import{S as Tt}from"./Index-53af0ba0.js";import{U as Ot}from"./UploadText-68191533.js";import{B as Nt}from"./BlockLabel-cf19cb19.js";import{I as Wt}from"./IconButton-3ec63ef9.js";import{E as Lt}from"./Empty-9cfafa73.js";import{S as Gt}from"./ShareButton-50baddb5.js";import{D as Kt}from"./Download-696bd40c.js";import{U as Qt,M as Yt}from"./ModifyUpload-d44cacff.js";import{l as Zt,p as et,a as $t}from"./utils-e0e37fcf.js";import{r as tt}from"./file-url-20a5df10.js";import{U as xt}from"./Upload-ca917a8b.js";import{W as en}from"./ImageEditor.svelte_svelte_type_style_lang-03ac2789.js";import"./svelte/svelte.js";const{SvelteComponent:tn,append:nn,attr:J,detach:ln,init:on,insert:an,noop:Pe,safe_not_equal:rn,svg_element:nt}=window.__gradio__svelte__internal;function sn(n){let e,l;return{c(){e=nt("svg"),l=nt("path"),J(l,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),J(e,"xmlns","http://www.w3.org/2000/svg"),J(e,"width","100%"),J(e,"height","100%"),J(e,"viewBox","0 0 24 24"),J(e,"fill","none"),J(e,"stroke","currentColor"),J(e,"stroke-width","1.5"),J(e,"stroke-linecap","round"),J(e,"stroke-linejoin","round")},m(t,o){an(t,e,o),nn(e,l)},p:Pe,i:Pe,o:Pe,d(t){t&&ln(e)}}}class un extends tn{constructor(e){super(),on(this,e,null,sn,rn,{})}}const{SvelteComponent:_n,append:lt,attr:T,detach:fn,init:cn,insert:dn,noop:je,safe_not_equal:mn,svg_element:Ae}=window.__gradio__svelte__internal;function hn(n){let e,l,t;return{c(){e=Ae("svg"),l=Ae("rect"),t=Ae("rect"),T(l,"x","6"),T(l,"y","4"),T(l,"width","4"),T(l,"height","16"),T(t,"x","14"),T(t,"y","4"),T(t,"width","4"),T(t,"height","16"),T(e,"xmlns","http://www.w3.org/2000/svg"),T(e,"width","100%"),T(e,"height","100%"),T(e,"viewBox","0 0 24 24"),T(e,"fill","none"),T(e,"stroke","currentColor"),T(e,"stroke-width","1.5"),T(e,"stroke-linecap","round"),T(e,"stroke-linejoin","round")},m(o,i){dn(o,e,i),lt(e,l),lt(e,t)},p:je,i:je,o:je,d(o){o&&fn(e)}}}class bn extends _n{constructor(e){super(),cn(this,e,null,hn,mn,{})}}const{SvelteComponent:gn,append:pn,attr:O,detach:wn,init:kn,insert:vn,noop:Fe,safe_not_equal:yn,svg_element:ot}=window.__gradio__svelte__internal;function Sn(n){let e,l;return{c(){e=ot("svg"),l=ot("polygon"),O(l,"points","5 3 19 12 5 21 5 3"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"width","100%"),O(e,"height","100%"),O(e,"viewBox","0 0 24 24"),O(e,"fill","none"),O(e,"stroke","currentColor"),O(e,"stroke-width","1.5"),O(e,"stroke-linecap","round"),O(e,"stroke-linejoin","round")},m(t,o){vn(t,e,o),pn(e,l)},p:Fe,i:Fe,o:Fe,d(t){t&&wn(e)}}}class Cn extends gn{constructor(e){super(),kn(this,e,null,Sn,yn,{})}}const{SvelteComponent:qn,append:it,attr:N,detach:Tn,init:Nn,insert:zn,noop:Re,safe_not_equal:Bn,svg_element:Xe}=window.__gradio__svelte__internal;function Vn(n){let e,l,t;return{c(){e=Xe("svg"),l=Xe("polygon"),t=Xe("rect"),N(l,"points","23 7 16 12 23 17 23 7"),N(t,"x","1"),N(t,"y","5"),N(t,"width","15"),N(t,"height","14"),N(t,"rx","2"),N(t,"ry","2"),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"width","100%"),N(e,"height","100%"),N(e,"viewBox","0 0 24 24"),N(e,"fill","none"),N(e,"stroke","currentColor"),N(e,"stroke-width","1.5"),N(e,"stroke-linecap","round"),N(e,"stroke-linejoin","round"),N(e,"class","feather feather-video")},m(o,i){zn(o,e,i),it(e,l),it(e,t)},p:Re,i:Re,o:Re,d(o){o&&Tn(e)}}}class Ge extends qn{constructor(e){super(),Nn(this,e,null,Vn,Bn,{})}}const{SvelteComponent:En,action_destroyer:Dn,add_render_callback:In,append:Un,assign:at,attr:x,binding_callbacks:Mn,create_slot:Pn,detach:Ke,element:zt,empty:jn,exclude_internal_props:rt,get_all_dirty_from_scope:An,get_slot_changes:Fn,handle_promise:st,init:Rn,insert:Qe,is_function:Xn,listen:A,noop:Z,raf:Hn,run_all:Jn,safe_not_equal:On,set_data:Wn,set_style:Ln,src_url_equal:ut,text:Gn,transition_in:Bt,transition_out:Vt,update_await_block_branch:Kn,update_slot_base:Qn}=window.__gradio__svelte__internal,{createEventDispatcher:Yn}=window.__gradio__svelte__internal;function Zn(n){let e,l=n[19].message+"",t;return{c(){e=zt("p"),t=Gn(l),Ln(e,"color","red")},m(o,i){Qe(o,e,i),Un(e,t)},p(o,i){i&16&&l!==(l=o[19].message+"")&&Wn(t,l)},i:Z,o:Z,d(o){o&&Ke(e)}}}function $n(n){let e,l,t,o=!1,i,u=!0,s,a,c,r;const _=n[13].default,f=Pn(_,n,n[12],null);function m(){cancelAnimationFrame(i),e.paused||(i=Hn(m),o=!0),n[14].call(e)}return{c(){e=zt("video"),f&&f.c(),ut(e.src,l=n[18])||x(e,"src",l),e.muted=n[5],e.playsInline=n[6],x(e,"preload",n[7]),e.autoplay=n[8],e.controls=n[9],x(e,"data-testid",t=n[11]["data-testid"]),x(e,"class","svelte-hpjiw0"),n[1]===void 0&&In(()=>n[15].call(e))},m(g,w){Qe(g,e,w),f&&f.m(e,null),n[17](e),a=!0,c||(r=[A(e,"loadeddata",n[10].bind(null,"loadeddata")),A(e,"click",n[10].bind(null,"click")),A(e,"play",n[10].bind(null,"play")),A(e,"pause",n[10].bind(null,"pause")),A(e,"ended",n[10].bind(null,"ended")),A(e,"mouseover",n[10].bind(null,"mouseover")),A(e,"mouseout",n[10].bind(null,"mouseout")),A(e,"focus",n[10].bind(null,"focus")),A(e,"blur",n[10].bind(null,"blur")),A(e,"timeupdate",m),A(e,"durationchange",n[15]),A(e,"play",n[16]),A(e,"pause",n[16]),Dn(s=Zt.call(null,e,{autoplay:n[8]??!1}))],c=!0)},p(g,w){f&&f.p&&(!a||w&4096)&&Qn(f,_,g,g[12],a?Fn(_,g[12],w,null):An(g[12]),null),(!a||w&16&&!ut(e.src,l=g[18]))&&x(e,"src",l),(!a||w&32)&&(e.muted=g[5]),(!a||w&64)&&(e.playsInline=g[6]),(!a||w&128)&&x(e,"preload",g[7]),(!a||w&256)&&(e.autoplay=g[8]),(!a||w&512)&&(e.controls=g[9]),(!a||w&2048&&t!==(t=g[11]["data-testid"]))&&x(e,"data-testid",t),!o&&w&1&&!isNaN(g[0])&&(e.currentTime=g[0]),o=!1,w&4&&u!==(u=g[2])&&e[u?"pause":"play"](),s&&Xn(s.update)&&w&256&&s.update.call(null,{autoplay:g[8]??!1})},i(g){a||(Bt(f,g),a=!0)},o(g){Vt(f,g),a=!1},d(g){g&&Ke(e),f&&f.d(g),n[17](null),c=!1,Jn(r)}}}function xn(n){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function el(n){let e,l,t,o={ctx:n,current:null,token:null,hasCatch:!0,pending:xn,then:$n,catch:Zn,value:18,error:19,blocks:[,,,]};return st(l=tt(n[4]),o),{c(){e=jn(),o.block.c()},m(i,u){Qe(i,e,u),o.block.m(i,o.anchor=u),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(i,[u]){n=i,o.ctx=n,u&16&&l!==(l=tt(n[4]))&&st(l,o)||Kn(o,n,u)},i(i){t||(Bt(o.block),t=!0)},o(i){for(let u=0;u<3;u+=1){const s=o.blocks[u];Vt(s)}t=!1},d(i){i&&Ke(e),o.block.d(i),o.token=null,o=null}}}function tl(n,e,l){let{$$slots:t={},$$scope:o}=e,{src:i=void 0}=e,{muted:u=void 0}=e,{playsinline:s=void 0}=e,{preload:a=void 0}=e,{autoplay:c=void 0}=e,{controls:r=void 0}=e,{currentTime:_=void 0}=e,{duration:f=void 0}=e,{paused:m=void 0}=e,{node:g=void 0}=e;const w=Yn();function V(){_=this.currentTime,l(0,_)}function U(){f=this.duration,l(1,f)}function B(){m=this.paused,l(2,m)}function E(d){Mn[d?"unshift":"push"](()=>{g=d,l(3,g)})}return n.$$set=d=>{l(11,e=at(at({},e),rt(d))),"src"in d&&l(4,i=d.src),"muted"in d&&l(5,u=d.muted),"playsinline"in d&&l(6,s=d.playsinline),"preload"in d&&l(7,a=d.preload),"autoplay"in d&&l(8,c=d.autoplay),"controls"in d&&l(9,r=d.controls),"currentTime"in d&&l(0,_=d.currentTime),"duration"in d&&l(1,f=d.duration),"paused"in d&&l(2,m=d.paused),"node"in d&&l(3,g=d.node),"$$scope"in d&&l(12,o=d.$$scope)},e=rt(e),[_,f,m,g,i,u,s,a,c,r,w,e,o,t,V,U,B,E]}class nl extends En{constructor(e){super(),Rn(this,e,tl,el,On,{src:4,muted:5,playsinline:6,preload:7,autoplay:8,controls:9,currentTime:0,duration:1,paused:2,node:3})}}const{SvelteComponent:ll,add_flush_callback:ye,append:M,attr:z,bind:Se,binding_callbacks:Ce,bubble:_t,check_outros:ol,create_component:de,destroy_component:me,detach:Et,element:L,group_outros:il,init:al,insert:Dt,listen:ee,mount_component:he,prevent_default:ft,run_all:rl,safe_not_equal:sl,set_data:ct,space:qe,src_url_equal:dt,stop_propagation:ul,text:He,toggle_class:mt,transition_in:le,transition_out:oe}=window.__gradio__svelte__internal,{createEventDispatcher:_l}=window.__gradio__svelte__internal;function fl(n){let e,l;return{c(){e=L("track"),z(e,"kind","captions"),dt(e.src,l=n[1])||z(e,"src",l),e.default=!0},m(t,o){Dt(t,e,o)},p(t,o){o&2&&!dt(e.src,l=t[1])&&z(e,"src",l)},d(t){t&&Et(e)}}}function cl(n){let e,l;return e=new bn({}),{c(){de(e.$$.fragment)},m(t,o){he(e,t,o),l=!0},i(t){l||(le(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function dl(n){let e,l;return e=new Cn({}),{c(){de(e.$$.fragment)},m(t,o){he(e,t,o),l=!0},i(t){l||(le(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function ml(n){let e,l;return e=new Qt({}),{c(){de(e.$$.fragment)},m(t,o){he(e,t,o),l=!0},i(t){l||(le(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function hl(n){let e,l,t,o,i,u,s,a,c,r,_,f,m,g,w,V=Te(n[5])+"",U,B,E=Te(n[6])+"",d,v,D,X,p,S,q,I,b,we;function De(k){n[14](k)}function Ie(k){n[15](k)}function Ue(k){n[16](k)}function Me(k){n[17](k)}let $={src:n[0],preload:"auto",autoplay:n[3],"data-testid":`${n[4]}-player`,$$slots:{default:[fl]},$$scope:{ctx:n}};n[5]!==void 0&&($.currentTime=n[5]),n[6]!==void 0&&($.duration=n[6]),n[7]!==void 0&&($.paused=n[7]),n[8]!==void 0&&($.node=n[8]),t=new nl({props:$}),Ce.push(()=>Se(t,"currentTime",De)),Ce.push(()=>Se(t,"duration",Ie)),Ce.push(()=>Se(t,"paused",Ue)),Ce.push(()=>Se(t,"node",Me)),t.$on("click",n[10]),t.$on("play",n[18]),t.$on("pause",n[19]),t.$on("ended",n[12]);const ke=[ml,dl,cl],W=[];function ve(k,C){return k[5]===k[6]?0:k[7]?1:2}return f=ve(n),m=W[f]=ke[f](n),q=new un({}),{c(){e=L("div"),l=L("div"),de(t.$$.fragment),a=qe(),c=L("div"),r=L("div"),_=L("span"),m.c(),g=qe(),w=L("span"),U=He(V),B=He(" / "),d=He(E),v=qe(),D=L("progress"),p=qe(),S=L("div"),de(q.$$.fragment),z(l,"class","svelte-lcpz3o"),mt(l,"mirror",n[2]),z(_,"role","button"),z(_,"tabindex","0"),z(_,"class","icon svelte-lcpz3o"),z(_,"aria-label","play-pause-replay-button"),z(w,"class","time svelte-lcpz3o"),D.value=X=n[5]/n[6]||0,z(D,"class","svelte-lcpz3o"),z(S,"role","button"),z(S,"tabindex","0"),z(S,"class","icon svelte-lcpz3o"),z(S,"aria-label","full-screen"),z(r,"class","inner svelte-lcpz3o"),z(c,"class","controls svelte-lcpz3o"),z(e,"class","wrap svelte-lcpz3o")},m(k,C){Dt(k,e,C),M(e,l),he(t,l,null),M(e,a),M(e,c),M(c,r),M(r,_),W[f].m(_,null),M(r,g),M(r,w),M(w,U),M(w,B),M(w,d),M(r,v),M(r,D),M(r,p),M(r,S),he(q,S,null),I=!0,b||(we=[ee(_,"click",n[10]),ee(_,"keydown",n[10]),ee(D,"mousemove",n[9]),ee(D,"touchmove",ft(n[9])),ee(D,"click",ul(ft(n[11]))),ee(S,"click",n[13]),ee(S,"keypress",n[13])],b=!0)},p(k,[C]){const H={};C&1&&(H.src=k[0]),C&8&&(H.autoplay=k[3]),C&16&&(H["data-testid"]=`${k[4]}-player`),C&2097154&&(H.$$scope={dirty:C,ctx:k}),!o&&C&32&&(o=!0,H.currentTime=k[5],ye(()=>o=!1)),!i&&C&64&&(i=!0,H.duration=k[6],ye(()=>i=!1)),!u&&C&128&&(u=!0,H.paused=k[7],ye(()=>u=!1)),!s&&C&256&&(s=!0,H.node=k[8],ye(()=>s=!1)),t.$set(H),(!I||C&4)&&mt(l,"mirror",k[2]);let ce=f;f=ve(k),f!==ce&&(il(),oe(W[ce],1,1,()=>{W[ce]=null}),ol(),m=W[f],m||(m=W[f]=ke[f](k),m.c()),le(m,1),m.m(_,null)),(!I||C&32)&&V!==(V=Te(k[5])+"")&&ct(U,V),(!I||C&64)&&E!==(E=Te(k[6])+"")&&ct(d,E),(!I||C&96&&X!==(X=k[5]/k[6]||0))&&(D.value=X)},i(k){I||(le(t.$$.fragment,k),le(m),le(q.$$.fragment,k),I=!0)},o(k){oe(t.$$.fragment,k),oe(m),oe(q.$$.fragment,k),I=!1},d(k){k&&Et(e),me(t),W[f].d(),me(q),b=!1,rl(we)}}}function Te(n){if(isNaN(n)||!isFinite(n))return"...";const e=Math.floor(n/60);let l=Math.floor(n%60);return l<10&&(l=`0${l}`),`${e}:${l}`}function bl(n,e,l){let{src:t}=e,{subtitle:o=null}=e,{mirror:i}=e,{autoplay:u}=e,{label:s="test"}=e;const a=_l();let c=0,r,_=!0,f;function m(p){if(!r)return;if(p.type==="click"){w(p);return}if(p.type!=="touchmove"&&!(p.buttons&1))return;const S=p.type==="touchmove"?p.touches[0].clientX:p.clientX,{left:q,right:I}=p.currentTarget.getBoundingClientRect();l(5,c=r*(S-q)/(I-q))}async function g(){document.fullscreenElement!=f&&(f.currentTime>0&&!f.paused&&!f.ended&&f.readyState>f.HAVE_CURRENT_DATA?f.pause():await f.play())}function w(p){const{left:S,right:q}=p.currentTarget.getBoundingClientRect();l(5,c=r*(p.clientX-S)/(q-S))}function V(){a("stop"),a("end")}function U(){f.requestFullscreen()}function B(p){c=p,l(5,c)}function E(p){r=p,l(6,r)}function d(p){_=p,l(7,_)}function v(p){f=p,l(8,f)}function D(p){_t.call(this,n,p)}function X(p){_t.call(this,n,p)}return n.$$set=p=>{"src"in p&&l(0,t=p.src),"subtitle"in p&&l(1,o=p.subtitle),"mirror"in p&&l(2,i=p.mirror),"autoplay"in p&&l(3,u=p.autoplay),"label"in p&&l(4,s=p.label)},[t,o,i,u,s,c,r,_,f,m,g,w,V,U,B,E,d,v,D,X]}class It extends ll{constructor(e){super(),al(this,e,bl,hl,sl,{src:0,subtitle:1,mirror:2,autoplay:3,label:4})}}const{SvelteComponent:gl,append:ht,attr:te,bubble:se,check_outros:Je,create_component:ue,destroy_component:_e,detach:Ne,element:bt,empty:pl,group_outros:Oe,init:wl,insert:ze,mount_component:fe,noop:kl,safe_not_equal:Ut,space:We,transition_in:F,transition_out:R}=window.__gradio__svelte__internal,{createEventDispatcher:vl,afterUpdate:yl,tick:Sl}=window.__gradio__svelte__internal;function Cl(n){let e=n[0].data,l,t,o,i,u,s,a,c,r=gt(n);i=new Wt({props:{Icon:Kt,label:"Download"}});let _=n[5]&&pt(n);return{c(){r.c(),l=We(),t=bt("div"),o=bt("a"),ue(i.$$.fragment),a=We(),_&&_.c(),te(o,"href",u=n[0].data),te(o,"target",window.__is_colab__?"_blank":null),te(o,"download",s=n[0].orig_name||n[0].name),te(t,"class","icon-buttons svelte-rvdo70"),te(t,"data-testid","download-div")},m(f,m){r.m(f,m),ze(f,l,m),ze(f,t,m),ht(t,o),fe(i,o,null),ht(t,a),_&&_.m(t,null),c=!0},p(f,m){m&1&&Ut(e,e=f[0].data)?(Oe(),R(r,1,1,kl),Je(),r=gt(f),r.c(),F(r,1),r.m(l.parentNode,l)):r.p(f,m),(!c||m&1&&u!==(u=f[0].data))&&te(o,"href",u),(!c||m&1&&s!==(s=f[0].orig_name||f[0].name))&&te(o,"download",s),f[5]?_?(_.p(f,m),m&32&&F(_,1)):(_=pt(f),_.c(),F(_,1),_.m(t,null)):_&&(Oe(),R(_,1,1,()=>{_=null}),Je())},i(f){c||(F(r),F(i.$$.fragment,f),F(_),c=!0)},o(f){R(r),R(i.$$.fragment,f),R(_),c=!1},d(f){f&&(Ne(l),Ne(t)),r.d(f),_e(i),_&&_.d()}}}function ql(n){let e,l;return e=new Lt({props:{unpadded_box:!0,size:"large",$$slots:{default:[Tl]},$$scope:{ctx:n}}}),{c(){ue(e.$$.fragment)},m(t,o){fe(e,t,o),l=!0},p(t,o){const i={};o&131072&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function gt(n){let e,l;return e=new It({props:{src:n[0].data,subtitle:n[1]?.data,autoplay:n[4],mirror:!1,label:n[2]}}),e.$on("play",n[7]),e.$on("pause",n[8]),e.$on("stop",n[9]),e.$on("end",n[10]),{c(){ue(e.$$.fragment)},m(t,o){fe(e,t,o),l=!0},p(t,o){const i={};o&1&&(i.src=t[0].data),o&2&&(i.subtitle=t[1]?.data),o&16&&(i.autoplay=t[4]),o&4&&(i.label=t[2]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function pt(n){let e,l;return e=new Gt({props:{i18n:n[6],value:n[0],formatter:n[11]}}),e.$on("error",n[12]),e.$on("share",n[13]),{c(){ue(e.$$.fragment)},m(t,o){fe(e,t,o),l=!0},p(t,o){const i={};o&64&&(i.i18n=t[6]),o&1&&(i.value=t[0]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function Tl(n){let e,l;return e=new Ge({}),{c(){ue(e.$$.fragment)},m(t,o){fe(e,t,o),l=!0},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){_e(e,t)}}}function Nl(n){let e,l,t,o,i,u;e=new Nt({props:{show_label:n[3],Icon:Ge,label:n[2]||"Video"}});const s=[ql,Cl],a=[];function c(r,_){return r[0]===null?0:1}return t=c(n),o=a[t]=s[t](n),{c(){ue(e.$$.fragment),l=We(),o.c(),i=pl()},m(r,_){fe(e,r,_),ze(r,l,_),a[t].m(r,_),ze(r,i,_),u=!0},p(r,[_]){const f={};_&8&&(f.show_label=r[3]),_&4&&(f.label=r[2]||"Video"),e.$set(f);let m=t;t=c(r),t===m?a[t].p(r,_):(Oe(),R(a[m],1,1,()=>{a[m]=null}),Je(),o=a[t],o?o.p(r,_):(o=a[t]=s[t](r),o.c()),F(o,1),o.m(i.parentNode,i))},i(r){u||(F(e.$$.fragment,r),F(o),u=!0)},o(r){R(e.$$.fragment,r),R(o),u=!1},d(r){r&&(Ne(l),Ne(i)),_e(e,r),a[t].d(r)}}}function zl(n,e,l){let{value:t=null}=e,{subtitle:o=null}=e,{label:i=void 0}=e,{show_label:u=!0}=e,{autoplay:s}=e,{show_share_button:a=!0}=e,{i18n:c}=e,r=null,_=null;const f=vl();yl(async()=>{t!==r&&o!==_&&_!==null&&(r=t,l(0,t=null),await Sl(),l(0,t=r)),r=t,_=o});function m(d){se.call(this,n,d)}function g(d){se.call(this,n,d)}function w(d){se.call(this,n,d)}function V(d){se.call(this,n,d)}const U=async d=>d?await Jt(d.data,"url"):"";function B(d){se.call(this,n,d)}function E(d){se.call(this,n,d)}return n.$$set=d=>{"value"in d&&l(0,t=d.value),"subtitle"in d&&l(1,o=d.subtitle),"label"in d&&l(2,i=d.label),"show_label"in d&&l(3,u=d.show_label),"autoplay"in d&&l(4,s=d.autoplay),"show_share_button"in d&&l(5,a=d.show_share_button),"i18n"in d&&l(6,c=d.i18n)},n.$$.update=()=>{n.$$.dirty&1&&t&&f("change",t)},[t,o,i,u,s,a,c,m,g,w,V,U,B,E]}class Bl extends gl{constructor(e){super(),wl(this,e,zl,Nl,Ut,{value:0,subtitle:1,label:2,show_label:3,autoplay:4,show_share_button:5,i18n:6})}}const{SvelteComponent:Vl,add_flush_callback:El,append:wt,attr:kt,bind:Dl,binding_callbacks:Il,bubble:ne,check_outros:Be,create_component:be,create_slot:Ul,destroy_component:ge,detach:G,element:vt,empty:Ve,get_all_dirty_from_scope:Ml,get_slot_changes:Pl,group_outros:Ee,init:jl,insert:K,mount_component:pe,noop:Le,safe_not_equal:Mt,set_data:yt,space:Ye,text:St,transition_in:P,transition_out:j,update_slot_base:Al}=window.__gradio__svelte__internal,{createEventDispatcher:Fl}=window.__gradio__svelte__internal;function Rl(n){let e,l,t,o,i,u,s;e=new Yt({props:{i18n:n[9]}}),e.$on("clear",n[13]);const a=[Jl,Hl],c=[];function r(_,f){return t==null&&(t=!!$t()),t?0:_[0].size?1:-1}return~(o=r(n))&&(i=c[o]=a[o](n)),{c(){be(e.$$.fragment),l=Ye(),i&&i.c(),u=Ve()},m(_,f){pe(e,_,f),K(_,l,f),~o&&c[o].m(_,f),K(_,u,f),s=!0},p(_,f){const m={};f&512&&(m.i18n=_[9]),e.$set(m);let g=o;o=r(_),o===g?~o&&c[o].p(_,f):(i&&(Ee(),j(c[g],1,1,()=>{c[g]=null}),Be()),~o?(i=c[o],i?i.p(_,f):(i=c[o]=a[o](_),i.c()),P(i,1),i.m(u.parentNode,u)):i=null)},i(_){s||(P(e.$$.fragment,_),P(i),s=!0)},o(_){j(e.$$.fragment,_),j(i),s=!1},d(_){_&&(G(l),G(u)),ge(e,_),~o&&c[o].d(_)}}}function Xl(n){let e,l,t,o;const i=[Wl,Ol],u=[];function s(a,c){return a[2]==="upload"?0:a[2]==="webcam"?1:-1}return~(e=s(n))&&(l=u[e]=i[e](n)),{c(){l&&l.c(),t=Ve()},m(a,c){~e&&u[e].m(a,c),K(a,t,c),o=!0},p(a,c){let r=e;e=s(a),e===r?~e&&u[e].p(a,c):(l&&(Ee(),j(u[r],1,1,()=>{u[r]=null}),Be()),~e?(l=u[e],l?l.p(a,c):(l=u[e]=i[e](a),l.c()),P(l,1),l.m(t.parentNode,t)):l=null)},i(a){o||(P(l),o=!0)},o(a){j(l),o=!1},d(a){a&&G(t),~e&&u[e].d(a)}}}function Hl(n){let e,l=n[0].name+"",t,o,i,u=et(n[0].size)+"",s;return{c(){e=vt("div"),t=St(l),o=Ye(),i=vt("div"),s=St(u),kt(e,"class","file-name svelte-a6ruol"),kt(i,"class","file-size svelte-a6ruol")},m(a,c){K(a,e,c),wt(e,t),K(a,o,c),K(a,i,c),wt(i,s)},p(a,c){c&1&&l!==(l=a[0].name+"")&&yt(t,l),c&1&&u!==(u=et(a[0].size)+"")&&yt(s,u)},i:Le,o:Le,d(a){a&&(G(e),G(o),G(i))}}}function Jl(n){let e=n[0]?.data,l,t,o=Ct(n);return{c(){o.c(),l=Ve()},m(i,u){o.m(i,u),K(i,l,u),t=!0},p(i,u){u&1&&Mt(e,e=i[0]?.data)?(Ee(),j(o,1,1,Le),Be(),o=Ct(i),o.c(),P(o,1),o.m(l.parentNode,l)):o.p(i,u)},i(i){t||(P(o),t=!0)},o(i){j(o),t=!1},d(i){i&&G(l),o.d(i)}}}function Ct(n){let e,l;return e=new It({props:{autoplay:n[7],src:n[0].data,subtitle:n[1]?.data,mirror:n[5]&&n[2]==="webcam",label:n[3]}}),e.$on("play",n[20]),e.$on("pause",n[21]),e.$on("stop",n[22]),e.$on("end",n[23]),{c(){be(e.$$.fragment)},m(t,o){pe(e,t,o),l=!0},p(t,o){const i={};o&128&&(i.autoplay=t[7]),o&1&&(i.src=t[0].data),o&2&&(i.subtitle=t[1]?.data),o&36&&(i.mirror=t[5]&&t[2]==="webcam"),o&8&&(i.label=t[3]),e.$set(i)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function Ol(n){let e,l;return e=new en({props:{mirror_webcam:n[5],include_audio:n[6],mode:"video",i18n:n[9]}}),e.$on("error",n[16]),e.$on("capture",n[17]),e.$on("start_recording",n[18]),e.$on("stop_recording",n[19]),{c(){be(e.$$.fragment)},m(t,o){pe(e,t,o),l=!0},p(t,o){const i={};o&32&&(i.mirror_webcam=t[5]),o&64&&(i.include_audio=t[6]),o&512&&(i.i18n=t[9]),e.$set(i)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function Wl(n){let e,l,t;function o(u){n[15](u)}let i={filetype:"video/x-m4v,video/*",root:n[8],$$slots:{default:[Ll]},$$scope:{ctx:n}};return n[10]!==void 0&&(i.dragging=n[10]),e=new xt({props:i}),Il.push(()=>Dl(e,"dragging",o)),e.$on("load",n[12]),{c(){be(e.$$.fragment)},m(u,s){pe(e,u,s),t=!0},p(u,s){const a={};s&256&&(a.root=u[8]),s&16777216&&(a.$$scope={dirty:s,ctx:u}),!l&&s&1024&&(l=!0,a.dragging=u[10],El(()=>l=!1)),e.$set(a)},i(u){t||(P(e.$$.fragment,u),t=!0)},o(u){j(e.$$.fragment,u),t=!1},d(u){ge(e,u)}}}function Ll(n){let e;const l=n[14].default,t=Ul(l,n,n[24],null);return{c(){t&&t.c()},m(o,i){t&&t.m(o,i),e=!0},p(o,i){t&&t.p&&(!e||i&16777216)&&Al(t,l,o,o[24],e?Pl(l,o[24],i,null):Ml(o[24]),null)},i(o){e||(P(t,o),e=!0)},o(o){j(t,o),e=!1},d(o){t&&t.d(o)}}}function Gl(n){let e,l,t,o,i,u;e=new Nt({props:{show_label:n[4],Icon:Ge,label:n[3]||"Video"}});const s=[Xl,Rl],a=[];function c(r,_){return r[0]===null?0:1}return t=c(n),o=a[t]=s[t](n),{c(){be(e.$$.fragment),l=Ye(),o.c(),i=Ve()},m(r,_){pe(e,r,_),K(r,l,_),a[t].m(r,_),K(r,i,_),u=!0},p(r,[_]){const f={};_&16&&(f.show_label=r[4]),_&8&&(f.label=r[3]||"Video"),e.$set(f);let m=t;t=c(r),t===m?a[t].p(r,_):(Ee(),j(a[m],1,1,()=>{a[m]=null}),Be(),o=a[t],o?o.p(r,_):(o=a[t]=s[t](r),o.c()),P(o,1),o.m(i.parentNode,i))},i(r){u||(P(e.$$.fragment,r),P(o),u=!0)},o(r){j(e.$$.fragment,r),j(o),u=!1},d(r){r&&(G(l),G(i)),ge(e,r),a[t].d(r)}}}function Kl(n,e,l){let{$$slots:t={},$$scope:o}=e,{value:i=null}=e,{subtitle:u=null}=e,{source:s}=e,{label:a=void 0}=e,{show_label:c=!0}=e,{mirror_webcam:r=!1}=e,{include_audio:_}=e,{autoplay:f}=e,{root:m}=e,{i18n:g}=e;const w=Fl();function V({detail:b}){l(0,i=b),w("change",b),w("upload",b)}function U({detail:b}){l(0,i=null),w("change",b),w("clear")}let B=!1;function E(b){B=b,l(10,B)}function d(b){ne.call(this,n,b)}const v=({detail:b})=>w("change",b);function D(b){ne.call(this,n,b)}function X(b){ne.call(this,n,b)}function p(b){ne.call(this,n,b)}function S(b){ne.call(this,n,b)}function q(b){ne.call(this,n,b)}function I(b){ne.call(this,n,b)}return n.$$set=b=>{"value"in b&&l(0,i=b.value),"subtitle"in b&&l(1,u=b.subtitle),"source"in b&&l(2,s=b.source),"label"in b&&l(3,a=b.label),"show_label"in b&&l(4,c=b.show_label),"mirror_webcam"in b&&l(5,r=b.mirror_webcam),"include_audio"in b&&l(6,_=b.include_audio),"autoplay"in b&&l(7,f=b.autoplay),"root"in b&&l(8,m=b.root),"i18n"in b&&l(9,g=b.i18n),"$$scope"in b&&l(24,o=b.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&w("drag",B)},[i,u,s,a,c,r,_,f,m,g,B,w,V,U,t,E,d,v,D,X,p,S,q,I,o]}class Ql extends Vl{constructor(e){super(),jl(this,e,Kl,Gl,Mt,{value:0,subtitle:1,source:2,label:3,show_label:4,mirror_webcam:5,include_audio:6,autoplay:7,root:8,i18n:9})}}const{SvelteComponent:Yl,assign:Pt,check_outros:Zl,create_component:ie,destroy_component:ae,detach:Ze,empty:$l,flush:y,get_spread_object:jt,get_spread_update:At,group_outros:xl,init:eo,insert:$e,mount_component:re,safe_not_equal:to,space:Ft,transition_in:Q,transition_out:Y}=window.__gradio__svelte__internal;function no(n){let e,l;return e=new qt({props:{visible:n[4],variant:n[0]===null&&n[6]==="upload"?"dashed":"solid",border_mode:n[22]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],height:n[9],width:n[10],container:n[11],scale:n[12],min_width:n[13],allow_overflow:!1,$$slots:{default:[io]},$$scope:{ctx:n}}}),{c(){ie(e.$$.fragment)},m(t,o){re(e,t,o),l=!0},p(t,o){const i={};o[0]&16&&(i.visible=t[4]),o[0]&65&&(i.variant=t[0]===null&&t[6]==="upload"?"dashed":"solid"),o[0]&4194304&&(i.border_mode=t[22]?"focus":"base"),o[0]&4&&(i.elem_id=t[2]),o[0]&8&&(i.elem_classes=t[3]),o[0]&512&&(i.height=t[9]),o[0]&1024&&(i.width=t[10]),o[0]&2048&&(i.container=t[11]),o[0]&4096&&(i.scale=t[12]),o[0]&8192&&(i.min_width=t[13]),o[0]&8208866|o[1]&2048&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){l||(Q(e.$$.fragment,t),l=!0)},o(t){Y(e.$$.fragment,t),l=!1},d(t){ae(e,t)}}}function lo(n){let e,l;return e=new qt({props:{visible:n[4],variant:n[0]===null&&n[6]==="upload"?"dashed":"solid",border_mode:n[22]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],height:n[9],width:n[10],container:n[11],scale:n[12],min_width:n[13],allow_overflow:!1,$$slots:{default:[ao]},$$scope:{ctx:n}}}),{c(){ie(e.$$.fragment)},m(t,o){re(e,t,o),l=!0},p(t,o){const i={};o[0]&16&&(i.visible=t[4]),o[0]&65&&(i.variant=t[0]===null&&t[6]==="upload"?"dashed":"solid"),o[0]&4194304&&(i.border_mode=t[22]?"focus":"base"),o[0]&4&&(i.elem_id=t[2]),o[0]&8&&(i.elem_classes=t[3]),o[0]&512&&(i.height=t[9]),o[0]&1024&&(i.width=t[10]),o[0]&2048&&(i.container=t[11]),o[0]&4096&&(i.scale=t[12]),o[0]&8192&&(i.min_width=t[13]),o[0]&3260706|o[1]&2048&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){l||(Q(e.$$.fragment,t),l=!0)},o(t){Y(e.$$.fragment,t),l=!1},d(t){ae(e,t)}}}function oo(n){let e,l;return e=new Ot({props:{i18n:n[16].i18n,type:"video"}}),{c(){ie(e.$$.fragment)},m(t,o){re(e,t,o),l=!0},p(t,o){const i={};o[0]&65536&&(i.i18n=t[16].i18n),e.$set(i)},i(t){l||(Q(e.$$.fragment,t),l=!0)},o(t){Y(e.$$.fragment,t),l=!1},d(t){ae(e,t)}}}function io(n){let e,l,t,o;const i=[{autoscroll:n[16].autoscroll},{i18n:n[16].i18n},n[1]];let u={};for(let s=0;s<i.length;s+=1)u=Pt(u,i[s]);return e=new Tt({props:u}),t=new Ql({props:{value:n[20],subtitle:n[21],label:n[5],show_label:n[8],source:n[6],mirror_webcam:n[18],include_audio:n[19],autoplay:n[14],root:n[7],i18n:n[16].i18n,$$slots:{default:[oo]},$$scope:{ctx:n}}}),t.$on("change",n[23]),t.$on("drag",n[32]),t.$on("error",n[33]),t.$on("clear",n[34]),t.$on("play",n[35]),t.$on("pause",n[36]),t.$on("upload",n[37]),t.$on("stop",n[38]),t.$on("end",n[39]),t.$on("start_recording",n[40]),t.$on("stop_recording",n[41]),{c(){ie(e.$$.fragment),l=Ft(),ie(t.$$.fragment)},m(s,a){re(e,s,a),$e(s,l,a),re(t,s,a),o=!0},p(s,a){const c=a[0]&65538?At(i,[a[0]&65536&&{autoscroll:s[16].autoscroll},a[0]&65536&&{i18n:s[16].i18n},a[0]&2&&jt(s[1])]):{};e.$set(c);const r={};a[0]&1048576&&(r.value=s[20]),a[0]&2097152&&(r.subtitle=s[21]),a[0]&32&&(r.label=s[5]),a[0]&256&&(r.show_label=s[8]),a[0]&64&&(r.source=s[6]),a[0]&262144&&(r.mirror_webcam=s[18]),a[0]&524288&&(r.include_audio=s[19]),a[0]&16384&&(r.autoplay=s[14]),a[0]&128&&(r.root=s[7]),a[0]&65536&&(r.i18n=s[16].i18n),a[0]&65536|a[1]&2048&&(r.$$scope={dirty:a,ctx:s}),t.$set(r)},i(s){o||(Q(e.$$.fragment,s),Q(t.$$.fragment,s),o=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),o=!1},d(s){s&&Ze(l),ae(e,s),ae(t,s)}}}function ao(n){let e,l,t,o;const i=[{autoscroll:n[16].autoscroll},{i18n:n[16].i18n},n[1]];let u={};for(let s=0;s<i.length;s+=1)u=Pt(u,i[s]);return e=new Tt({props:u}),t=new Bl({props:{value:n[20],subtitle:n[21],label:n[5],show_label:n[8],autoplay:n[14],show_share_button:n[15],i18n:n[16].i18n}}),t.$on("play",n[26]),t.$on("pause",n[27]),t.$on("stop",n[28]),t.$on("end",n[29]),t.$on("share",n[30]),t.$on("error",n[31]),{c(){ie(e.$$.fragment),l=Ft(),ie(t.$$.fragment)},m(s,a){re(e,s,a),$e(s,l,a),re(t,s,a),o=!0},p(s,a){const c=a[0]&65538?At(i,[a[0]&65536&&{autoscroll:s[16].autoscroll},a[0]&65536&&{i18n:s[16].i18n},a[0]&2&&jt(s[1])]):{};e.$set(c);const r={};a[0]&1048576&&(r.value=s[20]),a[0]&2097152&&(r.subtitle=s[21]),a[0]&32&&(r.label=s[5]),a[0]&256&&(r.show_label=s[8]),a[0]&16384&&(r.autoplay=s[14]),a[0]&32768&&(r.show_share_button=s[15]),a[0]&65536&&(r.i18n=s[16].i18n),t.$set(r)},i(s){o||(Q(e.$$.fragment,s),Q(t.$$.fragment,s),o=!0)},o(s){Y(e.$$.fragment,s),Y(t.$$.fragment,s),o=!1},d(s){s&&Ze(l),ae(e,s),ae(t,s)}}}function ro(n){let e,l,t,o;const i=[lo,no],u=[];function s(a,c){return a[17]==="static"?0:1}return e=s(n),l=u[e]=i[e](n),{c(){l.c(),t=$l()},m(a,c){u[e].m(a,c),$e(a,t,c),o=!0},p(a,c){let r=e;e=s(a),e===r?u[e].p(a,c):(xl(),Y(u[r],1,1,()=>{u[r]=null}),Zl(),l=u[e],l?l.p(a,c):(l=u[e]=i[e](a),l.c()),Q(l,1),l.m(t.parentNode,t))},i(a){o||(Q(l),o=!0)},o(a){Y(l),o=!1},d(a){a&&Ze(t),u[e].d(a)}}}function so(n,e,l){let{elem_id:t=""}=e,{elem_classes:o=[]}=e,{visible:i=!0}=e,{value:u=null}=e,s=null,{label:a}=e,{source:c}=e,{root:r}=e,{root_url:_}=e,{show_label:f}=e,{loading_status:m}=e,{height:g}=e,{width:w}=e,{container:V=!1}=e,{scale:U=null}=e,{min_width:B=void 0}=e,{autoplay:E=!1}=e,{show_share_button:d=!0}=e,{gradio:v}=e,{mode:D}=e,{mirror_webcam:X}=e,{include_audio:p}=e,S=null,q=null,I=!1;function b({detail:h}){h!=null?l(0,u={video:h,subtitles:null}):l(0,u=null)}const we=()=>v.dispatch("play"),De=()=>v.dispatch("pause"),Ie=()=>v.dispatch("stop"),Ue=()=>v.dispatch("end"),Me=({detail:h})=>v.dispatch("share",h),$=({detail:h})=>v.dispatch("error",h),ke=({detail:h})=>l(22,I=h),W=({detail:h})=>{l(1,m=m||{}),l(1,m.status="error",m),l(1,m.message=h,m)},ve=()=>v.dispatch("clear"),k=()=>v.dispatch("play"),C=()=>v.dispatch("pause"),H=()=>v.dispatch("upload"),ce=()=>v.dispatch("stop"),Rt=()=>v.dispatch("end"),Xt=()=>v.dispatch("start_recording"),Ht=()=>v.dispatch("stop_recording");return n.$$set=h=>{"elem_id"in h&&l(2,t=h.elem_id),"elem_classes"in h&&l(3,o=h.elem_classes),"visible"in h&&l(4,i=h.visible),"value"in h&&l(0,u=h.value),"label"in h&&l(5,a=h.label),"source"in h&&l(6,c=h.source),"root"in h&&l(7,r=h.root),"root_url"in h&&l(24,_=h.root_url),"show_label"in h&&l(8,f=h.show_label),"loading_status"in h&&l(1,m=h.loading_status),"height"in h&&l(9,g=h.height),"width"in h&&l(10,w=h.width),"container"in h&&l(11,V=h.container),"scale"in h&&l(12,U=h.scale),"min_width"in h&&l(13,B=h.min_width),"autoplay"in h&&l(14,E=h.autoplay),"show_share_button"in h&&l(15,d=h.show_share_button),"gradio"in h&&l(16,v=h.gradio),"mode"in h&&l(17,D=h.mode),"mirror_webcam"in h&&l(18,X=h.mirror_webcam),"include_audio"in h&&l(19,p=h.include_audio)},n.$$.update=()=>{n.$$.dirty[0]&16777345&&(u!=null?(l(20,S=xe(u.video,r,_)),l(21,q=xe(u.subtitles,r,_))):(l(20,S=null),l(21,q=null))),n.$$.dirty[0]&33619969&&JSON.stringify(u)!==JSON.stringify(s)&&(l(25,s=u),v.dispatch("change"))},[u,m,t,o,i,a,c,r,f,g,w,V,U,B,E,d,v,D,X,p,S,q,I,b,_,s,we,De,Ie,Ue,Me,$,ke,W,ve,k,C,H,ce,Rt,Xt,Ht]}class qo extends Yl{constructor(e){super(),eo(this,e,so,ro,to,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,source:6,root:7,root_url:24,show_label:8,loading_status:1,height:9,width:10,container:11,scale:12,min_width:13,autoplay:14,show_share_button:15,gradio:16,mode:17,mirror_webcam:18,include_audio:19},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),y()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),y()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),y()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),y()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),y()}get source(){return this.$$.ctx[6]}set source(e){this.$$set({source:e}),y()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),y()}get root_url(){return this.$$.ctx[24]}set root_url(e){this.$$set({root_url:e}),y()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),y()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),y()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),y()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),y()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),y()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),y()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),y()}get autoplay(){return this.$$.ctx[14]}set autoplay(e){this.$$set({autoplay:e}),y()}get show_share_button(){return this.$$.ctx[15]}set show_share_button(e){this.$$set({show_share_button:e}),y()}get gradio(){return this.$$.ctx[16]}set gradio(e){this.$$set({gradio:e}),y()}get mode(){return this.$$.ctx[17]}set mode(e){this.$$set({mode:e}),y()}get mirror_webcam(){return this.$$.ctx[18]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),y()}get include_audio(){return this.$$.ctx[19]}set include_audio(e){this.$$set({include_audio:e}),y()}}export{qo as default};
//# sourceMappingURL=Index-3bc03b15.js.map
