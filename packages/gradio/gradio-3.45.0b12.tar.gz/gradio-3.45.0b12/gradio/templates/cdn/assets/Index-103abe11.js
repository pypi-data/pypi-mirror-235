import{c as Cl,a as Zt,B as zl}from"./Button-e579bb09.js";import{S as Ll}from"./Index-236fa2b5.js";import{d as re}from"./index-2f00b72c.js";import{U as Dl}from"./Upload-560a5a61.js";import{M as El}from"./Index.svelte_svelte_type_style_lang-c92202c7.js";import{d as Bl}from"./dsv-576afacd.js";import"./index-9d2dd462.js";import"./svelte/svelte.js";const{HtmlTag:Hl,SvelteComponent:Tl,action_destroyer:Rl,attr:ye,binding_callbacks:Nl,bubble:it,check_outros:jl,create_component:Fl,destroy_component:Ol,detach:Re,element:Gt,empty:Pl,group_outros:Ul,init:Wl,insert:Ne,listen:Te,mount_component:Jl,noop:Ie,prevent_default:Vl,run_all:Qt,safe_not_equal:Il,set_data:Kl,set_input_value:At,space:Yl,text:Zl,toggle_class:Ke,transition_in:at,transition_out:rt}=window.__gradio__svelte__internal,{createEventDispatcher:Gl}=window.__gradio__svelte__internal;function qt(n){let e,t,l;return{c(){e=Gt("input"),ye(e,"tabindex","-1"),ye(e,"class","svelte-q8uklq"),Ke(e,"header",n[5])},m(i,r){Ne(i,e,r),n[18](e),At(e,n[10]),t||(l=[Te(e,"input",n[19]),Te(e,"blur",n[20]),Rl(n[12].call(null,e)),Te(e,"keydown",n[17])],t=!0)},p(i,r){r&1024&&e.value!==i[10]&&At(e,i[10]),r&32&&Ke(e,"header",i[5])},d(i){i&&Re(e),n[18](null),t=!1,Qt(l)}}}function Ql(n){let e=(n[9]?n[0]:n[3]||n[0])+"",t;return{c(){t=Zl(e)},m(l,i){Ne(l,t,i)},p(l,i){i&521&&e!==(e=(l[9]?l[0]:l[3]||l[0])+"")&&Kl(t,e)},i:Ie,o:Ie,d(l){l&&Re(t)}}}function Xl(n){let e,t;return e=new El({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1}}),{c(){Fl(e.$$.fragment)},m(l,i){Jl(e,l,i),t=!0},p(l,i){const r={};i&1&&(r.message=l[0].toLocaleString()),i&128&&(r.latex_delimiters=l[7]),i&256&&(r.line_breaks=l[8]),e.$set(r)},i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){rt(e.$$.fragment,l),t=!1},d(l){Ol(e,l)}}}function xl(n){let e,t;return{c(){e=new Hl(!1),t=Pl(),e.a=t},m(l,i){e.m(n[0],l,i),Ne(l,t,i)},p(l,i){i&1&&e.p(l[0])},i:Ie,o:Ie,d(l){l&&(Re(t),e.d())}}}function $l(n){let e,t,l,i,r,f,s,o=n[2]&&qt(n);const h=[xl,Xl,Ql],u=[];function b(m,k){return m[6]==="html"?0:m[6]==="markdown"?1:2}return l=b(n),i=u[l]=h[l](n),{c(){o&&o.c(),e=Yl(),t=Gt("span"),i.c(),ye(t,"tabindex","-1"),ye(t,"role","button"),ye(t,"style",n[4]),ye(t,"class","svelte-q8uklq"),Ke(t,"edit",n[2])},m(m,k){o&&o.m(m,k),Ne(m,e,k),Ne(m,t,k),u[l].m(t,null),r=!0,f||(s=[Te(t,"dblclick",n[15]),Te(t,"focus",Vl(n[16]))],f=!0)},p(m,[k]){m[2]?o?o.p(m,k):(o=qt(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null);let A=l;l=b(m),l===A?u[l].p(m,k):(Ul(),rt(u[A],1,1,()=>{u[A]=null}),jl(),i=u[l],i?i.p(m,k):(i=u[l]=h[l](m),i.c()),at(i,1),i.m(t,null)),(!r||k&16)&&ye(t,"style",m[4]),(!r||k&4)&&Ke(t,"edit",m[2])},i(m){r||(at(i),r=!0)},o(m){rt(i),r=!1},d(m){m&&(Re(e),Re(t)),o&&o.d(m),u[l].d(),f=!1,Qt(s)}}}function en(n,e,t){let l,{edit:i}=e,{value:r=""}=e,{display_value:f=null}=e,{styling:s=""}=e,{header:o=!1}=e,{datatype:h="str"}=e,{latex_delimiters:u}=e,{clear_on_focus:b=!1}=e,{select_on_focus:m=!1}=e,{line_breaks:k=!0}=e,{editable:A=!0}=e;const z=Gl();let{el:C}=e;function E(d){return b&&t(10,l=""),m&&d.select(),d.focus(),{}}function H(d){it.call(this,n,d)}function v(d){it.call(this,n,d)}function g(d){it.call(this,n,d)}function D(d){Nl[d?"unshift":"push"](()=>{C=d,t(1,C)})}function T(){l=this.value,t(10,l),t(0,r)}const q=({currentTarget:d})=>{t(0,r=d.value),z("blur")};return n.$$set=d=>{"edit"in d&&t(2,i=d.edit),"value"in d&&t(0,r=d.value),"display_value"in d&&t(3,f=d.display_value),"styling"in d&&t(4,s=d.styling),"header"in d&&t(5,o=d.header),"datatype"in d&&t(6,h=d.datatype),"latex_delimiters"in d&&t(7,u=d.latex_delimiters),"clear_on_focus"in d&&t(13,b=d.clear_on_focus),"select_on_focus"in d&&t(14,m=d.select_on_focus),"line_breaks"in d&&t(8,k=d.line_breaks),"editable"in d&&t(9,A=d.editable),"el"in d&&t(1,C=d.el)},n.$$.update=()=>{n.$$.dirty&1&&t(10,l=r)},[r,C,i,f,s,o,h,u,k,A,l,z,E,b,m,H,v,g,D,T,q]}class Ge extends Tl{constructor(e){super(),Wl(this,e,en,$l,Il,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:13,select_on_focus:14,line_breaks:8,editable:9,el:1})}}const{SvelteComponent:tn,add_iframe_resize_listener:st,add_render_callback:ot,append:Ce,attr:We,binding_callbacks:Mt,check_outros:Xt,create_slot:ft,detach:Qe,element:Be,empty:xt,ensure_array_like:St,get_all_dirty_from_scope:ut,get_slot_changes:_t,group_outros:$t,init:ln,insert:Xe,listen:nn,outro_and_destroy_block:sn,safe_not_equal:on,set_style:oe,space:Ct,text:an,transition_in:Ae,transition_out:ze,update_keyed_each:rn,update_slot_base:ct}=window.__gradio__svelte__internal,{onMount:fn,tick:Je}=window.__gradio__svelte__internal,un=n=>({}),zt=n=>({});function Lt(n,e,t){const l=n.slice();return l[34]=e[t],l}const _n=n=>({item:n[0]&256,index:n[0]&256}),Dt=n=>({item:n[34].data,index:n[34].index}),cn=n=>({}),Et=n=>({});function Bt(n){let e=[],t=new Map,l,i,r=St(n[8]);const f=s=>s[34].data[0].id;for(let s=0;s<r.length;s+=1){let o=Lt(n,r,s),h=f(o);t.set(h,e[s]=Ht(h,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=xt()},m(s,o){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(s,o);Xe(s,l,o),i=!0},p(s,o){o[0]&2097408&&(r=St(s[8]),$t(),e=rn(e,o,f,1,s,r,t,l.parentNode,sn,Ht,l,Lt),Xt())},i(s){if(!i){for(let o=0;o<r.length;o+=1)Ae(e[o]);i=!0}},o(s){for(let o=0;o<e.length;o+=1)ze(e[o]);i=!1},d(s){s&&Qe(l);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function hn(n){let e;return{c(){e=an(`Missing Table Row
					`)},m(t,l){Xe(t,e,l)},d(t){t&&Qe(e)}}}function Ht(n,e){let t,l;const i=e[22].tbody,r=ft(i,e,e[21],Dt),f=r||hn();return{key:n,first:null,c(){t=xt(),f&&f.c(),this.first=t},m(s,o){Xe(s,t,o),f&&f.m(s,o),l=!0},p(s,o){e=s,r&&r.p&&(!l||o[0]&2097408)&&ct(r,i,e,e[21],l?_t(i,e[21],o,_n):ut(e[21]),Dt)},i(s){l||(Ae(f,s),l=!0)},o(s){ze(f,s),l=!1},d(s){s&&Qe(t),f&&f.d(s)}}}function dn(n){let e,t,l,i,r,f,s,o,h,u,b,m,k;const A=n[22].thead,z=ft(A,n,n[21],Et);let C=n[8].length&&n[8][0].data.length&&Bt(n);const E=n[22].tfoot,H=ft(E,n,n[21],zt);return{c(){e=Be("svelte-virtual-table-viewport"),t=Be("table"),l=Be("thead"),z&&z.c(),r=Ct(),f=Be("tbody"),C&&C.c(),s=Ct(),o=Be("tfoot"),H&&H.c(),We(l,"class","thead svelte-1jok1de"),ot(()=>n[23].call(l)),We(f,"class","tbody svelte-1jok1de"),We(o,"class","tfoot svelte-1jok1de"),ot(()=>n[25].call(o)),We(t,"class","table svelte-1jok1de"),oe(t,"height",gn),oe(t,"--bw-svt-p-top",n[5]+"px"),oe(t,"--bw-svt-p-bottom",n[1]+"px"),oe(t,"--bw-svt-head-height",n[3]+"px"),oe(t,"--bw-svt-foot-height",n[4]+"px"),oe(t,"--bw-svt-avg-row-height",n[0]+"px"),ot(()=>n[27].call(t))},m(v,g){Xe(v,e,g),Ce(e,t),Ce(t,l),z&&z.m(l,null),i=st(l,n[23].bind(l)),Ce(t,r),Ce(t,f),C&&C.m(f,null),n[24](f),Ce(t,s),Ce(t,o),H&&H.m(o,null),h=st(o,n[25].bind(o)),n[26](t),u=st(t,n[27].bind(t)),b=!0,m||(k=nn(t,"scroll",n[9]),m=!0)},p(v,g){z&&z.p&&(!b||g[0]&2097152)&&ct(z,A,v,v[21],b?_t(A,v[21],g,cn):ut(v[21]),Et),v[8].length&&v[8][0].data.length?C?(C.p(v,g),g[0]&256&&Ae(C,1)):(C=Bt(v),C.c(),Ae(C,1),C.m(f,null)):C&&($t(),ze(C,1,1,()=>{C=null}),Xt()),H&&H.p&&(!b||g[0]&2097152)&&ct(H,E,v,v[21],b?_t(E,v[21],g,un):ut(v[21]),zt),(!b||g[0]&32)&&oe(t,"--bw-svt-p-top",v[5]+"px"),(!b||g[0]&2)&&oe(t,"--bw-svt-p-bottom",v[1]+"px"),(!b||g[0]&8)&&oe(t,"--bw-svt-head-height",v[3]+"px"),(!b||g[0]&16)&&oe(t,"--bw-svt-foot-height",v[4]+"px"),(!b||g[0]&1)&&oe(t,"--bw-svt-avg-row-height",v[0]+"px")},i(v){b||(Ae(z,v),Ae(C),Ae(H,v),b=!0)},o(v){ze(z,v),ze(C),ze(H,v),b=!1},d(v){v&&Qe(e),z&&z.d(v),i(),C&&C.d(),n[24](null),H&&H.d(v),h(),n[26](null),u(),m=!1,k()}}}let gn="100%";function bn(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function mn(n,e,t){let l,{$$slots:i={},$$scope:r}=e,{items:f=[]}=e,{table_width:s}=e,{max_height:o}=e,{actual_height:h}=e,{table_scrollbar_width:u}=e,{start:b=0}=e,{end:m=0}=e,{selected:k}=e,A,z=0,C,E=0,H=0,v=[],g,D,T=0,q,d=0,le=[],R=0;async function y(M){if(d===0||s===0)return;const{scrollTop:V}=q;t(13,u=q.offsetWidth-q.clientWidth),R=T-(V-E);let Q=b;for(;R<o&&Q<M.length;){let j=D[Q-b];j||(t(11,m=Q+1),await Je(),j=D[Q-b]);let W=j?.getBoundingClientRect().height;W||(W=A);const Se=v[Q]=W;R+=Se,Q+=1}t(11,m=Q);const ne=M.length-m,Z=q.offsetHeight-q.clientHeight;Z>0&&(R+=Z);let X=v.filter(j=>typeof j=="number");t(0,A=X.reduce((j,W)=>j+W,0)/X.length),t(1,z=ne*A),v.length=M.length,await Je(),o?R<o?t(12,h=R+2):t(12,h=o):t(12,h=R+1),await Je()}async function _e(M){requestAnimationFrame(async()=>{if(typeof M!="number")return;const V=typeof M!="number"?!1:x(M);V!==!0&&(V==="back"&&await N(M,{behavior:"instant"}),V==="forwards"&&await N(M,{behavior:"instant"},!0))})}function x(M){const V=D&&D[M-b];if(!V&&M<b)return"back";if(!V&&M>=m-1)return"forwards";const{top:Q}=q.getBoundingClientRect(),{top:ne,bottom:Z}=V.getBoundingClientRect();return ne-Q<37?"back":Z-Q>d?"forwards":!0}async function ce(M){const V=q.scrollTop;D=C.children;const Q=l.length<b,ne=bn(D[1],"border-top-width"),Z=0;Q&&await N(l.length-1,{behavior:"auto"});let X=0;for(let ie=0;ie<D.length;ie+=1)v[b+ie]=D[ie].getBoundingClientRect().height;let j=0,W=E+ne/2,Se=[];for(;j<l.length;){const ie=v[j]||A;if(Se[j]=ie,W+ie+Z>V){X=j,t(5,T=W-(E+ne/2));break}W+=ie,j+=1}for(X=Math.max(0,X);j<l.length;){const ie=v[j]||A;if(W+=ie,j+=1,W>V+d)break}t(10,b=X),t(11,m=j);const I=l.length-m;m===0&&t(11,m=10),t(0,A=(W-E)/m);let De=I*A;for(;j<l.length;)j+=1,v[j]=A;t(1,z=De),isFinite(z)||t(1,z=2e5)}async function N(M,V,Q=!1){await Je();const ne=A;let Z=M*ne;Q&&(Z=Z-d+ne+E);const X=q.offsetHeight-q.clientHeight;X>0&&(Z+=X);const j={top:Z,behavior:"smooth",...V};q.scrollTo(j)}fn(()=>{D=C.children,t(19,g=!0),y(f)});function c(){E=this.offsetHeight,t(3,E)}function p(M){Mt[M?"unshift":"push"](()=>{C=M,t(2,C)})}function P(){H=this.offsetHeight,t(4,H)}function xe(M){Mt[M?"unshift":"push"](()=>{q=M,t(6,q)})}function Le(){d=this.offsetHeight,t(7,d)}return n.$$set=M=>{"items"in M&&t(14,f=M.items),"table_width"in M&&t(15,s=M.table_width),"max_height"in M&&t(16,o=M.max_height),"actual_height"in M&&t(12,h=M.actual_height),"table_scrollbar_width"in M&&t(13,u=M.table_scrollbar_width),"start"in M&&t(10,b=M.start),"end"in M&&t(11,m=M.end),"selected"in M&&t(17,k=M.selected),"$$scope"in M&&t(21,r=M.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&16384&&t(20,l=f),n.$$.dirty[0]&1572864&&g&&requestAnimationFrame(()=>y(l)),n.$$.dirty[0]&131072&&_e(k),n.$$.dirty[0]&1051648&&t(8,le=l.slice(b,m).map((M,V)=>({index:V+b,data:M})))},[A,z,C,E,H,T,q,d,le,ce,b,m,h,u,f,s,o,k,N,g,l,r,i,c,p,P,xe,Le]}class wn extends tn{constructor(e){super(),ln(this,e,mn,dn,on,{items:14,table_width:15,max_height:16,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:17,scroll_to_index:18},null,[-1,-1])}get scroll_to_index(){return this.$$.ctx[18]}}const{SvelteComponent:kn,action_destroyer:pn,add_flush_callback:ge,add_iframe_resize_listener:vn,add_render_callback:yn,append:B,attr:w,bind:be,binding_callbacks:ae,check_outros:qe,create_component:ke,destroy_component:pe,detach:K,element:O,empty:An,ensure_array_like:he,group_outros:Me,init:qn,insert:Y,listen:de,mount_component:ve,outro_and_destroy_block:Ye,run_all:el,safe_not_equal:Mn,set_data:je,set_style:me,space:ee,svg_element:we,text:Fe,toggle_class:U,transition_in:J,transition_out:G,update_keyed_each:Ze}=window.__gradio__svelte__internal,{createEventDispatcher:Sn,tick:Ve,onMount:Cn}=window.__gradio__svelte__internal;function Tt(n,e,t){const l=n.slice();return l[12]=e[t].value,l[87]=e[t].id,l[90]=e,l[91]=t,l}function Rt(n,e,t){const l=n.slice();return l[12]=e[t].value,l[87]=e[t].id,l[88]=e,l[89]=t,l}function Nt(n,e,t){const l=n.slice();return l[12]=e[t].value,l[87]=e[t].id,l[92]=e,l[89]=t,l}function jt(n,e,t){const l=n.slice();return l[12]=e[t].value,l[87]=e[t].id,l[91]=t,l}function Ft(n){let e,t;return{c(){e=O("p"),t=Fe(n[1]),w(e,"class","svelte-1bvc1p0")},m(l,i){Y(l,e,i),B(e,t)},p(l,i){i[0]&2&&je(t,l[1])},d(l){l&&K(e)}}}function Ot(n){let e,t;return{c(){e=O("caption"),t=Fe(n[1]),w(e,"class","sr-only")},m(l,i){Y(l,e,i),B(e,t)},p(l,i){i[0]&2&&je(t,l[1])},d(l){l&&K(e)}}}function Pt(n,e){let t,l,i,r,f,s,o,h,u,b,m;return i=new Ge({props:{value:e[12],latex_delimiters:e[4],line_breaks:e[10],header:!0,edit:!1,el:null}}),{key:n,first:null,c(){t=O("th"),l=O("div"),ke(i.$$.fragment),r=ee(),f=O("div"),s=we("svg"),o=we("path"),u=ee(),w(o,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),w(s,"width","1em"),w(s,"height","1em"),w(s,"viewBox","0 0 9 7"),w(s,"fill","none"),w(s,"xmlns","http://www.w3.org/2000/svg"),w(s,"class","svelte-1bvc1p0"),w(f,"class",h="sort-button "+e[18]+" svelte-1bvc1p0"),U(f,"sorted",e[19]===e[91]),U(f,"des",e[19]===e[91]&&e[18]==="des"),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"aria-sort",b=e[35](e[12],e[19],e[18])),w(t,"class","svelte-1bvc1p0"),U(t,"editing",e[24]===e[91]),me(t,"width",e[11].length?e[11][e[91]]:void 0),this.first=t},m(k,A){Y(k,t,A),B(t,l),ve(i,l,null),B(l,r),B(l,f),B(f,s),B(s,o),B(t,u),m=!0},p(k,A){e=k;const z={};A[0]&65536&&(z.value=e[12]),A[0]&16&&(z.latex_delimiters=e[4]),A[0]&1024&&(z.line_breaks=e[10]),i.$set(z),(!m||A[0]&262144&&h!==(h="sort-button "+e[18]+" svelte-1bvc1p0"))&&w(f,"class",h),(!m||A[0]&851968)&&U(f,"sorted",e[19]===e[91]),(!m||A[0]&851968)&&U(f,"des",e[19]===e[91]&&e[18]==="des"),(!m||A[0]&851968&&b!==(b=e[35](e[12],e[19],e[18])))&&w(t,"aria-sort",b),(!m||A[0]&16842752)&&U(t,"editing",e[24]===e[91]),A[0]&67584&&me(t,"width",e[11].length?e[11][e[91]]:void 0)},i(k){m||(J(i.$$.fragment,k),m=!0)},o(k){G(i.$$.fragment,k),m=!1},d(k){k&&K(t),pe(i)}}}function Ut(n,e){let t,l,i,r,f=e[89],s;i=new Ge({props:{value:e[12],latex_delimiters:e[4],line_breaks:e[10],datatype:Array.isArray(e[0])?e[0][e[89]]:e[0],edit:!1,el:null}});const o=()=>e[52](t,f),h=()=>e[52](null,f);return{key:n,first:null,c(){t=O("td"),l=O("div"),ke(i.$$.fragment),r=ee(),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"tabindex","-1"),w(t,"class","svelte-1bvc1p0"),this.first=t},m(u,b){Y(u,t,b),B(t,l),ve(i,l,null),B(t,r),o(),s=!0},p(u,b){e=u;const m={};b[1]&8&&(m.value=e[12]),b[0]&16&&(m.latex_delimiters=e[4]),b[0]&1024&&(m.line_breaks=e[10]),b[0]&1|b[1]&8&&(m.datatype=Array.isArray(e[0])?e[0][e[89]]:e[0]),i.$set(m),f!==e[89]&&(h(),f=e[89],o())},i(u){s||(J(i.$$.fragment,u),s=!0)},o(u){G(i.$$.fragment,u),s=!1},d(u){u&&K(t),pe(i),h()}}}function Wt(n){let e,t;return{c(){e=O("caption"),t=Fe(n[1]),w(e,"class","sr-only")},m(l,i){Y(l,e,i),B(e,t)},p(l,i){i[0]&2&&je(t,l[1])},d(l){l&&K(e)}}}function zn(n){let e,t=n[1]&&n[1].length!==0&&Wt(n);return{c(){t&&t.c(),e=An()},m(l,i){t&&t.m(l,i),Y(l,e,i)},p(l,i){l[1]&&l[1].length!==0?t?t.p(l,i):(t=Wt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&K(e),t&&t.d(l)}}}function Jt(n,e){let t,l,i,r,f,s,o,h,u,b,m,k,A,z,C;function E(T){e[61](T,e[91])}function H(T){e[62](T,e[87])}function v(){return e[63](e[91])}let g={latex_delimiters:e[4],line_breaks:e[10],edit:e[24]===e[91],select_on_focus:e[25],header:!0};e[16][e[91]].value!==void 0&&(g.value=e[16][e[91]].value),e[22][e[87]].input!==void 0&&(g.el=e[22][e[87]].input),i=new Ge({props:g}),ae.push(()=>be(i,"value",E)),ae.push(()=>be(i,"el",H)),i.$on("keydown",e[41]),i.$on("dblclick",v);function D(){return e[64](e[91])}return{key:n,first:null,c(){t=O("th"),l=O("div"),ke(i.$$.fragment),s=ee(),o=O("div"),h=we("svg"),u=we("path"),m=ee(),w(u,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),w(h,"width","1em"),w(h,"height","1em"),w(h,"viewBox","0 0 9 7"),w(h,"fill","none"),w(h,"xmlns","http://www.w3.org/2000/svg"),w(h,"class","svelte-1bvc1p0"),w(o,"class",b="sort-button "+e[18]+" svelte-1bvc1p0"),U(o,"sorted",e[19]===e[91]),U(o,"des",e[19]===e[91]&&e[18]==="des"),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"aria-sort",k=e[35](e[12],e[19],e[18])),me(t,"width","var(--cell-width-"+e[91]+")"),w(t,"class","svelte-1bvc1p0"),U(t,"focus",e[24]===e[91]||e[26]===e[91]),this.first=t},m(T,q){Y(T,t,q),B(t,l),ve(i,l,null),B(l,s),B(l,o),B(o,h),B(h,u),B(t,m),A=!0,z||(C=de(o,"click",D),z=!0)},p(T,q){e=T;const d={};q[0]&16&&(d.latex_delimiters=e[4]),q[0]&1024&&(d.line_breaks=e[10]),q[0]&16842752&&(d.edit=e[24]===e[91]),q[0]&33554432&&(d.select_on_focus=e[25]),!r&&q[0]&65536&&(r=!0,d.value=e[16][e[91]].value,ge(()=>r=!1)),!f&&q[0]&4259840&&(f=!0,d.el=e[22][e[87]].input,ge(()=>f=!1)),i.$set(d),(!A||q[0]&262144&&b!==(b="sort-button "+e[18]+" svelte-1bvc1p0"))&&w(o,"class",b),(!A||q[0]&851968)&&U(o,"sorted",e[19]===e[91]),(!A||q[0]&851968)&&U(o,"des",e[19]===e[91]&&e[18]==="des"),(!A||q[0]&851968&&k!==(k=e[35](e[12],e[19],e[18])))&&w(t,"aria-sort",k),(!A||q[0]&65536)&&me(t,"width","var(--cell-width-"+e[91]+")"),(!A||q[0]&83951616)&&U(t,"focus",e[24]===e[91]||e[26]===e[91])},i(T){A||(J(i.$$.fragment,T),A=!0)},o(T){G(i.$$.fragment,T),A=!1},d(T){T&&K(t),pe(i),z=!1,C()}}}function Ln(n){let e,t=[],l=new Map,i,r=he(n[16]);const f=s=>s[87];for(let s=0;s<r.length;s+=1){let o=Tt(n,r,s),h=f(o);l.set(h,t[s]=Jt(h,o))}return{c(){e=O("tr");for(let s=0;s<t.length;s+=1)t[s].c();w(e,"slot","thead"),w(e,"class","svelte-1bvc1p0")},m(s,o){Y(s,e,o);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);i=!0},p(s,o){o[0]&122487824|o[1]&1808&&(r=he(s[16]),Me(),t=Ze(t,o,f,1,s,r,l,e,Ye,Jt,null,Tt),qe())},i(s){if(!i){for(let o=0;o<r.length;o+=1)J(t[o]);i=!0}},o(s){for(let o=0;o<t.length;o+=1)G(t[o]);i=!1},d(s){s&&K(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Vt(n,e){let t,l,i,r,f,s,o,h=`var(--cell-width-${e[89]})`,u,b,m;function k(v){e[55](v,e[85],e[89])}function A(v){e[56](v,e[87])}let z={display_value:e[14]?.[e[85]]?.[e[89]],latex_delimiters:e[4],line_breaks:e[10],editable:e[5],edit:re(e[21],[e[85],e[89]]),datatype:Array.isArray(e[0])?e[0][e[89]]:e[0],clear_on_focus:e[23]};e[17][e[85]][e[89]].value!==void 0&&(z.value=e[17][e[85]][e[89]].value),e[22][e[87]].input!==void 0&&(z.el=e[22][e[87]].input),i=new Ge({props:z}),ae.push(()=>be(i,"value",k)),ae.push(()=>be(i,"el",A)),i.$on("blur",e[57]);function C(){return e[58](e[85],e[89])}function E(){return e[59](e[85],e[89])}function H(){return e[60](e[85],e[89])}return{key:n,first:null,c(){t=O("td"),l=O("div"),ke(i.$$.fragment),s=ee(),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"tabindex","0"),w(t,"style",o=e[15]?.[e[85]]?.[e[89]]||""),w(t,"class","svelte-1bvc1p0"),U(t,"focus",re(e[13],[e[85],e[89]])),me(t,"width",h),this.first=t},m(v,g){Y(v,t,g),B(t,l),ve(i,l,null),B(t,s),u=!0,b||(m=[de(t,"touchstart",C,{passive:!0}),de(t,"click",E),de(t,"dblclick",H)],b=!0)},p(v,g){e=v;const D={};g[0]&16384|g[2]&25165824&&(D.display_value=e[14]?.[e[85]]?.[e[89]]),g[0]&16&&(D.latex_delimiters=e[4]),g[0]&1024&&(D.line_breaks=e[10]),g[0]&32&&(D.editable=e[5]),g[0]&2097152|g[2]&25165824&&(D.edit=re(e[21],[e[85],e[89]])),g[0]&1|g[2]&16777216&&(D.datatype=Array.isArray(e[0])?e[0][e[89]]:e[0]),g[0]&8388608&&(D.clear_on_focus=e[23]),!r&&g[0]&131072|g[2]&25165824&&(r=!0,D.value=e[17][e[85]][e[89]].value,ge(()=>r=!1)),!f&&g[0]&4194304|g[2]&16777216&&(f=!0,D.el=e[22][e[87]].input,ge(()=>f=!1)),i.$set(D),(!u||g[0]&32768|g[2]&25165824&&o!==(o=e[15]?.[e[85]]?.[e[89]]||""))&&w(t,"style",o),(!u||g[0]&8192|g[2]&25165824)&&U(t,"focus",re(e[13],[e[85],e[89]])),g[0]&32768|g[2]&25165824&&me(t,"width",h)},i(v){u||(J(i.$$.fragment,v),u=!0)},o(v){G(i.$$.fragment,v),u=!1},d(v){v&&K(t),pe(i),b=!1,el(m)}}}function Dn(n){let e,t=[],l=new Map,i,r=he(n[86]);const f=s=>s[87];for(let s=0;s<r.length;s+=1){let o=Rt(n,r,s),h=f(o);l.set(h,t[s]=Vt(h,o))}return{c(){e=O("tr");for(let s=0;s<t.length;s+=1)t[s].c();w(e,"slot","tbody"),w(e,"class","svelte-1bvc1p0"),U(e,"row_odd",n[85]%2===0)},m(s,o){Y(s,e,o);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);i=!0},p(s,o){o[0]&551740465|o[1]&160|o[2]&25165824&&(r=he(s[86]),Me(),t=Ze(t,o,f,1,s,r,l,e,Ye,Vt,null,Rt),qe()),(!i||o[2]&8388608)&&U(e,"row_odd",s[85]%2===0)},i(s){if(!i){for(let o=0;o<r.length;o+=1)J(t[o]);i=!0}},o(s){for(let o=0;o<t.length;o+=1)G(t[o]);i=!1},d(s){s&&K(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function En(n){let e,t,l,i,r;function f(u){n[65](u)}function s(u){n[66](u)}function o(u){n[67](u)}let h={table_width:n[28],max_height:n[9],selected:n[33],$$slots:{tbody:[Dn,({index:u,item:b})=>({85:u,86:b}),({index:u,item:b})=>[0,0,(u?8388608:0)|(b?16777216:0)]],thead:[Ln],default:[zn]},$$scope:{ctx:n}};return n[17]!==void 0&&(h.items=n[17]),n[31]!==void 0&&(h.actual_height=n[31]),n[32]!==void 0&&(h.table_scrollbar_width=n[32]),e=new wn({props:h}),ae.push(()=>be(e,"items",f)),ae.push(()=>be(e,"actual_height",s)),ae.push(()=>be(e,"table_scrollbar_width",o)),{c(){ke(e.$$.fragment)},m(u,b){ve(e,u,b),r=!0},p(u,b){const m={};b[0]&268435456&&(m.table_width=u[28]),b[0]&512&&(m.max_height=u[9]),b[1]&4&&(m.selected=u[33]),b[0]&670032947|b[2]&25165824|b[3]&2&&(m.$$scope={dirty:b,ctx:u}),!t&&b[0]&131072&&(t=!0,m.items=u[17],ge(()=>t=!1)),!l&&b[1]&1&&(l=!0,m.actual_height=u[31],ge(()=>l=!1)),!i&&b[1]&2&&(i=!0,m.table_scrollbar_width=u[32],ge(()=>i=!1)),e.$set(m)},i(u){r||(J(e.$$.fragment,u),r=!0)},o(u){G(e.$$.fragment,u),r=!1},d(u){pe(e,u)}}}function It(n){let e,t,l,i=n[3][1]==="dynamic"&&Kt(n),r=n[2][1]==="dynamic"&&Yt(n);return{c(){e=O("div"),i&&i.c(),t=ee(),r&&r.c(),w(e,"class","controls-wrap svelte-1bvc1p0")},m(f,s){Y(f,e,s),i&&i.m(e,null),B(e,t),r&&r.m(e,null),l=!0},p(f,s){f[3][1]==="dynamic"?i?(i.p(f,s),s[0]&8&&J(i,1)):(i=Kt(f),i.c(),J(i,1),i.m(e,t)):i&&(Me(),G(i,1,1,()=>{i=null}),qe()),f[2][1]==="dynamic"?r?(r.p(f,s),s[0]&4&&J(r,1)):(r=Yt(f),r.c(),J(r,1),r.m(e,null)):r&&(Me(),G(r,1,1,()=>{r=null}),qe())},i(f){l||(J(i),J(r),l=!0)},o(f){G(i),G(r),l=!1},d(f){f&&K(e),i&&i.d(),r&&r.d()}}}function Kt(n){let e,t,l;return t=new Zt({props:{variant:"secondary",size:"sm",$$slots:{default:[Bn]},$$scope:{ctx:n}}}),t.$on("click",n[72]),{c(){e=O("span"),ke(t.$$.fragment),w(e,"class","button-wrap svelte-1bvc1p0")},m(i,r){Y(i,e,r),ve(t,e,null),l=!0},p(i,r){const f={};r[0]&256|r[3]&2&&(f.$$scope={dirty:r,ctx:i}),t.$set(f)},i(i){l||(J(t.$$.fragment,i),l=!0)},o(i){G(t.$$.fragment,i),l=!1},d(i){i&&K(e),pe(t)}}}function Bn(n){let e,t,l,i=n[8]("dataframe.new_row")+"",r;return{c(){e=we("svg"),t=we("path"),l=ee(),r=Fe(i),w(t,"fill","currentColor"),w(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(e,"aria-hidden","true"),w(e,"role","img"),w(e,"width","1em"),w(e,"height","1em"),w(e,"preserveAspectRatio","xMidYMid meet"),w(e,"viewBox","0 0 32 32"),w(e,"class","svelte-1bvc1p0")},m(f,s){Y(f,e,s),B(e,t),Y(f,l,s),Y(f,r,s)},p(f,s){s[0]&256&&i!==(i=f[8]("dataframe.new_row")+"")&&je(r,i)},d(f){f&&(K(e),K(l),K(r))}}}function Yt(n){let e,t,l;return t=new Zt({props:{variant:"secondary",size:"sm",$$slots:{default:[Hn]},$$scope:{ctx:n}}}),t.$on("click",n[73]),{c(){e=O("span"),ke(t.$$.fragment),w(e,"class","button-wrap svelte-1bvc1p0")},m(i,r){Y(i,e,r),ve(t,e,null),l=!0},p(i,r){const f={};r[0]&256|r[3]&2&&(f.$$scope={dirty:r,ctx:i}),t.$set(f)},i(i){l||(J(t.$$.fragment,i),l=!0)},o(i){G(t.$$.fragment,i),l=!1},d(i){i&&K(e),pe(t)}}}function Hn(n){let e,t,l,i=n[8]("dataframe.new_column")+"",r;return{c(){e=we("svg"),t=we("path"),l=ee(),r=Fe(i),w(t,"fill","currentColor"),w(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(e,"aria-hidden","true"),w(e,"role","img"),w(e,"width","1em"),w(e,"height","1em"),w(e,"preserveAspectRatio","xMidYMid meet"),w(e,"viewBox","0 0 32 32"),w(e,"class","svelte-1bvc1p0")},m(f,s){Y(f,e,s),B(e,t),Y(f,l,s),Y(f,r,s)},p(f,s){s[0]&256&&i!==(i=f[8]("dataframe.new_column")+"")&&je(r,i)},d(f){f&&(K(e),K(l),K(r))}}}function Tn(n){let e,t,l,i,r,f,s,o=[],h=new Map,u,b,m,k=[],A=new Map,z,C,E,H,v,g,D,T,q=n[1]&&n[1].length!==0&&Ft(n),d=n[1]&&n[1].length!==0&&Ot(n),le=he(n[16]);const R=c=>c[87];for(let c=0;c<le.length;c+=1){let p=jt(n,le,c),P=R(p);h.set(P,o[c]=Pt(P,p))}let y=he(n[34]);const _e=c=>c[87];for(let c=0;c<y.length;c+=1){let p=Nt(n,y,c),P=_e(p);A.set(P,k[c]=Ut(P,p))}function x(c){n[68](c)}let ce={flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[7],$$slots:{default:[En]},$$scope:{ctx:n}};n[27]!==void 0&&(ce.dragging=n[27]),E=new Dl({props:ce}),ae.push(()=>be(E,"dragging",x)),E.$on("load",n[69]);let N=n[5]&&It(n);return{c(){e=O("div"),q&&q.c(),t=ee(),l=O("div"),i=O("table"),d&&d.c(),r=ee(),f=O("thead"),s=O("tr");for(let c=0;c<o.length;c+=1)o[c].c();u=ee(),b=O("tbody"),m=O("tr");for(let c=0;c<k.length;c+=1)k[c].c();C=ee(),ke(E.$$.fragment),v=ee(),N&&N.c(),w(s,"class","svelte-1bvc1p0"),w(f,"class","svelte-1bvc1p0"),w(m,"class","svelte-1bvc1p0"),w(i,"class","svelte-1bvc1p0"),yn(()=>n[53].call(i)),U(i,"fixed-layout",n[11].length!=0),w(l,"class","table-wrap svelte-1bvc1p0"),me(l,"height",n[31]+"px"),w(l,"role","grid"),w(l,"tabindex","0"),U(l,"dragging",n[27]),U(l,"no-wrap",!n[6]),w(e,"class","svelte-1bvc1p0"),U(e,"label",n[1]&&n[1].length!==0)},m(c,p){Y(c,e,p),q&&q.m(e,null),B(e,t),B(e,l),B(l,i),d&&d.m(i,null),B(i,r),B(i,f),B(f,s);for(let P=0;P<o.length;P+=1)o[P]&&o[P].m(s,null);B(i,u),B(i,b),B(b,m);for(let P=0;P<k.length;P+=1)k[P]&&k[P].m(m,null);z=vn(i,n[53].bind(i)),n[54](i),B(l,C),ve(E,l,null),n[70](l),B(e,v),N&&N.m(e,null),g=!0,D||(T=[de(window,"click",n[44]),de(window,"touchstart",n[44]),de(window,"resize",n[51]),de(l,"keydown",n[71]),pn(Cl.call(null,e))],D=!0)},p(c,p){c[1]&&c[1].length!==0?q?q.p(c,p):(q=Ft(c),q.c(),q.m(e,t)):q&&(q.d(1),q=null),c[1]&&c[1].length!==0?d?d.p(c,p):(d=Ot(c),d.c(),d.m(i,r)):d&&(d.d(1),d=null),p[0]&17632272|p[1]&16&&(le=he(c[16]),Me(),o=Ze(o,p,R,1,c,le,h,s,Ye,Pt,null,jt),qe()),p[0]&1049617|p[1]&8&&(y=he(c[34]),Me(),k=Ze(k,p,_e,1,c,y,A,m,Ye,Ut,null,Nt),qe()),(!g||p[0]&2048)&&U(i,"fixed-layout",c[11].length!=0);const P={};p[0]&128&&(P.root=c[7]),p[0]&938468915|p[1]&7|p[3]&2&&(P.$$scope={dirty:p,ctx:c}),!H&&p[0]&134217728&&(H=!0,P.dragging=c[27],ge(()=>H=!1)),E.$set(P),(!g||p[1]&1)&&me(l,"height",c[31]+"px"),(!g||p[0]&134217728)&&U(l,"dragging",c[27]),(!g||p[0]&64)&&U(l,"no-wrap",!c[6]),c[5]?N?(N.p(c,p),p[0]&32&&J(N,1)):(N=It(c),N.c(),J(N,1),N.m(e,null)):N&&(Me(),G(N,1,1,()=>{N=null}),qe()),(!g||p[0]&2)&&U(e,"label",c[1]&&c[1].length!==0)},i(c){if(!g){for(let p=0;p<le.length;p+=1)J(o[p]);for(let p=0;p<y.length;p+=1)J(k[p]);J(E.$$.fragment,c),J(N),g=!0}},o(c){for(let p=0;p<o.length;p+=1)G(o[p]);for(let p=0;p<k.length;p+=1)G(k[p]);G(E.$$.fragment,c),G(N),g=!1},d(c){c&&K(e),q&&q.d(),d&&d.d();for(let p=0;p<o.length;p+=1)o[p].d();for(let p=0;p<k.length;p+=1)k[p].d();z(),n[54](null),pe(E),n[70](null),N&&N.d(),D=!1,el(T)}}}function He(){return Math.random().toString(36).substring(2,15)}function Rn(n,e){return e.filter(t);function t(l){var i=-1;return n.split(`
`).every(r);function r(f){if(!f)return!0;var s=f.split(l).length;return i<0&&(i=s),i===s&&s>1}}}function Nn(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),i=new Uint8Array(l);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([l],{type:t})}function jn(n,e,t){let l,i,{datatype:r}=e,{label:f=null}=e,{headers:s=[]}=e,o,{value:h}=e,{col_count:u}=e,{row_count:b}=e,{latex_delimiters:m}=e,{editable:k=!0}=e,{wrap:A=!1}=e,{root:z}=e,{i18n:C}=e,{height:E=500}=e,{line_breaks:H=!0}=e,{column_widths:v=[]}=e,g=!1,D=h?.metadata?.display_value??null,T=h?.metadata?.styling??null;const q=Sn();let d=!1;const le=(a,_)=>c?.[a]?.[_]?.value;let R={};function y(a){let _=a||[];if(u[1]==="fixed"&&_.length<u[0]){const S=Array(u[0]-_.length).fill("").map((L,F)=>`${F+_.length}`);_=_.concat(S)}return!_||_.length===0?Array(u[0]).fill(0).map((S,L)=>{const F=He();return t(22,R[F]={cell:null,input:null},R),{id:F,value:JSON.stringify(L+1)}}):_.map((S,L)=>{const F=He();return t(22,R[F]={cell:null,input:null},R),{id:F,value:S??""}})}function _e(a){const _=a.length;return Array(b[1]==="fixed"||_<b[0]?b[0]:_).fill(0).map((S,L)=>Array(u[1]==="fixed"?u[0]:_>0?a[0].length:s.length).fill(0).map((F,$)=>{const se=He();return t(22,R[se]=R[se]||{input:null,cell:null},R),{value:a?.[L]?.[$]??"",id:se}}))}let x=y(s),ce;function N(){t(16,x=y(s)),t(49,ce=s.slice())}let c=[[]],p;function P(a,_,S){if(!_)return"none";if(s[_]===a){if(S==="asc")return"ascending";if(S==="des")return"descending"}return"none"}function xe(a){return c.reduce((_,S,L)=>{const F=S.reduce(($,se,Ue)=>a===se.id?Ue:$,-1);return F===-1?_:[L,F]},[-1,-1])}async function Le(a,_){!k||re(d,[a,_])||t(21,d=[a,_])}function M(a,_){const S={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[a],L=_[0]+S[0],F=_[1]+S[1];if(L<0&&F<=0)t(26,I=F),t(13,g=!1);else{const $=c[L]?.[F];t(13,g=$?[L,F]:g)}}let V=!1;async function Q(a){if(I!==!1&&W===!1)switch(a.key){case"ArrowDown":t(13,g=[0,I]),t(26,I=!1);return;case"ArrowLeft":t(26,I=I>0?I-1:I);return;case"ArrowRight":t(26,I=I<x.length-1?I+1:I);return;case"Escape":a.preventDefault(),t(26,I=!1);break;case"Enter":a.preventDefault();break}if(!g)return;const[_,S]=g;switch(a.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(d)break;a.preventDefault(),M(a.key,[_,S]);break;case"Escape":if(!k)break;a.preventDefault(),t(21,d=!1);break;case"Enter":if(!k)break;a.preventDefault(),a.shiftKey?($e(_),await Ve(),t(13,g=[_+1,S])):re(d,[_,S])?(t(21,d=!1),await Ve(),t(13,g=[_,S])):t(21,d=[_,S]);break;case"Backspace":if(!k)break;d||(a.preventDefault(),t(17,c[_][S].value="",c));break;case"Delete":if(!k)break;d||(a.preventDefault(),t(17,c[_][S].value="",c));break;case"Tab":let L=a.shiftKey?-1:1,F=c[_][S+L],$=c?.[_+L]?.[L>0?0:x.length-1];(F||$)&&(a.preventDefault(),t(13,g=F?[_,S+L]:[_+L,L>0?0:x.length-1])),t(21,d=!1);break;default:if(!k)break;(!d||d&&re(d,[_,S]))&&a.key.length===1&&(t(23,V=!0),t(21,d=[_,S]))}}async function ne(a,_){re(d,[a,_])||(t(24,W=!1),t(26,I=!1),t(21,d=!1),t(13,g=[a,_]),await Ve(),te.focus())}let Z,X;function j(a){typeof X!="number"||X!==a?(t(18,Z="asc"),t(19,X=a)):Z==="asc"?t(18,Z="des"):Z==="des"&&t(18,Z="asc")}let W,Se=!1,I=!1;async function De(a,_=!1){!k||u[1]!=="dynamic"||W===a||(t(13,g=!1),t(26,I=a),t(24,W=a),t(25,Se=_))}function ie(a){if(k)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(13,g=!1),t(26,I=W),t(24,W=!1),te.focus();break}}async function $e(a){if(te.focus(),b[1]==="dynamic"){if(c.length===0){t(48,o=[Array(s.length).fill("")]);return}c.splice(a?a+1:c.length,0,Array(c[0].length).fill(0).map((_,S)=>{const L=He();return t(22,R[L]={cell:null,input:null},R),{id:L,value:""}})),t(17,c),t(48,o),t(50,p),t(12,h),t(13,g=[a?a+1:c.length-1,0])}}async function wt(){if(te.focus(),u[1]==="dynamic"){for(let a=0;a<c.length;a++){const _=He();t(22,R[_]={cell:null,input:null},R),c[a].push({id:_,value:""})}s.push(`Header ${s.length+1}`),t(17,c),t(48,o),t(50,p),t(12,h),t(47,s),t(12,h),t(48,o),await Ve(),requestAnimationFrame(()=>{De(s.length-1,!0);const a=te.querySelectorAll("tbody")[1].offsetWidth;te.querySelectorAll("table")[1].scrollTo({left:a})})}}function tl(a){a.stopImmediatePropagation();const[_]=a.composedPath();te.contains(_)||(t(21,d=!1),t(24,W=!1),t(26,I=!1),t(13,g=!1))}function kt(a){const _=new FileReader;function S(L){if(!L?.target?.result||typeof L.target.result!="string")return;const[F]=Rn(L.target.result,[",","	"]),[$,...se]=Bl(F).parseRows(L.target.result);t(16,x=y(u[1]==="fixed"?$.slice(0,u[0]):$)),t(48,o=se),_.removeEventListener("loadend",S)}_.addEventListener("loadend",S),_.readAsText(a)}let et=!1,tt=0;function ll(a){let _=a[0].slice();for(let S=0;S<a.length;S++)for(let L=0;L<a[S].length;L++)`${_[L].value}`.length<`${a[S][L].value}`.length&&(_[L]=a[S][L]);return _}let Ee=[],te,lt;function Oe(){const a=Ee.map((_,S)=>_?.clientWidth||0);if(a.length!==0)for(let _=0;_<a.length;_++)te.style.setProperty(`--cell-width-${_}`,`${a[_]-Pe/a.length}px`)}let nt=E,Pe=0;function nl(a,_,S,L,F){let $=null;if(g&&g[0]in c&&g[1]in c[g[0]]&&($=c[g[0]][g[1]].id),typeof L!="number"||!F)return;const se=[...Array(a.length).keys()];if(F==="asc")se.sort((fe,ue)=>a[fe][L].value<a[ue][L].value?-1:1);else if(F==="des")se.sort((fe,ue)=>a[fe][L].value>a[ue][L].value?-1:1);else return;const Ue=[...a],vt=_?[..._]:null,yt=S?[...S]:null;if(se.forEach((fe,ue)=>{a[ue]=Ue[fe],_&&vt&&(_[ue]=vt[fe]),S&&yt&&(S[ue]=yt[fe])}),t(17,c),t(48,o),t(50,p),t(12,h),$){const[fe,ue]=xe($);t(13,g=[fe,ue])}}let pt=!1;Cn(()=>{const a=new IntersectionObserver((_,S)=>{_.forEach(L=>{L.isIntersecting&&!pt&&(Oe(),t(17,c),t(48,o),t(50,p),t(12,h)),pt=L.isIntersecting})});return a.observe(te),()=>{a.disconnect()}});const il=()=>Oe();function sl(a,_){ae[a?"unshift":"push"](()=>{Ee[_]=a,t(20,Ee)})}function ol(){tt=this.clientWidth,t(28,tt)}function al(a){ae[a?"unshift":"push"](()=>{lt=a,t(30,lt)})}function rl(a,_,S){n.$$.not_equal(c[_][S].value,a)&&(c[_][S].value=a,t(17,c),t(48,o),t(50,p),t(12,h))}function fl(a,_){n.$$.not_equal(R[_].input,a)&&(R[_].input=a,t(22,R))}const ul=()=>(t(23,V=!1),te.focus()),_l=(a,_)=>Le(a,_),cl=(a,_)=>ne(a,_),hl=(a,_)=>Le(a,_);function dl(a,_){n.$$.not_equal(x[_].value,a)&&(x[_].value=a,t(16,x))}function gl(a,_){n.$$.not_equal(R[_].input,a)&&(R[_].input=a,t(22,R))}const bl=a=>De(a),ml=a=>j(a);function wl(a){c=a,t(17,c),t(48,o),t(50,p),t(12,h)}function kl(a){nt=a,t(31,nt)}function pl(a){Pe=a,t(32,Pe)}function vl(a){et=a,t(27,et)}const yl=a=>kt(Nn(a.detail.data));function Al(a){ae[a?"unshift":"push"](()=>{te=a,t(29,te)})}const ql=a=>Q(a),Ml=a=>(a.stopPropagation(),$e()),Sl=a=>(a.stopPropagation(),wt());return n.$$set=a=>{"datatype"in a&&t(0,r=a.datatype),"label"in a&&t(1,f=a.label),"headers"in a&&t(47,s=a.headers),"value"in a&&t(12,h=a.value),"col_count"in a&&t(2,u=a.col_count),"row_count"in a&&t(3,b=a.row_count),"latex_delimiters"in a&&t(4,m=a.latex_delimiters),"editable"in a&&t(5,k=a.editable),"wrap"in a&&t(6,A=a.wrap),"root"in a&&t(7,z=a.root),"i18n"in a&&t(8,C=a.i18n),"height"in a&&t(9,E=a.height),"line_breaks"in a&&t(10,H=a.line_breaks),"column_widths"in a&&t(11,v=a.column_widths)},n.$$.update=()=>{if(n.$$.dirty[0]&4096|n.$$.dirty[1]&131072&&(h?(t(47,s=h.headers),t(48,o=h.data),t(14,D=h?.metadata?.display_value??null),t(15,T=h?.metadata?.styling??null)):o===null&&t(48,o=[])),n.$$.dirty[0]&8192&&g!==!1){const[a,_]=g;!isNaN(a)&&!isNaN(_)&&q("select",{index:[a,_],value:le(a,_)})}n.$$.dirty[1]&327680&&(re(s,ce)||N()),n.$$.dirty[1]&655360&&(re(o,p)||(t(17,c=_e(o)),t(50,p=o))),n.$$.dirty[0]&245792&&x&&q("change",{data:c.map(a=>a.map(({value:_})=>_)),headers:x.map(a=>a.value),metadata:k?null:{display_value:D,styling:T}}),n.$$.dirty[0]&131072&&t(34,l=ll(c)),n.$$.dirty[0]&1048576&&Ee[0]&&Oe(),n.$$.dirty[0]&966656&&nl(c,D,T,X,Z),n.$$.dirty[0]&8192&&t(33,i=!!g&&g[0])},[r,f,u,b,m,k,A,z,C,E,H,v,h,g,D,T,x,c,Z,X,Ee,d,R,V,W,Se,I,et,tt,te,lt,nt,Pe,i,l,P,Le,Q,ne,j,De,ie,$e,wt,tl,kt,Oe,s,o,ce,p,il,sl,ol,al,rl,fl,ul,_l,cl,hl,dl,gl,bl,ml,wl,kl,pl,vl,yl,Al,ql,Ml,Sl]}class Fn extends kn{constructor(e){super(),qn(this,e,jn,Tn,Mn,{datatype:0,label:1,headers:47,value:12,col_count:2,row_count:3,latex_delimiters:4,editable:5,wrap:6,root:7,i18n:8,height:9,line_breaks:10,column_widths:11},null,[-1,-1,-1,-1])}}const{SvelteComponent:On,assign:Pn,create_component:ht,destroy_component:dt,detach:Un,get_spread_object:Wn,get_spread_update:Jn,init:Vn,insert:In,mount_component:gt,safe_not_equal:Kn,space:Yn,transition_in:bt,transition_out:mt}=window.__gradio__svelte__internal,{afterUpdate:Zn}=window.__gradio__svelte__internal;function Gn(n){let e,t,l,i;const r=[{autoscroll:n[15].autoscroll},{i18n:n[15].i18n},n[18]];let f={};for(let s=0;s<r.length;s+=1)f=Pn(f,r[s]);return e=new Ll({props:f}),l=new Fn({props:{root:n[12],label:n[7],row_count:n[6],col_count:n[5],value:n[0],headers:n[1],wrap:n[8],datatype:n[9],latex_delimiters:n[16],editable:n[19]==="interactive",height:n[17],i18n:n[15].i18n,line_breaks:n[13],column_widths:n[14]}}),l.$on("select",n[22]),{c(){ht(e.$$.fragment),t=Yn(),ht(l.$$.fragment)},m(s,o){gt(e,s,o),In(s,t,o),gt(l,s,o),i=!0},p(s,o){const h=o&294912?Jn(r,[o&32768&&{autoscroll:s[15].autoscroll},o&32768&&{i18n:s[15].i18n},o&262144&&Wn(s[18])]):{};e.$set(h);const u={};o&4096&&(u.root=s[12]),o&128&&(u.label=s[7]),o&64&&(u.row_count=s[6]),o&32&&(u.col_count=s[5]),o&1&&(u.value=s[0]),o&2&&(u.headers=s[1]),o&256&&(u.wrap=s[8]),o&512&&(u.datatype=s[9]),o&65536&&(u.latex_delimiters=s[16]),o&524288&&(u.editable=s[19]==="interactive"),o&131072&&(u.height=s[17]),o&32768&&(u.i18n=s[15].i18n),o&8192&&(u.line_breaks=s[13]),o&16384&&(u.column_widths=s[14]),l.$set(u)},i(s){i||(bt(e.$$.fragment,s),bt(l.$$.fragment,s),i=!0)},o(s){mt(e.$$.fragment,s),mt(l.$$.fragment,s),i=!1},d(s){s&&Un(t),dt(e,s),dt(l,s)}}}function Qn(n){let e,t;return e=new zl({props:{visible:n[4],padding:!1,elem_id:n[2],elem_classes:n[3],container:!1,scale:n[10],min_width:n[11],allow_overflow:!1,$$slots:{default:[Gn]},$$scope:{ctx:n}}}),{c(){ht(e.$$.fragment)},m(l,i){gt(e,l,i),t=!0},p(l,[i]){const r={};i&16&&(r.visible=l[4]),i&4&&(r.elem_id=l[2]),i&8&&(r.elem_classes=l[3]),i&1024&&(r.scale=l[10]),i&2048&&(r.min_width=l[11]),i&17822691&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(bt(e.$$.fragment,l),t=!0)},o(l){mt(e.$$.fragment,l),t=!1},d(l){dt(e,l)}}}function Xn(n,e,t){let{headers:l=[]}=e,{elem_id:i=""}=e,{elem_classes:r=[]}=e,{visible:f=!0}=e,{value:s={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,o=JSON.stringify(s),{value_is_output:h=!1}=e,{col_count:u}=e,{row_count:b}=e,{label:m=null}=e,{wrap:k}=e,{datatype:A}=e,{scale:z=null}=e,{min_width:C=void 0}=e,{root:E}=e,{line_breaks:H=!0}=e,{column_widths:v=[]}=e,{gradio:g}=e,{latex_delimiters:D}=e,{height:T=void 0}=e,{loading_status:q}=e,{mode:d}=e;function le(){g.dispatch("change"),h||g.dispatch("input")}Zn(()=>{t(20,h=!1)}),(Array.isArray(s)&&s?.[0]?.length===0||s.data?.[0]?.length===0)&&(s={data:[Array(u?.[0]||3).fill("")],headers:Array(u?.[0]||3).fill("").map((y,_e)=>`${_e+1}`),metadata:null});const R=y=>g.dispatch("select",y.detail);return n.$$set=y=>{"headers"in y&&t(1,l=y.headers),"elem_id"in y&&t(2,i=y.elem_id),"elem_classes"in y&&t(3,r=y.elem_classes),"visible"in y&&t(4,f=y.visible),"value"in y&&t(0,s=y.value),"value_is_output"in y&&t(20,h=y.value_is_output),"col_count"in y&&t(5,u=y.col_count),"row_count"in y&&t(6,b=y.row_count),"label"in y&&t(7,m=y.label),"wrap"in y&&t(8,k=y.wrap),"datatype"in y&&t(9,A=y.datatype),"scale"in y&&t(10,z=y.scale),"min_width"in y&&t(11,C=y.min_width),"root"in y&&t(12,E=y.root),"line_breaks"in y&&t(13,H=y.line_breaks),"column_widths"in y&&t(14,v=y.column_widths),"gradio"in y&&t(15,g=y.gradio),"latex_delimiters"in y&&t(16,D=y.latex_delimiters),"height"in y&&t(17,T=y.height),"loading_status"in y&&t(18,q=y.loading_status),"mode"in y&&t(19,d=y.mode)},n.$$.update=()=>{n.$$.dirty&2097153&&JSON.stringify(s)!==o&&(t(21,o=JSON.stringify(s)),le())},[s,l,i,r,f,u,b,m,k,A,z,C,E,H,v,g,D,T,q,d,h,o,R]}class oi extends On{constructor(e){super(),Vn(this,e,Xn,Qn,Kn,{headers:1,elem_id:2,elem_classes:3,visible:4,value:0,value_is_output:20,col_count:5,row_count:6,label:7,wrap:8,datatype:9,scale:10,min_width:11,root:12,line_breaks:13,column_widths:14,gradio:15,latex_delimiters:16,height:17,loading_status:18,mode:19})}}export{oi as default};
//# sourceMappingURL=Index-103abe11.js.map
