import G from"./Index-09f26e4b.js";import C from"./Index-b5c20ab3.js";import{a as H}from"./Button-50aef8a4.js";import J from"./Index-ab6a99fa.js";import{$ as K}from"./Index-53af0ba0.js";import"./BlockTitle-dd36e205.js";import"./Info-8b43023a.js";import"./Copy-1b5c0932.js";import"./index-7f6ac6a3.js";import"./svelte/svelte.js";const{SvelteComponent:M,add_flush_callback:F,append:q,attr:N,bind:O,binding_callbacks:P,component_subscribe:Q,create_component:w,destroy_component:k,detach:b,element:D,init:R,insert:d,mount_component:h,safe_not_equal:U,set_data:L,space:v,text:S,toggle_class:T,transition_in:x,transition_out:I}=window.__gradio__svelte__internal;function j(i){let e,n;return{c(){e=D("p"),n=S(i[0]),N(e,"class","auth svelte-1ogxbi0")},m(o,t){d(o,e,t),q(e,n)},p(o,t){t&1&&L(n,o[0])},d(o){o&&b(e)}}}function A(i){let e,n=i[6]("login.enable_cookies")+"",o;return{c(){e=D("p"),o=S(n),N(e,"class","auth svelte-1ogxbi0")},m(t,a){d(t,e,a),q(e,o)},p(t,a){a&64&&n!==(n=t[6]("login.enable_cookies")+"")&&L(o,n)},d(t){t&&b(e)}}}function E(i){let e,n=i[6]("login.incorrect_credentials")+"",o;return{c(){e=D("p"),o=S(n),N(e,"class","creds svelte-1ogxbi0")},m(t,a){d(t,e,a),q(e,o)},p(t,a){a&64&&n!==(n=t[6]("login.incorrect_credentials")+"")&&L(o,n)},d(t){t&&b(e)}}}function V(i){let e,n,o,t,a,m;function $(f){i[9](f)}let p={label:"username",lines:1,show_label:!0,max_lines:1};i[3]!==void 0&&(p.value=i[3]),e=new C({props:p}),P.push(()=>O(e,"value",$)),e.$on("submit",i[7]);function g(f){i[10](f)}let c={label:"password",lines:1,show_label:!0,max_lines:1,type:"password"};return i[4]!==void 0&&(c.value=i[4]),t=new C({props:c}),P.push(()=>O(t,"value",g)),t.$on("submit",i[7]),{c(){w(e.$$.fragment),o=v(),w(t.$$.fragment)},m(f,u){h(e,f,u),d(f,o,u),h(t,f,u),m=!0},p(f,u){const _={};!n&&u&8&&(n=!0,_.value=f[3],F(()=>n=!1)),e.$set(_);const s={};!a&&u&16&&(a=!0,s.value=f[4],F(()=>a=!1)),t.$set(s)},i(f){m||(x(e.$$.fragment,f),x(t.$$.fragment,f),m=!0)},o(f){I(e.$$.fragment,f),I(t.$$.fragment,f),m=!1},d(f){f&&b(o),k(e,f),k(t,f)}}}function W(i){let e=i[6]("login.login")+"",n;return{c(){n=S(e)},m(o,t){d(o,n,t)},p(o,t){t&64&&e!==(e=o[6]("login.login")+"")&&L(n,e)},d(o){o&&b(n)}}}function X(i){let e,n=i[6]("login.login")+"",o,t,a,m,$,p,g,c,f,u=i[0]&&j(i),_=i[2]&&A(i),s=i[5]&&E(i);return p=new G({props:{$$slots:{default:[V]},$$scope:{ctx:i}}}),c=new H({props:{size:"lg",variant:"primary",$$slots:{default:[W]},$$scope:{ctx:i}}}),c.$on("click",i[7]),{c(){e=D("h2"),o=S(n),t=v(),u&&u.c(),a=v(),_&&_.c(),m=v(),s&&s.c(),$=v(),w(p.$$.fragment),g=v(),w(c.$$.fragment),N(e,"class","svelte-1ogxbi0")},m(l,r){d(l,e,r),q(e,o),d(l,t,r),u&&u.m(l,r),d(l,a,r),_&&_.m(l,r),d(l,m,r),s&&s.m(l,r),d(l,$,r),h(p,l,r),d(l,g,r),h(c,l,r),f=!0},p(l,r){(!f||r&64)&&n!==(n=l[6]("login.login")+"")&&L(o,n),l[0]?u?u.p(l,r):(u=j(l),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),l[2]?_?_.p(l,r):(_=A(l),_.c(),_.m(m.parentNode,m)):_&&(_.d(1),_=null),l[5]?s?s.p(l,r):(s=E(l),s.c(),s.m($.parentNode,$)):s&&(s.d(1),s=null);const z={};r&2072&&(z.$$scope={dirty:r,ctx:l}),p.$set(z);const B={};r&2112&&(B.$$scope={dirty:r,ctx:l}),c.$set(B)},i(l){f||(x(p.$$.fragment,l),x(c.$$.fragment,l),f=!0)},o(l){I(p.$$.fragment,l),I(c.$$.fragment,l),f=!1},d(l){l&&(b(e),b(t),b(a),b(m),b($),b(g)),u&&u.d(l),_&&_.d(l),s&&s.d(l),k(p,l),k(c,l)}}}function Y(i){let e,n,o;return n=new J({props:{variant:"panel",min_width:480,$$slots:{default:[X]},$$scope:{ctx:i}}}),{c(){e=D("div"),w(n.$$.fragment),N(e,"class","wrap svelte-1ogxbi0"),T(e,"min-h-screen",i[1])},m(t,a){d(t,e,a),h(n,e,null),o=!0},p(t,[a]){const m={};a&2173&&(m.$$scope={dirty:a,ctx:t}),n.$set(m),(!o||a&2)&&T(e,"min-h-screen",t[1])},i(t){o||(x(n.$$.fragment,t),o=!0)},o(t){I(n.$$.fragment,t),o=!1},d(t){t&&b(e),k(n)}}}function Z(i,e,n){let o;Q(i,K,s=>n(6,o=s));let{root:t}=e,{auth_message:a}=e,{app_mode:m}=e,{space_id:$}=e,p="",g="",c=!1;const f=async()=>{const s=new FormData;s.append("username",p),s.append("password",g);let l=await fetch(t+"/login",{method:"POST",body:s});l.status===400?(n(5,c=!0),n(3,p=""),n(4,g="")):l.status==200&&location.reload()};function u(s){p=s,n(3,p)}function _(s){g=s,n(4,g)}return i.$$set=s=>{"root"in s&&n(8,t=s.root),"auth_message"in s&&n(0,a=s.auth_message),"app_mode"in s&&n(1,m=s.app_mode),"space_id"in s&&n(2,$=s.space_id)},[a,m,$,p,g,c,o,f,t,u,_]}class ue extends M{constructor(e){super(),R(this,e,Z,Y,U,{root:8,auth_message:0,app_mode:1,space_id:2})}}export{ue as default};
//# sourceMappingURL=Login-960c8fe0.js.map
