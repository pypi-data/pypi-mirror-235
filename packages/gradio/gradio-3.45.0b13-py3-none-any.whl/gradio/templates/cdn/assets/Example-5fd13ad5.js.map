{"version":3,"file":"Example-5fd13ad5.js","sources":["../../../../js/video/shared/Video.svelte","../../../../js/video/Example.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { HTMLVideoAttributes } from \"svelte/elements\";\n\timport { createEventDispatcher } from \"svelte\";\n\timport { loaded } from \"./utils\";\n\n\timport { resolve_wasm_src } from \"@gradio/wasm/svelte\";\n\n\texport let src: HTMLVideoAttributes[\"src\"] = undefined;\n\n\texport let muted: HTMLVideoAttributes[\"muted\"] = undefined;\n\texport let playsinline: HTMLVideoAttributes[\"playsinline\"] = undefined;\n\texport let preload: HTMLVideoAttributes[\"preload\"] = undefined;\n\texport let autoplay: HTMLVideoAttributes[\"autoplay\"] = undefined;\n\texport let controls: HTMLVideoAttributes[\"controls\"] = undefined;\n\n\texport let currentTime: number | undefined = undefined;\n\texport let duration: number | undefined = undefined;\n\texport let paused: boolean | undefined = undefined;\n\n\texport let node: HTMLVideoElement | undefined = undefined;\n\n\tconst dispatch = createEventDispatcher();\n</script>\n\n{#await resolve_wasm_src(src) then resolved_src}\n\t<!--\n\tThe spread operator with `$$props` or `$$restProps` can't be used here\n\tto pass props from the parent component to the <video> element\n\tbecause of its unexpected behavior: https://github.com/sveltejs/svelte/issues/7404\n\tFor example, if we add {...$$props} or {...$$restProps}, the boolean props aside it like `controls` will be compiled as string \"true\" or \"false\" on the actual DOM.\n\tThen, even when `controls` is false, the compiled DOM would be `<video controls=\"false\">` which is equivalent to `<video controls>` since the string \"false\" is even truthy.\n-->\n\t<video\n\t\tsrc={resolved_src}\n\t\t{muted}\n\t\t{playsinline}\n\t\t{preload}\n\t\t{autoplay}\n\t\t{controls}\n\t\ton:loadeddata={dispatch.bind(null, \"loadeddata\")}\n\t\ton:click={dispatch.bind(null, \"click\")}\n\t\ton:play={dispatch.bind(null, \"play\")}\n\t\ton:pause={dispatch.bind(null, \"pause\")}\n\t\ton:ended={dispatch.bind(null, \"ended\")}\n\t\ton:mouseover={dispatch.bind(null, \"mouseover\")}\n\t\ton:mouseout={dispatch.bind(null, \"mouseout\")}\n\t\ton:focus={dispatch.bind(null, \"focus\")}\n\t\ton:blur={dispatch.bind(null, \"blur\")}\n\t\tbind:currentTime\n\t\tbind:duration\n\t\tbind:paused\n\t\tbind:this={node}\n\t\tuse:loaded={{ autoplay: autoplay ?? false }}\n\t\tdata-testid={$$props[\"data-testid\"]}\n\t>\n\t\t<slot />\n\t</video>\n{:catch error}\n\t<p style=\"color: red;\">{error.message}</p>\n{/await}\n\n<style>\n\tvideo {\n\t\tposition: inherit;\n\t\tbackground-color: black;\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: contain;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport Video from \"./shared/Video.svelte\";\n\timport { playable } from \"./shared/utils\";\n\n\texport let type: \"gallery\" | \"table\";\n\texport let selected = false;\n\texport let value: string;\n\texport let samples_dir: string;\n\tlet video: HTMLVideoElement;\n\n\tasync function init(): Promise<void> {\n\t\tvideo.muted = true;\n\t\tvideo.playsInline = true;\n\t\tvideo.controls = false;\n\t\tvideo.setAttribute(\"muted\", \"\");\n\n\t\tawait video.play();\n\t\tvideo.pause();\n\t}\n</script>\n\n{#if playable()}\n\t<div\n\t\tclass=\"container\"\n\t\tclass:table={type === \"table\"}\n\t\tclass:gallery={type === \"gallery\"}\n\t\tclass:selected\n\t>\n\t\t<Video\n\t\t\tmuted\n\t\t\tplaysinline\n\t\t\tbind:node={video}\n\t\t\ton:loadeddata={init}\n\t\t\ton:mouseover={video.play.bind(video)}\n\t\t\ton:mouseout={video.pause.bind(video)}\n\t\t\tsrc={samples_dir + value}\n\t\t/>\n\t</div>\n{:else}\n\t<div>{value}</div>\n{/if}\n\n<style>\n\t.container {\n\t\tflex: none;\n\t\tborder: 2px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-lg);\n\t\tmax-width: none;\n\t}\n\n\t.container:hover,\n\t.container.selected {\n\t\tborder-color: var(--border-color-accent);\n\t}\n\t.container.table {\n\t\tmargin: 0 auto;\n\t\twidth: var(--size-20);\n\t\theight: var(--size-20);\n\t\tobject-fit: cover;\n\t}\n\n\t.container.gallery {\n\t\theight: var(--size-20);\n\t\tmax-height: var(--size-20);\n\t\tobject-fit: cover;\n\t}\n</style>\n"],"names":["createEventDispatcher","t_value","ctx","insert","target","p","anchor","dirty","set_data","t","attr","video","video_src_value","video_data_testid_value","listen","current","handle_promise","promise","resolve_wasm_src","info","src","$$props","muted","playsinline","preload","autoplay","controls","currentTime","duration","paused","node","dispatch","$$value","div","is_function","toggle_class","video_1_changes","type","selected","value","samples_dir","init"],"mappings":"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"}