import{u as jl,a as dl,n as Yl,B as ml}from"./Button-c3cdaf88.js";import{B as cl}from"./BlockLabel-eeca5f51.js";import{I as Jl}from"./IconButton-0244936c.js";import{E as Xl}from"./Empty-b7bcee7c.js";import{S as Gl}from"./ShareButton-ad20b2fd.js";import{D as Ql}from"./Download-696bd40c.js";import{s as Wl,S as hl}from"./Index-3fe49d12.js";import{_ as An}from"./index-94f2722f.js";import{U as Zl}from"./Upload-da6cc28e.js";import{M as $l}from"./ModifyUpload-4f48b6c7.js";import{r as Vn}from"./file-url-c0a0b7eb.js";import{U as xl}from"./UploadText-5e54799e.js";import"./svelte/svelte.js";const{SvelteComponent:et,append:xe,attr:R,detach:nt,init:lt,insert:tt,noop:en,safe_not_equal:it,svg_element:Ke}=window.__gradio__svelte__internal;function at(n){let e,t,l,i;return{c(){e=Ke("svg"),t=Ke("path"),l=Ke("circle"),i=Ke("circle"),R(t,"d","M9 18V5l12-2v13"),R(l,"cx","6"),R(l,"cy","18"),R(l,"r","3"),R(i,"cx","18"),R(i,"cy","16"),R(i,"r","3"),R(e,"xmlns","http://www.w3.org/2000/svg"),R(e,"width","100%"),R(e,"height","100%"),R(e,"viewBox","0 0 24 24"),R(e,"fill","none"),R(e,"stroke","currentColor"),R(e,"stroke-width","1.5"),R(e,"stroke-linecap","round"),R(e,"stroke-linejoin","round"),R(e,"class","feather feather-music")},m(a,s){tt(a,e,s),xe(e,t),xe(e,l),xe(e,i)},p:en,i:en,o:en,d(a){a&&nt(e)}}}class fn extends et{constructor(e){super(),lt(this,e,null,at,it,{})}}function bl(n,{crop_values:e,autoplay:t}={}){function l(){if(e===void 0)return;const a=e[0]/100*n.duration,s=e[1]/100*n.duration;n.currentTime<a&&(n.currentTime=a),n.currentTime>s&&(n.currentTime=a,n.pause())}async function i(){t&&(n.pause(),await n.play())}return n.addEventListener("loadeddata",i),n.addEventListener("timeupdate",l),{destroy(){n.removeEventListener("loadeddata",i),n.removeEventListener("timeupdate",l)}}}const{SvelteComponent:st,action_destroyer:ot,append:rt,attr:$,bubble:je,check_outros:Je,create_component:Ue,destroy_component:Oe,detach:Me,element:un,empty:ft,group_outros:Xe,init:ut,insert:Le,is_function:_t,listen:nn,mount_component:ze,noop:Cn,run_all:dt,safe_not_equal:mt,space:an,src_url_equal:Dn,transition_in:B,transition_out:W}=window.__gradio__svelte__internal,{createEventDispatcher:ct,tick:aa}=window.__gradio__svelte__internal;function Pn(n){let e,t,l,i=n[4]&&qn(n),a=n[5]&&In(n);return{c(){e=un("div"),i&&i.c(),t=an(),a&&a.c(),$(e,"class","icon-buttons svelte-pq78xp")},m(s,o){Le(s,e,o),i&&i.m(e,null),rt(e,t),a&&a.m(e,null),l=!0},p(s,o){s[4]?i?(i.p(s,o),o&16&&B(i,1)):(i=qn(s),i.c(),B(i,1),i.m(e,t)):i&&(Xe(),W(i,1,1,()=>{i=null}),Je()),s[5]?a?(a.p(s,o),o&32&&B(a,1)):(a=In(s),a.c(),B(a,1),a.m(e,null)):a&&(Xe(),W(a,1,1,()=>{a=null}),Je())},i(s){l||(B(i),B(a),l=!0)},o(s){W(i),W(a),l=!1},d(s){s&&Me(e),i&&i.d(),a&&a.d()}}}function qn(n){let e,t,l,i,a;return t=new Jl({props:{Icon:Ql,label:n[6]("common.download")}}),{c(){e=un("a"),Ue(t.$$.fragment),$(e,"href",l=n[0].data),$(e,"target",window.__is_colab__?"_blank":null),$(e,"download",i=n[0].name)},m(s,o){Le(s,e,o),ze(t,e,null),a=!0},p(s,o){const r={};o&64&&(r.label=s[6]("common.download")),t.$set(r),(!a||o&1&&l!==(l=s[0].data))&&$(e,"href",l),(!a||o&1&&i!==(i=s[0].name))&&$(e,"download",i)},i(s){a||(B(t.$$.fragment,s),a=!0)},o(s){W(t.$$.fragment,s),a=!1},d(s){s&&Me(e),Oe(t)}}}function In(n){let e,t;return e=new Gl({props:{i18n:n[6],formatter:n[11],value:n[0]}}),e.$on("error",n[12]),e.$on("share",n[13]),{c(){Ue(e.$$.fragment)},m(l,i){ze(e,l,i),t=!0},p(l,i){const a={};i&64&&(a.i18n=l[6]),i&1&&(a.value=l[0]),e.$set(a)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function ht(n){let e,t,l,i,a,s;return{c(){e=un("audio"),e.controls=!0,$(e,"preload","metadata"),Dn(e.src,t=n[0]?.data)||$(e,"src",t),$(e,"data-testid",l=`${n[1]}-audio`),$(e,"class","svelte-pq78xp")},m(o,r){Le(o,e,r),a||(s=[ot(i=bl.call(null,e,{autoplay:n[3]})),nn(e,"play",n[9]),nn(e,"pause",n[10]),nn(e,"ended",n[7])],a=!0)},p(o,r){r&1&&!Dn(e.src,t=o[0]?.data)&&$(e,"src",t),r&2&&l!==(l=`${o[1]}-audio`)&&$(e,"data-testid",l),i&&_t(i.update)&&r&8&&i.update.call(null,{autoplay:o[3]})},i:Cn,o:Cn,d(o){o&&Me(e),a=!1,dt(s)}}}function bt(n){let e,t;return e=new Xl({props:{size:"small",$$slots:{default:[gt]},$$scope:{ctx:n}}}),{c(){Ue(e.$$.fragment)},m(l,i){ze(e,l,i),t=!0},p(l,i){const a={};i&32768&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function gt(n){let e,t;return e=new fn({}),{c(){Ue(e.$$.fragment)},m(l,i){ze(e,l,i),t=!0},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function pt(n){let e,t,l,i,a,s,o;e=new cl({props:{show_label:n[2],Icon:fn,float:!1,label:n[1]||n[6]("audio.audio")}});let r=n[0]!==null&&Pn(n);const h=[bt,ht],d=[];function u(_,m){return _[0]===null?0:1}return i=u(n),a=d[i]=h[i](n),{c(){Ue(e.$$.fragment),t=an(),r&&r.c(),l=an(),a.c(),s=ft()},m(_,m){ze(e,_,m),Le(_,t,m),r&&r.m(_,m),Le(_,l,m),d[i].m(_,m),Le(_,s,m),o=!0},p(_,[m]){const c={};m&4&&(c.show_label=_[2]),m&66&&(c.label=_[1]||_[6]("audio.audio")),e.$set(c),_[0]!==null?r?(r.p(_,m),m&1&&B(r,1)):(r=Pn(_),r.c(),B(r,1),r.m(l.parentNode,l)):r&&(Xe(),W(r,1,1,()=>{r=null}),Je());let k=i;i=u(_),i===k?d[i].p(_,m):(Xe(),W(d[k],1,1,()=>{d[k]=null}),Je(),a=d[i],a?a.p(_,m):(a=d[i]=h[i](_),a.c()),B(a,1),a.m(s.parentNode,s))},i(_){o||(B(e.$$.fragment,_),B(r),B(a),o=!0)},o(_){W(e.$$.fragment,_),W(r),W(a),o=!1},d(_){_&&(Me(t),Me(l),Me(s)),Oe(e,_),r&&r.d(_),d[i].d(_)}}}function wt(n,e,t){let{value:l=null}=e,{label:i}=e,{name:a}=e,{show_label:s=!0}=e,{autoplay:o}=e,{show_download_button:r=!0}=e,{show_share_button:h=!1}=e;const d=ct();function u(){d("stop"),d("end")}let{i18n:_}=e;function m(S){je.call(this,n,S)}function c(S){je.call(this,n,S)}const k=async S=>S?`<audio controls src="${await jl(S.data,"url")}"></audio>`:"";function V(S){je.call(this,n,S)}function w(S){je.call(this,n,S)}return n.$$set=S=>{"value"in S&&t(0,l=S.value),"label"in S&&t(1,i=S.label),"name"in S&&t(8,a=S.name),"show_label"in S&&t(2,s=S.show_label),"autoplay"in S&&t(3,o=S.autoplay),"show_download_button"in S&&t(4,r=S.show_download_button),"show_share_button"in S&&t(5,h=S.show_share_button),"i18n"in S&&t(6,_=S.i18n)},n.$$.update=()=>{n.$$.dirty&257&&l&&d("change",{name:a,data:l?.data})},[l,i,s,o,r,h,_,u,a,m,c,k,V,w]}class kt extends st{constructor(e){super(),ut(this,e,wt,pt,mt,{value:0,label:1,name:8,show_label:2,autoplay:3,show_download_button:4,show_share_button:5,i18n:6})}}const{SvelteComponent:vt,action_destroyer:St,append:yt,assign:Hn,attr:ve,binding_callbacks:Et,detach:_n,element:gl,empty:At,exclude_internal_props:Mn,handle_promise:Ln,init:Vt,insert:dn,is_function:Ct,listen:ln,noop:He,run_all:Dt,safe_not_equal:Pt,set_data:qt,set_style:It,src_url_equal:Nn,text:Ht,update_await_block_branch:Mt}=window.__gradio__svelte__internal,{createEventDispatcher:Lt}=window.__gradio__svelte__internal;function Nt(n){let e,t=n[10].message+"",l;return{c(){e=gl("p"),l=Ht(t),It(e,"color","red")},m(i,a){dn(i,e,a),yt(e,l)},p(i,a){a&2&&t!==(t=i[10].message+"")&&qt(l,t)},d(i){i&&_n(e)}}}function Rt(n){let e,t,l,i,a,s;return{c(){e=gl("audio"),Nn(e.src,t=n[9])||ve(e,"src",t),e.controls=n[4],ve(e,"preload",n[5]),ve(e,"data-testid",l=n[7]["data-testid"]),ve(e,"class","svelte-eemfgq")},m(o,r){dn(o,e,r),n[8](e),a||(s=[ln(e,"play",n[6].bind(null,"play")),ln(e,"pause",n[6].bind(null,"pause")),ln(e,"ended",n[6].bind(null,"ended")),St(i=bl.call(null,e,{autoplay:n[2],crop_values:n[3]}))],a=!0)},p(o,r){r&2&&!Nn(e.src,t=o[9])&&ve(e,"src",t),r&16&&(e.controls=o[4]),r&32&&ve(e,"preload",o[5]),r&128&&l!==(l=o[7]["data-testid"])&&ve(e,"data-testid",l),i&&Ct(i.update)&&r&12&&i.update.call(null,{autoplay:o[2],crop_values:o[3]})},d(o){o&&_n(e),n[8](null),a=!1,Dt(s)}}}function Tt(n){return{c:He,m:He,p:He,d:He}}function Bt(n){let e,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Tt,then:Rt,catch:Nt,value:9,error:10};return Ln(t=Vn(n[1]),l),{c(){e=At(),l.block.c()},m(i,a){dn(i,e,a),l.block.m(i,l.anchor=a),l.mount=()=>e.parentNode,l.anchor=e},p(i,[a]){n=i,l.ctx=n,a&2&&t!==(t=Vn(n[1]))&&Ln(t,l)||Mt(l,n,a)},i:He,o:He,d(i){i&&_n(e),l.block.d(i),l.token=null,l=null}}}function Ft(n,e,t){let{src:l=void 0}=e,{autoplay:i=void 0}=e,{crop_values:a=void 0}=e,{controls:s=void 0}=e,{preload:o=void 0}=e,{node:r=void 0}=e;const h=Lt();function d(u){Et[u?"unshift":"push"](()=>{r=u,t(0,r)})}return n.$$set=u=>{t(7,e=Hn(Hn({},e),Mn(u))),"src"in u&&t(1,l=u.src),"autoplay"in u&&t(2,i=u.autoplay),"crop_values"in u&&t(3,a=u.crop_values),"controls"in u&&t(4,s=u.controls),"preload"in u&&t(5,o=u.preload),"node"in u&&t(0,r=u.node)},e=Mn(e),[r,l,i,a,s,o,h,e,d]}class Ut extends vt{constructor(e){super(),Vt(this,e,Ft,Bt,Pt,{src:1,autoplay:2,crop_values:3,controls:4,preload:5,node:0})}}const{SvelteComponent:Ot,append:x,attr:L,destroy_each:zt,detach:K,element:Z,empty:pl,ensure_array_like:Rn,init:Kt,insert:j,is_function:Ne,listen:Re,noop:Tn,prevent_default:mn,run_all:cn,safe_not_equal:jt,set_data:_e,space:sn,text:de,toggle_class:H}=window.__gradio__svelte__internal;function Bn(n,e,t){const l=n.slice();return l[27]=e[t],l[29]=t,l}function Fn(n){let e,t,l,i,a=(n[6]==="label"||n[7]==="label")&&Un(n);return{c(){e=Z("span"),a&&a.c(),L(e,"class","pip first"),L(e,"style",t=n[14]+": 0%;"),H(e,"selected",n[17](n[0])),H(e,"in-range",n[16](n[0]))},m(s,o){j(s,e,o),a&&a.m(e,null),l||(i=[Re(e,"click",function(){Ne(n[20](n[0]))&&n[20](n[0]).apply(this,arguments)}),Re(e,"touchend",mn(function(){Ne(n[20](n[0]))&&n[20](n[0]).apply(this,arguments)}))],l=!0)},p(s,o){n=s,n[6]==="label"||n[7]==="label"?a?a.p(n,o):(a=Un(n),a.c(),a.m(e,null)):a&&(a.d(1),a=null),o&16384&&t!==(t=n[14]+": 0%;")&&L(e,"style",t),o&131073&&H(e,"selected",n[17](n[0])),o&65537&&H(e,"in-range",n[16](n[0]))},d(s){s&&K(e),a&&a.d(),l=!1,cn(i)}}}function Un(n){let e,t=n[12](n[0],0,0)+"",l,i=n[10]&&On(n),a=n[11]&&zn(n);return{c(){e=Z("span"),i&&i.c(),l=de(t),a&&a.c(),L(e,"class","pipVal")},m(s,o){j(s,e,o),i&&i.m(e,null),x(e,l),a&&a.m(e,null)},p(s,o){s[10]?i?i.p(s,o):(i=On(s),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o&4097&&t!==(t=s[12](s[0],0,0)+"")&&_e(l,t),s[11]?a?a.p(s,o):(a=zn(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(s){s&&K(e),i&&i.d(),a&&a.d()}}}function On(n){let e,t;return{c(){e=Z("span"),t=de(n[10]),L(e,"class","pipVal-prefix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&1024&&_e(t,l[10])},d(l){l&&K(e)}}}function zn(n){let e,t;return{c(){e=Z("span"),t=de(n[11]),L(e,"class","pipVal-suffix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&2048&&_e(t,l[11])},d(l){l&&K(e)}}}function Kn(n){let e,t=Rn(Array(n[19]+1)),l=[];for(let i=0;i<t.length;i+=1)l[i]=Gn(Bn(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=pl()},m(i,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,a);j(i,e,a)},p(i,a){if(a&2088515){t=Rn(Array(i[19]+1));let s;for(s=0;s<t.length;s+=1){const o=Bn(i,t,s);l[s]?l[s].p(o,a):(l[s]=Gn(o),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&K(e),zt(l,i)}}}function jn(n){let e,t,l,i,a,s=(n[6]==="label"||n[9]==="label")&&Yn(n);return{c(){e=Z("span"),s&&s.c(),t=sn(),L(e,"class","pip"),L(e,"style",l=n[14]+": "+n[15](n[18](n[29]))+"%;"),H(e,"selected",n[17](n[18](n[29]))),H(e,"in-range",n[16](n[18](n[29])))},m(o,r){j(o,e,r),s&&s.m(e,null),x(e,t),i||(a=[Re(e,"click",function(){Ne(n[20](n[18](n[29])))&&n[20](n[18](n[29])).apply(this,arguments)}),Re(e,"touchend",mn(function(){Ne(n[20](n[18](n[29])))&&n[20](n[18](n[29])).apply(this,arguments)}))],i=!0)},p(o,r){n=o,n[6]==="label"||n[9]==="label"?s?s.p(n,r):(s=Yn(n),s.c(),s.m(e,t)):s&&(s.d(1),s=null),r&311296&&l!==(l=n[14]+": "+n[15](n[18](n[29]))+"%;")&&L(e,"style",l),r&393216&&H(e,"selected",n[17](n[18](n[29]))),r&327680&&H(e,"in-range",n[16](n[18](n[29])))},d(o){o&&K(e),s&&s.d(),i=!1,cn(a)}}}function Yn(n){let e,t=n[12](n[18](n[29]),n[29],n[15](n[18](n[29])))+"",l,i=n[10]&&Jn(n),a=n[11]&&Xn(n);return{c(){e=Z("span"),i&&i.c(),l=de(t),a&&a.c(),L(e,"class","pipVal")},m(s,o){j(s,e,o),i&&i.m(e,null),x(e,l),a&&a.m(e,null)},p(s,o){s[10]?i?i.p(s,o):(i=Jn(s),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o&299008&&t!==(t=s[12](s[18](s[29]),s[29],s[15](s[18](s[29])))+"")&&_e(l,t),s[11]?a?a.p(s,o):(a=Xn(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(s){s&&K(e),i&&i.d(),a&&a.d()}}}function Jn(n){let e,t;return{c(){e=Z("span"),t=de(n[10]),L(e,"class","pipVal-prefix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&1024&&_e(t,l[10])},d(l){l&&K(e)}}}function Xn(n){let e,t;return{c(){e=Z("span"),t=de(n[11]),L(e,"class","pipVal-suffix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&2048&&_e(t,l[11])},d(l){l&&K(e)}}}function Gn(n){let e=n[18](n[29])!==n[0]&&n[18](n[29])!==n[1],t,l=e&&jn(n);return{c(){l&&l.c(),t=pl()},m(i,a){l&&l.m(i,a),j(i,t,a)},p(i,a){a&262147&&(e=i[18](i[29])!==i[0]&&i[18](i[29])!==i[1]),e?l?l.p(i,a):(l=jn(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){i&&K(t),l&&l.d(i)}}}function Qn(n){let e,t,l,i,a=(n[6]==="label"||n[8]==="label")&&Wn(n);return{c(){e=Z("span"),a&&a.c(),L(e,"class","pip last"),L(e,"style",t=n[14]+": 100%;"),H(e,"selected",n[17](n[1])),H(e,"in-range",n[16](n[1]))},m(s,o){j(s,e,o),a&&a.m(e,null),l||(i=[Re(e,"click",function(){Ne(n[20](n[1]))&&n[20](n[1]).apply(this,arguments)}),Re(e,"touchend",mn(function(){Ne(n[20](n[1]))&&n[20](n[1]).apply(this,arguments)}))],l=!0)},p(s,o){n=s,n[6]==="label"||n[8]==="label"?a?a.p(n,o):(a=Wn(n),a.c(),a.m(e,null)):a&&(a.d(1),a=null),o&16384&&t!==(t=n[14]+": 100%;")&&L(e,"style",t),o&131074&&H(e,"selected",n[17](n[1])),o&65538&&H(e,"in-range",n[16](n[1]))},d(s){s&&K(e),a&&a.d(),l=!1,cn(i)}}}function Wn(n){let e,t=n[12](n[1],n[19],100)+"",l,i=n[10]&&Zn(n),a=n[11]&&$n(n);return{c(){e=Z("span"),i&&i.c(),l=de(t),a&&a.c(),L(e,"class","pipVal")},m(s,o){j(s,e,o),i&&i.m(e,null),x(e,l),a&&a.m(e,null)},p(s,o){s[10]?i?i.p(s,o):(i=Zn(s),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o&528386&&t!==(t=s[12](s[1],s[19],100)+"")&&_e(l,t),s[11]?a?a.p(s,o):(a=$n(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(s){s&&K(e),i&&i.d(),a&&a.d()}}}function Zn(n){let e,t;return{c(){e=Z("span"),t=de(n[10]),L(e,"class","pipVal-prefix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&1024&&_e(t,l[10])},d(l){l&&K(e)}}}function $n(n){let e,t;return{c(){e=Z("span"),t=de(n[11]),L(e,"class","pipVal-suffix")},m(l,i){j(l,e,i),x(e,t)},p(l,i){i&2048&&_e(t,l[11])},d(l){l&&K(e)}}}function Yt(n){let e,t,l,i=(n[6]&&n[7]!==!1||n[7])&&Fn(n),a=(n[6]&&n[9]!==!1||n[9])&&Kn(n),s=(n[6]&&n[8]!==!1||n[8])&&Qn(n);return{c(){e=Z("div"),i&&i.c(),t=sn(),a&&a.c(),l=sn(),s&&s.c(),L(e,"class","rangePips"),H(e,"disabled",n[5]),H(e,"hoverable",n[4]),H(e,"vertical",n[2]),H(e,"reversed",n[3]),H(e,"focus",n[13])},m(o,r){j(o,e,r),i&&i.m(e,null),x(e,t),a&&a.m(e,null),x(e,l),s&&s.m(e,null)},p(o,[r]){o[6]&&o[7]!==!1||o[7]?i?i.p(o,r):(i=Fn(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),o[6]&&o[9]!==!1||o[9]?a?a.p(o,r):(a=Kn(o),a.c(),a.m(e,l)):a&&(a.d(1),a=null),o[6]&&o[8]!==!1||o[8]?s?s.p(o,r):(s=Qn(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),r&32&&H(e,"disabled",o[5]),r&16&&H(e,"hoverable",o[4]),r&4&&H(e,"vertical",o[2]),r&8&&H(e,"reversed",o[3]),r&8192&&H(e,"focus",o[13])},i:Tn,o:Tn,d(o){o&&K(e),i&&i.d(),a&&a.d(),s&&s.d()}}}function Jt(n,e,t){let l,i,a,s,o,{range:r=!1}=e,{min:h=0}=e,{max:d=100}=e,{step:u=1}=e,{values:_=[(d+h)/2]}=e,{vertical:m=!1}=e,{reversed:c=!1}=e,{hoverable:k=!0}=e,{disabled:V=!1}=e,{pipstep:w=void 0}=e,{all:S=!0}=e,{first:N=void 0}=e,{last:D=void 0}=e,{rest:Q=void 0}=e,{prefix:M=""}=e,{suffix:ee=""}=e,{formatter:A=(g,se)=>g}=e,{focus:Y=void 0}=e,{orientationStart:ne=void 0}=e,{percentOf:te=void 0}=e,{moveHandle:P=void 0}=e;function le(g){P(void 0,g)}return n.$$set=g=>{"range"in g&&t(21,r=g.range),"min"in g&&t(0,h=g.min),"max"in g&&t(1,d=g.max),"step"in g&&t(22,u=g.step),"values"in g&&t(23,_=g.values),"vertical"in g&&t(2,m=g.vertical),"reversed"in g&&t(3,c=g.reversed),"hoverable"in g&&t(4,k=g.hoverable),"disabled"in g&&t(5,V=g.disabled),"pipstep"in g&&t(24,w=g.pipstep),"all"in g&&t(6,S=g.all),"first"in g&&t(7,N=g.first),"last"in g&&t(8,D=g.last),"rest"in g&&t(9,Q=g.rest),"prefix"in g&&t(10,M=g.prefix),"suffix"in g&&t(11,ee=g.suffix),"formatter"in g&&t(12,A=g.formatter),"focus"in g&&t(13,Y=g.focus),"orientationStart"in g&&t(14,ne=g.orientationStart),"percentOf"in g&&t(15,te=g.percentOf),"moveHandle"in g&&t(25,P=g.moveHandle)},n.$$.update=()=>{n.$$.dirty&20971527&&t(26,l=w||((d-h)/u>=(m?50:100)?(d-h)/(m?10:20):1)),n.$$.dirty&71303171&&t(19,i=parseInt((d-h)/(u*l),10)),n.$$.dirty&71303169&&t(18,a=function(g){return h+g*u*l}),n.$$.dirty&8388608&&t(17,s=function(g){return _.some(se=>se===g)}),n.$$.dirty&10485760&&t(16,o=function(g){if(r==="min")return _[0]>g;if(r==="max")return _[0]<g;if(r)return _[0]<g&&_[1]>g})},[h,d,m,c,k,V,S,N,D,Q,M,ee,A,Y,ne,te,o,s,a,i,le,r,u,_,w,P,l]}class Xt extends Ot{constructor(e){super(),Kt(this,e,Jt,Yt,jt,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}const{SvelteComponent:Gt,append:Se,attr:y,binding_callbacks:Qt,check_outros:Wt,create_component:Zt,destroy_component:$t,destroy_each:xt,detach:Te,element:ye,ensure_array_like:xn,group_outros:ei,init:ni,insert:Be,listen:J,mount_component:li,noop:ti,prevent_default:el,run_all:wl,safe_not_equal:ii,set_data:hn,space:on,subscribe:ai,text:bn,toggle_class:q,transition_in:Ye,transition_out:rn}=window.__gradio__svelte__internal,{createEventDispatcher:si}=window.__gradio__svelte__internal;function nl(n,e,t){const l=n.slice();return l[63]=e[t],l[65]=t,l}function ll(n){let e,t=n[21](n[63],n[65],n[23](n[63]))+"",l,i=n[18]&&tl(n),a=n[19]&&il(n);return{c(){e=ye("span"),i&&i.c(),l=bn(t),a&&a.c(),y(e,"class","rangeFloat")},m(s,o){Be(s,e,o),i&&i.m(e,null),Se(e,l),a&&a.m(e,null)},p(s,o){s[18]?i?i.p(s,o):(i=tl(s),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0]&10485761&&t!==(t=s[21](s[63],s[65],s[23](s[63]))+"")&&hn(l,t),s[19]?a?a.p(s,o):(a=il(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(s){s&&Te(e),i&&i.d(),a&&a.d()}}}function tl(n){let e,t;return{c(){e=ye("span"),t=bn(n[18]),y(e,"class","rangeFloat-prefix")},m(l,i){Be(l,e,i),Se(e,t)},p(l,i){i[0]&262144&&hn(t,l[18])},d(l){l&&Te(e)}}}function il(n){let e,t;return{c(){e=ye("span"),t=bn(n[19]),y(e,"class","rangeFloat-suffix")},m(l,i){Be(l,e,i),Se(e,t)},p(l,i){i[0]&524288&&hn(t,l[19])},d(l){l&&Te(e)}}}function al(n){let e,t,l,i,a,s,o,r,h,d,u,_,m=n[7]&&ll(n);return{c(){e=ye("span"),t=ye("span"),l=on(),m&&m.c(),y(t,"class","rangeNub"),y(e,"role","slider"),y(e,"class","rangeHandle"),y(e,"data-handle",n[65]),y(e,"style",i=n[28]+": "+n[29][n[65]]+"%; z-index: "+(n[26]===n[65]?3:2)+";"),y(e,"aria-valuemin",a=n[2]===!0&&n[65]===1?n[0][0]:n[3]),y(e,"aria-valuemax",s=n[2]===!0&&n[65]===0?n[0][1]:n[4]),y(e,"aria-valuenow",o=n[63]),y(e,"aria-valuetext",r=""+(n[18]+n[21](n[63],n[65],n[23](n[63]))+n[19])),y(e,"aria-orientation",h=n[6]?"vertical":"horizontal"),y(e,"aria-disabled",n[10]),y(e,"disabled",n[10]),y(e,"tabindex",d=n[10]?-1:0),q(e,"active",n[24]&&n[26]===n[65]),q(e,"press",n[25]&&n[26]===n[65])},m(c,k){Be(c,e,k),Se(e,t),Se(e,l),m&&m.m(e,null),u||(_=[J(e,"blur",n[33]),J(e,"focus",n[34]),J(e,"keydown",n[35])],u=!0)},p(c,k){c[7]?m?m.p(c,k):(m=ll(c),m.c(),m.m(e,null)):m&&(m.d(1),m=null),k[0]&872415232&&i!==(i=c[28]+": "+c[29][c[65]]+"%; z-index: "+(c[26]===c[65]?3:2)+";")&&y(e,"style",i),k[0]&13&&a!==(a=c[2]===!0&&c[65]===1?c[0][0]:c[3])&&y(e,"aria-valuemin",a),k[0]&21&&s!==(s=c[2]===!0&&c[65]===0?c[0][1]:c[4])&&y(e,"aria-valuemax",s),k[0]&1&&o!==(o=c[63])&&y(e,"aria-valuenow",o),k[0]&11272193&&r!==(r=""+(c[18]+c[21](c[63],c[65],c[23](c[63]))+c[19]))&&y(e,"aria-valuetext",r),k[0]&64&&h!==(h=c[6]?"vertical":"horizontal")&&y(e,"aria-orientation",h),k[0]&1024&&y(e,"aria-disabled",c[10]),k[0]&1024&&y(e,"disabled",c[10]),k[0]&1024&&d!==(d=c[10]?-1:0)&&y(e,"tabindex",d),k[0]&83886080&&q(e,"active",c[24]&&c[26]===c[65]),k[0]&100663296&&q(e,"press",c[25]&&c[26]===c[65])},d(c){c&&Te(e),m&&m.d(),u=!1,wl(_)}}}function sl(n){let e,t;return{c(){e=ye("span"),y(e,"class","rangeBar"),y(e,"style",t=n[28]+": "+n[31](n[29])+"%; "+n[27]+": "+n[32](n[29])+"%;")},m(l,i){Be(l,e,i)},p(l,i){i[0]&939524096&&t!==(t=l[28]+": "+l[31](l[29])+"%; "+l[27]+": "+l[32](l[29])+"%;")&&y(e,"style",t)},d(l){l&&Te(e)}}}function ol(n){let e,t;return e=new Xt({props:{values:n[0],min:n[3],max:n[4],step:n[5],range:n[2],vertical:n[6],reversed:n[8],orientationStart:n[28],hoverable:n[9],disabled:n[10],all:n[13],first:n[14],last:n[15],rest:n[16],pipstep:n[12],prefix:n[18],suffix:n[19],formatter:n[20],focus:n[24],percentOf:n[23],moveHandle:n[30]}}),{c(){Zt(e.$$.fragment)},m(l,i){li(e,l,i),t=!0},p(l,i){const a={};i[0]&1&&(a.values=l[0]),i[0]&8&&(a.min=l[3]),i[0]&16&&(a.max=l[4]),i[0]&32&&(a.step=l[5]),i[0]&4&&(a.range=l[2]),i[0]&64&&(a.vertical=l[6]),i[0]&256&&(a.reversed=l[8]),i[0]&268435456&&(a.orientationStart=l[28]),i[0]&512&&(a.hoverable=l[9]),i[0]&1024&&(a.disabled=l[10]),i[0]&8192&&(a.all=l[13]),i[0]&16384&&(a.first=l[14]),i[0]&32768&&(a.last=l[15]),i[0]&65536&&(a.rest=l[16]),i[0]&4096&&(a.pipstep=l[12]),i[0]&262144&&(a.prefix=l[18]),i[0]&524288&&(a.suffix=l[19]),i[0]&1048576&&(a.formatter=l[20]),i[0]&16777216&&(a.focus=l[24]),i[0]&8388608&&(a.percentOf=l[23]),e.$set(a)},i(l){t||(Ye(e.$$.fragment,l),t=!0)},o(l){rn(e.$$.fragment,l),t=!1},d(l){$t(e,l)}}}function oi(n){let e,t,l,i,a,s,o=xn(n[0]),r=[];for(let u=0;u<o.length;u+=1)r[u]=al(nl(n,o,u));let h=n[2]&&sl(n),d=n[11]&&ol(n);return{c(){e=ye("div");for(let u=0;u<r.length;u+=1)r[u].c();t=on(),h&&h.c(),l=on(),d&&d.c(),y(e,"id",n[17]),y(e,"class","rangeSlider"),q(e,"range",n[2]),q(e,"disabled",n[10]),q(e,"hoverable",n[9]),q(e,"vertical",n[6]),q(e,"reversed",n[8]),q(e,"focus",n[24]),q(e,"min",n[2]==="min"),q(e,"max",n[2]==="max"),q(e,"pips",n[11]),q(e,"pip-labels",n[13]==="label"||n[14]==="label"||n[15]==="label"||n[16]==="label")},m(u,_){Be(u,e,_);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);Se(e,t),h&&h.m(e,null),Se(e,l),d&&d.m(e,null),n[49](e),i=!0,a||(s=[J(window,"mousedown",n[38]),J(window,"touchstart",n[38]),J(window,"mousemove",n[39]),J(window,"touchmove",n[39]),J(window,"mouseup",n[40]),J(window,"touchend",n[41]),J(window,"keydown",n[42]),J(e,"mousedown",n[36]),J(e,"mouseup",n[37]),J(e,"touchstart",el(n[36])),J(e,"touchend",el(n[37]))],a=!0)},p(u,_){if(_[0]&934020317|_[1]&28){o=xn(u[0]);let m;for(m=0;m<o.length;m+=1){const c=nl(u,o,m);r[m]?r[m].p(c,_):(r[m]=al(c),r[m].c(),r[m].m(e,t))}for(;m<r.length;m+=1)r[m].d(1);r.length=o.length}u[2]?h?h.p(u,_):(h=sl(u),h.c(),h.m(e,l)):h&&(h.d(1),h=null),u[11]?d?(d.p(u,_),_[0]&2048&&Ye(d,1)):(d=ol(u),d.c(),Ye(d,1),d.m(e,null)):d&&(ei(),rn(d,1,1,()=>{d=null}),Wt()),(!i||_[0]&131072)&&y(e,"id",u[17]),(!i||_[0]&4)&&q(e,"range",u[2]),(!i||_[0]&1024)&&q(e,"disabled",u[10]),(!i||_[0]&512)&&q(e,"hoverable",u[9]),(!i||_[0]&64)&&q(e,"vertical",u[6]),(!i||_[0]&256)&&q(e,"reversed",u[8]),(!i||_[0]&16777216)&&q(e,"focus",u[24]),(!i||_[0]&4)&&q(e,"min",u[2]==="min"),(!i||_[0]&4)&&q(e,"max",u[2]==="max"),(!i||_[0]&2048)&&q(e,"pips",u[11]),(!i||_[0]&122880)&&q(e,"pip-labels",u[13]==="label"||u[14]==="label"||u[15]==="label"||u[16]==="label")},i(u){i||(Ye(d),i=!0)},o(u){rn(d),i=!1},d(u){u&&Te(e),xt(r,u),h&&h.d(),d&&d.d(),n[49](null),a=!1,wl(s)}}}function rl(n){if(!n)return-1;for(var e=0;n=n.previousElementSibling;)e++;return e}function tn(n){return n.type.includes("touch")?n.touches[0]:n}function ri(n,e,t){let l,i,a,s,o,r,h=ti,d=()=>(h(),h=ai(p,f=>t(29,r=f)),p);n.$$.on_destroy.push(()=>h());let{slider:u}=e,{range:_=!1}=e,{pushy:m=!1}=e,{min:c=0}=e,{max:k=100}=e,{step:V=1}=e,{values:w=[(k+c)/2]}=e,{vertical:S=!1}=e,{float:N=!1}=e,{reversed:D=!1}=e,{hoverable:Q=!0}=e,{disabled:M=!1}=e,{pips:ee=!1}=e,{pipstep:A=void 0}=e,{all:Y=void 0}=e,{first:ne=void 0}=e,{last:te=void 0}=e,{rest:P=void 0}=e,{id:le=void 0}=e,{prefix:g=""}=e,{suffix:se=""}=e,{formatter:he=(f,v,C)=>f}=e,{handleFormatter:qe=he}=e,{precision:me=2}=e,{springValues:be={stiffness:.15,damping:.4}}=e;const ge=si();let pe=0,U=!1,ie=!1,ae=!1,we=!1,O=w.length-1,b,ke,p;function z(f){const v=u.querySelectorAll(".handle"),C=Array.prototype.includes.call(v,f),E=Array.prototype.some.call(v,re=>re.contains(f));return C||E}function oe(f){return _==="min"||_==="max"?f.slice(0,1):_?f.slice(0,2):f}function ce(){return u.getBoundingClientRect()}function Vl(f){const v=ce();let C=0,E=0,re=0;S?(C=f.clientY-v.top,E=C/v.height*100,E=D?E:100-E):(C=f.clientX-v.left,E=C/v.width*100,E=D?100-E:E),re=(k-c)/100*E+c;let En;return _===!0&&w[0]===w[1]?re>w[1]?1:0:(En=w.indexOf([...w].sort((zl,Kl)=>Math.abs(re-zl)-Math.abs(re-Kl))[0]),En)}function $e(f){const v=ce();let C=0,E=0,re=0;S?(C=f.clientY-v.top,E=C/v.height*100,E=D?E:100-E):(C=f.clientX-v.left,E=C/v.width*100,E=D?100-E:E),re=(k-c)/100*E+c,Ie(O,re)}function Ie(f,v){return v=a(v),typeof f>"u"&&(f=O),_&&(f===0&&v>w[1]?m?t(0,w[1]=v,w):v=w[1]:f===1&&v<w[0]&&(m?t(0,w[0]=v,w):v=w[0])),w[f]!==v&&t(0,w[f]=v,w),ke!==v&&(Ul(),ke=v),v}function Cl(f){return _==="min"?0:f[0]}function Dl(f){return _==="max"?0:_==="min"?100-f[0]:100-f[1]}function Pl(f){we&&(t(24,U=!1),ie=!1,t(25,ae=!1))}function ql(f){M||(t(26,O=rl(f.target)),t(24,U=!0))}function Il(f){if(!M){const v=rl(f.target);let C=f.ctrlKey||f.metaKey||f.shiftKey?V*10:V,E=!1;switch(f.key){case"PageDown":C*=10;case"ArrowRight":case"ArrowUp":Ie(v,w[v]+C),E=!0;break;case"PageUp":C*=10;case"ArrowLeft":case"ArrowDown":Ie(v,w[v]-C),E=!0;break;case"Home":Ie(v,c),E=!0;break;case"End":Ie(v,k),E=!0;break}E&&(f.preventDefault(),f.stopPropagation())}}function Hl(f){if(!M){const v=f.target,C=tn(f);t(24,U=!0),ie=!0,t(25,ae=!0),t(26,O=Vl(C)),b=ke=a(w[O]),Fl(),f.type==="touchstart"&&!v.matches(".pipVal")&&$e(C)}}function Ml(f){f.type==="touchend"&&yn(),t(25,ae=!1)}function Ll(f){we=!1,U&&f.target!==u&&!u.contains(f.target)&&t(24,U=!1)}function Nl(f){M||ie&&$e(tn(f))}function Rl(f){if(!M){const v=f.target;ie&&((v===u||u.contains(v))&&(t(24,U=!0),!z(v)&&!v.matches(".pipVal")&&$e(tn(f))),yn())}ie=!1,t(25,ae=!1)}function Tl(f){ie=!1,t(25,ae=!1)}function Bl(f){M||(f.target===u||u.contains(f.target))&&(we=!0)}function Fl(){!M&&ge("start",{activeHandle:O,value:b,values:w.map(f=>a(f))})}function yn(){!M&&ge("stop",{activeHandle:O,startValue:b,value:w[O],values:w.map(f=>a(f))})}function Ul(){!M&&ge("change",{activeHandle:O,startValue:b,previousValue:typeof ke>"u"?b:ke,value:w[O],values:w.map(f=>a(f))})}function Ol(f){Qt[f?"unshift":"push"](()=>{u=f,t(1,u)})}return n.$$set=f=>{"slider"in f&&t(1,u=f.slider),"range"in f&&t(2,_=f.range),"pushy"in f&&t(43,m=f.pushy),"min"in f&&t(3,c=f.min),"max"in f&&t(4,k=f.max),"step"in f&&t(5,V=f.step),"values"in f&&t(0,w=f.values),"vertical"in f&&t(6,S=f.vertical),"float"in f&&t(7,N=f.float),"reversed"in f&&t(8,D=f.reversed),"hoverable"in f&&t(9,Q=f.hoverable),"disabled"in f&&t(10,M=f.disabled),"pips"in f&&t(11,ee=f.pips),"pipstep"in f&&t(12,A=f.pipstep),"all"in f&&t(13,Y=f.all),"first"in f&&t(14,ne=f.first),"last"in f&&t(15,te=f.last),"rest"in f&&t(16,P=f.rest),"id"in f&&t(17,le=f.id),"prefix"in f&&t(18,g=f.prefix),"suffix"in f&&t(19,se=f.suffix),"formatter"in f&&t(20,he=f.formatter),"handleFormatter"in f&&t(21,qe=f.handleFormatter),"precision"in f&&t(44,me=f.precision),"springValues"in f&&t(45,be=f.springValues)},n.$$.update=()=>{n.$$.dirty[0]&24&&t(48,i=function(f){return f<=c?c:f>=k?k:f}),n.$$.dirty[0]&56|n.$$.dirty[1]&139264&&t(47,a=function(f){if(f<=c)return c;if(f>=k)return k;let v=(f-c)%V,C=f-v;return Math.abs(v)*2>=V&&(C+=v>0?V:-V),C=i(C),parseFloat(C.toFixed(me))}),n.$$.dirty[0]&24|n.$$.dirty[1]&8192&&t(23,l=function(f){let v=(f-c)/(k-c)*100;return isNaN(v)||v<=0?0:v>=100?100:parseFloat(v.toFixed(me))}),n.$$.dirty[0]&12582937|n.$$.dirty[1]&114688&&(Array.isArray(w)||(t(0,w=[(k+c)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),t(0,w=oe(w.map(f=>a(f)))),pe!==w.length?d(t(22,p=Wl(w.map(f=>l(f)),be))):p.set(w.map(f=>l(f))),t(46,pe=w.length)),n.$$.dirty[0]&320&&t(28,s=S?D?"top":"bottom":D?"right":"left"),n.$$.dirty[0]&320&&t(27,o=S?D?"bottom":"top":D?"left":"right")},[w,u,_,c,k,V,S,N,D,Q,M,ee,A,Y,ne,te,P,le,g,se,he,qe,p,l,U,ae,O,o,s,r,Ie,Cl,Dl,Pl,ql,Il,Hl,Ml,Ll,Nl,Rl,Tl,Bl,m,me,be,pe,a,i,Ol]}class fi extends Gt{constructor(e){super(),ni(this,e,ri,oi,ii,{slider:1,range:2,pushy:43,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:44,springValues:45},null,[-1,-1,-1])}}const{SvelteComponent:ui,add_flush_callback:gn,attr:Ge,bind:pn,binding_callbacks:wn,bubble:fl,check_outros:Qe,create_component:Ee,create_slot:_i,destroy_component:Ae,detach:X,element:We,empty:kn,get_all_dirty_from_scope:di,get_slot_changes:mi,group_outros:Ze,init:ci,insert:G,mount_component:Ve,safe_not_equal:hi,set_data:kl,space:Fe,text:vl,transition_in:T,transition_out:F,update_slot_base:bi}=window.__gradio__svelte__internal,{onDestroy:gi,createEventDispatcher:pi}=window.__gradio__svelte__internal;function wi(n){let e,t,l,i,a,s,o,r;e=new $l({props:{i18n:n[9],editable:n[8],absolute:!0}}),e.$on("clear",n[16]),e.$on("edit",n[27]);function h(_){n[28](_)}let d={controls:!0,autoplay:n[7],crop_values:n[13],preload:"metadata",src:n[1]?.data,"data-testid":`${n[2]}-audio`};n[12]!==void 0&&(d.node=n[12]),i=new Ut({props:d}),wn.push(()=>pn(i,"node",h)),i.$on("play",n[29]),i.$on("pause",n[30]),i.$on("ended",n[19]);let u=n[11]==="edit"&&n[12]?.duration&&ul(n);return{c(){Ee(e.$$.fragment),t=Fe(),l=We("div"),Ee(i.$$.fragment),s=Fe(),u&&u.c(),o=kn(),Ge(l,"class","container")},m(_,m){Ve(e,_,m),G(_,t,m),G(_,l,m),Ve(i,l,null),G(_,s,m),u&&u.m(_,m),G(_,o,m),r=!0},p(_,m){const c={};m[0]&512&&(c.i18n=_[9]),m[0]&256&&(c.editable=_[8]),e.$set(c);const k={};m[0]&128&&(k.autoplay=_[7]),m[0]&8192&&(k.crop_values=_[13]),m[0]&2&&(k.src=_[1]?.data),m[0]&4&&(k["data-testid"]=`${_[2]}-audio`),!a&&m[0]&4096&&(a=!0,k.node=_[12],gn(()=>a=!1)),i.$set(k),_[11]==="edit"&&_[12]?.duration?u?(u.p(_,m),m[0]&6144&&T(u,1)):(u=ul(_),u.c(),T(u,1),u.m(o.parentNode,o)):u&&(Ze(),F(u,1,1,()=>{u=null}),Qe())},i(_){r||(T(e.$$.fragment,_),T(i.$$.fragment,_),T(u),r=!0)},o(_){F(e.$$.fragment,_),F(i.$$.fragment,_),F(u),r=!1},d(_){_&&(X(t),X(l),X(s),X(o)),Ae(e,_),Ae(i),u&&u.d(_)}}}function ki(n){let e,t,l,i;const a=[Si,vi],s=[];function o(r,h){return r[5]==="microphone"?0:r[5]==="upload"?1:-1}return~(e=o(n))&&(t=s[e]=a[e](n)),{c(){t&&t.c(),l=kn()},m(r,h){~e&&s[e].m(r,h),G(r,l,h),i=!0},p(r,h){let d=e;e=o(r),e===d?~e&&s[e].p(r,h):(t&&(Ze(),F(s[d],1,1,()=>{s[d]=null}),Qe()),~e?(t=s[e],t?t.p(r,h):(t=s[e]=a[e](r),t.c()),T(t,1),t.m(l.parentNode,l)):t=null)},i(r){i||(T(t),i=!0)},o(r){F(t),i=!1},d(r){r&&X(l),~e&&s[e].d(r)}}}function ul(n){let e,t,l;function i(s){n[31](s)}let a={range:!0,min:0,max:100,step:1};return n[13]!==void 0&&(a.values=n[13]),e=new fi({props:a}),wn.push(()=>pn(e,"values",i)),e.$on("change",n[17]),{c(){Ee(e.$$.fragment)},m(s,o){Ve(e,s,o),l=!0},p(s,o){const r={};!t&&o[0]&8192&&(t=!0,r.values=s[13],gn(()=>t=!1)),e.$set(r)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){F(e.$$.fragment,s),l=!1},d(s){Ae(e,s)}}}function vi(n){let e,t,l;function i(s){n[26](s)}let a={filetype:"audio/aac,audio/midi,audio/mpeg,audio/ogg,audio/wav,audio/x-wav,audio/opus,audio/webm,audio/flac,audio/vnd.rn-realaudio,audio/x-ms-wma,audio/x-aiff,audio/amr,audio/*",root:n[3],$$slots:{default:[yi]},$$scope:{ctx:n}};return n[0]!==void 0&&(a.dragging=n[0]),e=new Zl({props:a}),wn.push(()=>pn(e,"dragging",i)),e.$on("load",n[18]),{c(){Ee(e.$$.fragment)},m(s,o){Ve(e,s,o),l=!0},p(s,o){const r={};o[0]&8&&(r.root=s[3]),o[1]&2&&(r.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,r.dragging=s[0],gn(()=>t=!1)),e.$set(r)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){F(e.$$.fragment,s),l=!1},d(s){Ae(e,s)}}}function Si(n){let e,t,l,i;const a=[Ai,Ei],s=[];function o(r,h){return r[10]?0:1}return t=o(n),l=s[t]=a[t](n),{c(){e=We("div"),l.c(),Ge(e,"class","mic-wrap svelte-600m6y")},m(r,h){G(r,e,h),s[t].m(e,null),i=!0},p(r,h){let d=t;t=o(r),t===d?s[t].p(r,h):(Ze(),F(s[d],1,1,()=>{s[d]=null}),Qe(),l=s[t],l?l.p(r,h):(l=s[t]=a[t](r),l.c()),T(l,1),l.m(e,null))},i(r){i||(T(l),i=!0)},o(r){F(l),i=!1},d(r){r&&X(e),s[t].d()}}}function yi(n){let e;const t=n[25].default,l=_i(t,n,n[32],null);return{c(){l&&l.c()},m(i,a){l&&l.m(i,a),e=!0},p(i,a){l&&l.p&&(!e||a[1]&2)&&bi(l,t,i,i[32],e?mi(t,i[32],a,null):di(i[32]),null)},i(i){e||(T(l,i),e=!0)},o(i){F(l,i),e=!1},d(i){l&&l.d(i)}}}function Ei(n){let e,t;return e=new dl({props:{size:"sm",$$slots:{default:[Vi]},$$scope:{ctx:n}}}),e.$on("click",n[14]),{c(){Ee(e.$$.fragment)},m(l,i){Ve(e,l,i),t=!0},p(l,i){const a={};i[0]&512|i[1]&2&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){Ae(e,l)}}}function Ai(n){let e,t;return e=new dl({props:{size:"sm",$$slots:{default:[Ci]},$$scope:{ctx:n}}}),e.$on("click",n[15]),{c(){Ee(e.$$.fragment)},m(l,i){Ve(e,l,i),t=!0},p(l,i){const a={};i[0]&512|i[1]&2&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){Ae(e,l)}}}function Vi(n){let e,t,l=n[9]("audio.record_from_microphone")+"",i;return{c(){e=We("span"),e.innerHTML='<span class="dot svelte-600m6y"></span>',t=Fe(),i=vl(l),Ge(e,"class","record-icon svelte-600m6y")},m(a,s){G(a,e,s),G(a,t,s),G(a,i,s)},p(a,s){s[0]&512&&l!==(l=a[9]("audio.record_from_microphone")+"")&&kl(i,l)},d(a){a&&(X(e),X(t),X(i))}}}function Ci(n){let e,t,l=n[9]("audio.stop_recording")+"",i;return{c(){e=We("span"),e.innerHTML='<span class="pinger svelte-600m6y"></span> <span class="dot svelte-600m6y"></span>',t=Fe(),i=vl(l),Ge(e,"class","record-icon svelte-600m6y")},m(a,s){G(a,e,s),G(a,t,s),G(a,i,s)},p(a,s){s[0]&512&&l!==(l=a[9]("audio.stop_recording")+"")&&kl(i,l)},d(a){a&&(X(e),X(t),X(i))}}}function Di(n){let e,t,l,i,a,s;e=new cl({props:{show_label:n[4],Icon:fn,float:n[5]==="upload"&&n[1]===null,label:n[2]||n[9]("audio.audio")}});const o=[ki,wi],r=[];function h(d,u){return d[1]===null||d[6]?0:1}return l=h(n),i=r[l]=o[l](n),{c(){Ee(e.$$.fragment),t=Fe(),i.c(),a=kn()},m(d,u){Ve(e,d,u),G(d,t,u),r[l].m(d,u),G(d,a,u),s=!0},p(d,u){const _={};u[0]&16&&(_.show_label=d[4]),u[0]&34&&(_.float=d[5]==="upload"&&d[1]===null),u[0]&516&&(_.label=d[2]||d[9]("audio.audio")),e.$set(_);let m=l;l=h(d),l===m?r[l].p(d,u):(Ze(),F(r[m],1,1,()=>{r[m]=null}),Qe(),i=r[l],i?i.p(d,u):(i=r[l]=o[l](d),i.c()),T(i,1),i.m(a.parentNode,a))},i(d){s||(T(e.$$.fragment,d),T(i),s=!0)},o(d){F(e.$$.fragment,d),F(i),s=!1},d(d){d&&(X(t),X(a)),Ae(e,d),r[l].d(d)}}}const Pi=500,_l=44;function qi(n){return new Promise((e,t)=>{let l=new FileReader;l.onerror=t,l.onload=()=>e(l.result),l.readAsDataURL(n)})}function Ii(n,e,t){let{$$slots:l={},$$scope:i}=e,{value:a=null}=e,{label:s}=e,{root:o}=e,{show_label:r=!0}=e,{name:h=""}=e,{source:d}=e,{pending:u=!1}=e,{streaming:_=!1}=e,{autoplay:m=!1}=e,{show_edit_button:c=!0}=e,{i18n:k}=e,V=!1,w,S="",N,D=[],Q=!1,M,ee=!1,A=[0,100],Y=[],ne;function te(){ne=[An(()=>import("./module-aa47442c.js"),["./module-aa47442c.js","./Index-3fe49d12.js","./index-94f2722f.js","./index-275df759.css","./Index-fbbe9498.css"],import.meta.url),An(()=>import("./module-1791af61.js"),[],import.meta.url)]}_&&te();const P=pi(),le=async(p,z)=>{let oe=new Blob(p,{type:"audio/wav"});t(1,a={data:await qi(oe),name:"audio.wav"});const ce={...a,is_file:!1};P(z,ce)};async function g(){let p;try{p=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(z){if(!navigator.mediaDevices){P("error",k("audio.no_device_support"));return}if(z instanceof DOMException&&z.name=="NotAllowedError"){P("error",k("audio.allow_recording_access"));return}throw z}if(p!=null){if(_){const[{MediaRecorder:z,register:oe},{connect:ce}]=await Promise.all(ne);await oe(await ce()),w=new z(p,{mimeType:"audio/wav"}),w.addEventListener("dataavailable",se)}else w=new MediaRecorder(p),w.addEventListener("dataavailable",z=>{Y.push(z.data)}),w.addEventListener("stop",async()=>{t(10,V=!1),await le(Y,"change"),await le(Y,"stop_recording"),Y=[]});ee=!0}}async function se(p){let z=await p.data.arrayBuffer(),oe=new Uint8Array(z);if(N||(t(22,N=new Uint8Array(z.slice(0,_l))),oe=new Uint8Array(z.slice(_l))),u)D.push(oe);else{let ce=[N].concat(D,[oe]);le(ce,"stream"),t(23,D=[])}}async function he(){if(!navigator.mediaDevices){P("error",k("audio.no_device_support"));return}t(10,V=!0),P("start_recording"),ee||await g(),t(22,N=void 0),_?w.start(Pi):w.start()}gi(()=>{w&&w.state!=="inactive"&&w.stop()});function qe(){w.stop(),_&&(t(10,V=!1),P("stop_recording"),u&&t(24,Q=!0))}function me(){P("change",null),P("clear"),t(11,S=""),t(1,a=null)}function be({detail:{values:p}}){a&&(P("change",{data:a.data,name:h,crop_min:p[0],crop_max:p[1]}),P("edit"))}function ge({detail:p}){t(1,a=p),P("change",p),P("upload",p)}function pe(){P("stop"),P("end")}let{dragging:U=!1}=e;function ie(p){U=p,t(0,U)}const ae=()=>t(11,S="edit");function we(p){M=p,t(12,M)}function O(p){fl.call(this,n,p)}function b(p){fl.call(this,n,p)}function ke(p){A=p,t(13,A)}return n.$$set=p=>{"value"in p&&t(1,a=p.value),"label"in p&&t(2,s=p.label),"root"in p&&t(3,o=p.root),"show_label"in p&&t(4,r=p.show_label),"name"in p&&t(20,h=p.name),"source"in p&&t(5,d=p.source),"pending"in p&&t(21,u=p.pending),"streaming"in p&&t(6,_=p.streaming),"autoplay"in p&&t(7,m=p.autoplay),"show_edit_button"in p&&t(8,c=p.show_edit_button),"i18n"in p&&t(9,k=p.i18n),"dragging"in p&&t(0,U=p.dragging),"$$scope"in p&&t(32,i=p.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&31457280&&Q&&u===!1&&(t(24,Q=!1),N&&D)){let p=[N].concat(D);t(23,D=[]),le(p,"stream")}n.$$.dirty[0]&1&&P("drag",U)},[U,a,s,o,r,d,_,m,c,k,V,S,M,A,he,qe,me,be,ge,pe,h,u,N,D,Q,l,ie,ae,we,O,b,ke,i]}class Hi extends ui{constructor(e){super(),ci(this,e,Ii,Di,hi,{value:1,label:2,root:3,show_label:4,name:20,source:5,pending:21,streaming:6,autoplay:7,show_edit_button:8,i18n:9,dragging:0},null,[-1,-1])}}const{SvelteComponent:Mi,assign:Sl,check_outros:Li,create_component:Ce,destroy_component:De,detach:vn,empty:Ni,flush:I,get_spread_object:yl,get_spread_update:El,group_outros:Ri,init:Ti,insert:Sn,mount_component:Pe,safe_not_equal:Bi,space:Al,transition_in:fe,transition_out:ue}=window.__gradio__svelte__internal;function Fi(n){let e,t;return e=new ml({props:{variant:n[0]===null&&n[6]==="upload"?"dashed":"solid",border_mode:n[22]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],visible:n[4],container:n[10],scale:n[11],min_width:n[12],$$slots:{default:[zi]},$$scope:{ctx:n}}}),{c(){Ce(e.$$.fragment)},m(l,i){Pe(e,l,i),t=!0},p(l,i){const a={};i[0]&65&&(a.variant=l[0]===null&&l[6]==="upload"?"dashed":"solid"),i[0]&4194304&&(a.border_mode=l[22]?"focus":"base"),i[0]&4&&(a.elem_id=l[2]),i[0]&8&&(a.elem_classes=l[3]),i[0]&16&&(a.visible=l[4]),i[0]&1024&&(a.container=l[10]),i[0]&2048&&(a.scale=l[11]),i[0]&4096&&(a.min_width=l[12]),i[0]&8332227|i[1]&512&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(fe(e.$$.fragment,l),t=!0)},o(l){ue(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Ui(n){let e,t;return e=new ml({props:{variant:"solid",border_mode:n[22]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],visible:n[4],container:n[10],scale:n[11],min_width:n[12],$$slots:{default:[Ki]},$$scope:{ctx:n}}}),{c(){Ce(e.$$.fragment)},m(l,i){Pe(e,l,i),t=!0},p(l,i){const a={};i[0]&4194304&&(a.border_mode=l[22]?"focus":"base"),i[0]&4&&(a.elem_id=l[2]),i[0]&8&&(a.elem_classes=l[3]),i[0]&16&&(a.visible=l[4]),i[0]&1024&&(a.container=l[10]),i[0]&2048&&(a.scale=l[11]),i[0]&4096&&(a.min_width=l[12]),i[0]&3203714|i[1]&512&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(fe(e.$$.fragment,l),t=!0)},o(l){ue(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function Oi(n){let e,t;return e=new xl({props:{i18n:n[20].i18n,type:"audio"}}),{c(){Ce(e.$$.fragment)},m(l,i){Pe(e,l,i),t=!0},p(l,i){const a={};i[0]&1048576&&(a.i18n=l[20].i18n),e.$set(a)},i(l){t||(fe(e.$$.fragment,l),t=!0)},o(l){ue(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function zi(n){let e,t,l,i;const a=[{autoscroll:n[20].autoscroll},{i18n:n[20].i18n},n[1]];let s={};for(let o=0;o<a.length;o+=1)s=Sl(s,a[o]);return e=new hl({props:s}),l=new Hi({props:{label:n[7],show_label:n[9],value:n[21],name:n[16],root:n[8],source:n[6],pending:n[17],streaming:n[18],autoplay:n[13],show_edit_button:n[19],i18n:n[20].i18n,$$slots:{default:[Oi]},$$scope:{ctx:n}}}),l.$on("change",n[27]),l.$on("stream",n[28]),l.$on("drag",n[29]),l.$on("edit",n[30]),l.$on("play",n[31]),l.$on("pause",n[32]),l.$on("stop",n[33]),l.$on("end",n[34]),l.$on("start_recording",n[35]),l.$on("stop_recording",n[36]),l.$on("upload",n[37]),l.$on("clear",n[38]),l.$on("error",n[39]),{c(){Ce(e.$$.fragment),t=Al(),Ce(l.$$.fragment)},m(o,r){Pe(e,o,r),Sn(o,t,r),Pe(l,o,r),i=!0},p(o,r){const h=r[0]&1048578?El(a,[r[0]&1048576&&{autoscroll:o[20].autoscroll},r[0]&1048576&&{i18n:o[20].i18n},r[0]&2&&yl(o[1])]):{};e.$set(h);const d={};r[0]&128&&(d.label=o[7]),r[0]&512&&(d.show_label=o[9]),r[0]&2097152&&(d.value=o[21]),r[0]&65536&&(d.name=o[16]),r[0]&256&&(d.root=o[8]),r[0]&64&&(d.source=o[6]),r[0]&131072&&(d.pending=o[17]),r[0]&262144&&(d.streaming=o[18]),r[0]&8192&&(d.autoplay=o[13]),r[0]&524288&&(d.show_edit_button=o[19]),r[0]&1048576&&(d.i18n=o[20].i18n),r[0]&1048576|r[1]&512&&(d.$$scope={dirty:r,ctx:o}),l.$set(d)},i(o){i||(fe(e.$$.fragment,o),fe(l.$$.fragment,o),i=!0)},o(o){ue(e.$$.fragment,o),ue(l.$$.fragment,o),i=!1},d(o){o&&vn(t),De(e,o),De(l,o)}}}function Ki(n){let e,t,l,i;const a=[{autoscroll:n[20].autoscroll},{i18n:n[20].i18n},n[1]];let s={};for(let o=0;o<a.length;o+=1)s=Sl(s,a[o]);return e=new hl({props:s}),l=new kt({props:{i18n:n[20].i18n,autoplay:n[13],show_label:n[9],show_download_button:n[14],show_share_button:n[15],value:n[21],name:n[21]?.name||"audio_file",label:n[7]}}),l.$on("share",n[25]),l.$on("error",n[26]),{c(){Ce(e.$$.fragment),t=Al(),Ce(l.$$.fragment)},m(o,r){Pe(e,o,r),Sn(o,t,r),Pe(l,o,r),i=!0},p(o,r){const h=r[0]&1048578?El(a,[r[0]&1048576&&{autoscroll:o[20].autoscroll},r[0]&1048576&&{i18n:o[20].i18n},r[0]&2&&yl(o[1])]):{};e.$set(h);const d={};r[0]&1048576&&(d.i18n=o[20].i18n),r[0]&8192&&(d.autoplay=o[13]),r[0]&512&&(d.show_label=o[9]),r[0]&16384&&(d.show_download_button=o[14]),r[0]&32768&&(d.show_share_button=o[15]),r[0]&2097152&&(d.value=o[21]),r[0]&2097152&&(d.name=o[21]?.name||"audio_file"),r[0]&128&&(d.label=o[7]),l.$set(d)},i(o){i||(fe(e.$$.fragment,o),fe(l.$$.fragment,o),i=!0)},o(o){ue(e.$$.fragment,o),ue(l.$$.fragment,o),i=!1},d(o){o&&vn(t),De(e,o),De(l,o)}}}function ji(n){let e,t,l,i;const a=[Ui,Fi],s=[];function o(r,h){return r[5]==="static"?0:1}return e=o(n),t=s[e]=a[e](n),{c(){t.c(),l=Ni()},m(r,h){s[e].m(r,h),Sn(r,l,h),i=!0},p(r,h){let d=e;e=o(r),e===d?s[e].p(r,h):(Ri(),ue(s[d],1,1,()=>{s[d]=null}),Li(),t=s[e],t?t.p(r,h):(t=s[e]=a[e](r),t.c()),fe(t,1),t.m(l.parentNode,l))},i(r){i||(fe(t),i=!0)},o(r){ue(t),i=!1},d(r){r&&vn(l),s[e].d(r)}}}function Yi(n,e,t){let{elem_id:l=""}=e,{elem_classes:i=[]}=e,{visible:a=!0}=e,{mode:s}=e,{value:o=null}=e,{source:r}=e,{label:h}=e,{root:d}=e,{show_label:u}=e,{root_url:_}=e,{container:m=!0}=e,{scale:c=null}=e,{min_width:k=void 0}=e,{loading_status:V}=e,{autoplay:w=!1}=e,{show_download_button:S=!0}=e,{show_share_button:N=!1}=e,{name:D}=e,{pending:Q}=e,{streaming:M}=e,{show_edit_button:ee=!0}=e,{gradio:A}=e,Y=null,ne,te;const P=b=>A.dispatch("share",b.detail),le=b=>A.dispatch("error",b.detail),g=({detail:b})=>t(0,o=b),se=({detail:b})=>{t(0,o=b),A.dispatch("stream",o)},he=({detail:b})=>t(22,te=b),qe=()=>A.dispatch("edit"),me=()=>A.dispatch("play"),be=()=>A.dispatch("pause"),ge=()=>A.dispatch("stop"),pe=()=>A.dispatch("end"),U=()=>A.dispatch("start_recording"),ie=()=>A.dispatch("stop_recording"),ae=()=>A.dispatch("upload"),we=()=>A.dispatch("clear"),O=({detail:b})=>{t(1,V=V||{}),t(1,V.status="error",V),A.dispatch("error",b)};return n.$$set=b=>{"elem_id"in b&&t(2,l=b.elem_id),"elem_classes"in b&&t(3,i=b.elem_classes),"visible"in b&&t(4,a=b.visible),"mode"in b&&t(5,s=b.mode),"value"in b&&t(0,o=b.value),"source"in b&&t(6,r=b.source),"label"in b&&t(7,h=b.label),"root"in b&&t(8,d=b.root),"show_label"in b&&t(9,u=b.show_label),"root_url"in b&&t(23,_=b.root_url),"container"in b&&t(10,m=b.container),"scale"in b&&t(11,c=b.scale),"min_width"in b&&t(12,k=b.min_width),"loading_status"in b&&t(1,V=b.loading_status),"autoplay"in b&&t(13,w=b.autoplay),"show_download_button"in b&&t(14,S=b.show_download_button),"show_share_button"in b&&t(15,N=b.show_share_button),"name"in b&&t(16,D=b.name),"pending"in b&&t(17,Q=b.pending),"streaming"in b&&t(18,M=b.streaming),"show_edit_button"in b&&t(19,ee=b.show_edit_button),"gradio"in b&&t(20,A=b.gradio)},n.$$.update=()=>{n.$$.dirty[0]&8388865&&t(21,ne=Yl(o,d,_)),n.$$.dirty[0]&17825793&&JSON.stringify(o)!==JSON.stringify(Y)&&(t(24,Y=o),A.dispatch("change"))},[o,V,l,i,a,s,r,h,d,u,m,c,k,w,S,N,D,Q,M,ee,A,ne,te,_,Y,P,le,g,se,he,qe,me,be,ge,pe,U,ie,ae,we,O]}class sa extends Mi{constructor(e){super(),Ti(this,e,Yi,ji,Bi,{elem_id:2,elem_classes:3,visible:4,mode:5,value:0,source:6,label:7,root:8,show_label:9,root_url:23,container:10,scale:11,min_width:12,loading_status:1,autoplay:13,show_download_button:14,show_share_button:15,name:16,pending:17,streaming:18,show_edit_button:19,gradio:20},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),I()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),I()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),I()}get mode(){return this.$$.ctx[5]}set mode(e){this.$$set({mode:e}),I()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),I()}get source(){return this.$$.ctx[6]}set source(e){this.$$set({source:e}),I()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),I()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),I()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),I()}get root_url(){return this.$$.ctx[23]}set root_url(e){this.$$set({root_url:e}),I()}get container(){return this.$$.ctx[10]}set container(e){this.$$set({container:e}),I()}get scale(){return this.$$.ctx[11]}set scale(e){this.$$set({scale:e}),I()}get min_width(){return this.$$.ctx[12]}set min_width(e){this.$$set({min_width:e}),I()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),I()}get autoplay(){return this.$$.ctx[13]}set autoplay(e){this.$$set({autoplay:e}),I()}get show_download_button(){return this.$$.ctx[14]}set show_download_button(e){this.$$set({show_download_button:e}),I()}get show_share_button(){return this.$$.ctx[15]}set show_share_button(e){this.$$set({show_share_button:e}),I()}get name(){return this.$$.ctx[16]}set name(e){this.$$set({name:e}),I()}get pending(){return this.$$.ctx[17]}set pending(e){this.$$set({pending:e}),I()}get streaming(){return this.$$.ctx[18]}set streaming(e){this.$$set({streaming:e}),I()}get show_edit_button(){return this.$$.ctx[19]}set show_edit_button(e){this.$$set({show_edit_button:e}),I()}get gradio(){return this.$$.ctx[20]}set gradio(e){this.$$set({gradio:e}),I()}}export{sa as default};
//# sourceMappingURL=Index-ad76d955.js.map
