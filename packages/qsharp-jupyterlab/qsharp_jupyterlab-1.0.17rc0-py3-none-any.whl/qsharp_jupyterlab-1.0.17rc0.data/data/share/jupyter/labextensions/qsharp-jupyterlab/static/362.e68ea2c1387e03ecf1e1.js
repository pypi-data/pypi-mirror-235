"use strict";(self.webpackChunkqsharp_jupyterlab=self.webpackChunkqsharp_jupyterlab||[]).push([[362],{362:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(390);function a(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function i(e,t){(e.next||e.push)&&a(t,e.next||e.push),this.regex=function(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp("^(?:"+e+")",n)}(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function o(e){return function(t,n){if(n.pending){var r=n.pending.shift();return 0==n.pending.length&&(n.pending=null),t.pos+=r.text.length,r.token}for(var a=e[n.state],i=0;i<a.length;i++){var o=a[i],s=(!o.data.sol||t.sol())&&t.match(o.regex);if(s){o.data.next?n.state=o.data.next:o.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=o.data.push):o.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),o.data.indent&&n.indent.push(t.indentation()+t.indentUnit),o.data.dedent&&n.indent.pop();var g=o.token;if(g&&g.apply&&(g=g(s)),s.length>2&&o.token&&"string"!=typeof o.token){n.pending=[];for(var u=2;u<s.length;u++)s[u]&&n.pending.push({text:s[u],token:o.token[u-1]});return t.backUp(s[0].length-(s[1]?s[1].length:0)),g[0]}return g&&g.join?g[0]:g}}return t.next(),null}}function s(e,t){return function(n,r){if(null==n.indent||t.dontIndentStates&&t.doneIndentState.indexOf(n.state)>-1)return null;var a=n.indent.length-1,i=e[n.state];e:for(;;){for(var o=0;o<i.length;o++){var s=i[o];if(s.data.dedent&&!1!==s.data.dedentIfLineStart){var g=s.regex.exec(r);if(g&&g[0]){a--,(s.next||s.push)&&(i=e[s.next||s.push]),r=r.slice(g[0].length);continue e}}}break}return a<0?0:n.indent[a]}}var g=n(373),u=n(897);function d(e){e.revealed.then((()=>{const t=e.model;if("python3"===(null==t?void 0:t.defaultKernelName)){for(const e of t.cells)l(e);t.cells.changed.connect(((e,t)=>{t.newValues.forEach((e=>{l(e),e.contentChanged.connect((e=>{l(e)}))}))}))}}))}function l(e){"code"===e.type&&e.sharedModel.source.startsWith("%%qsharp")&&"text/x-qsharp"!==e.mimeType&&(e.mimeType="text/x-qsharp",console.log("updated cell mime type to text/x-qsharp"))}const p={id:"qsharp",autoStart:!0,requires:[r.IEditorLanguageRegistry,u.INotebookTracker],activate:async(e,t,n)=>{!function(e){const t=[{token:"comment",regex:/(\/\/).*/,beginWord:!1},{token:"string",regex:String.raw`^\"(?:[^\"\\]|\\[\s\S])*(?:\"|$)`,beginWord:!1},{token:"keyword",regex:String.raw`(namespace|open|as|operation|function|body|adjoint|newtype|controlled|internal)\b`,beginWord:!0},{token:"keyword",regex:String.raw`(if|elif|else|repeat|until|fixup|for|in|return|fail|within|apply)\b`,beginWord:!0},{token:"keyword",regex:String.raw`(Adjoint|Controlled|Adj|Ctl|is|self|auto|distribute|invert|intrinsic)\b`,beginWord:!0},{token:"keyword",regex:String.raw`(let|set|w\/|new|not|and|or|use|borrow|using|borrowing|newtype|mutable)\b`,beginWord:!0},{token:"meta",regex:String.raw`(Int|BigInt|Double|Bool|Qubit|Pauli|Result|Range|String|Unit)\b`,beginWord:!0},{token:"atom",regex:String.raw`(true|false|Pauli(I|X|Y|Z)|One|Zero)\b`,beginWord:!0},{token:"builtin",regex:String.raw`(X|Y|Z|H|HY|S|T|SWAP|CNOT|CCNOT|MultiX|R|RFrac|Rx|Ry|Rz|R1|R1Frac|Exp|ExpFrac|Measure|M|MultiM)\b`,beginWord:!0},{token:"builtin",regex:String.raw`(Message|Length|Assert|AssertProb|AssertEqual)\b`,beginWord:!0}],n=[];for(const e of t)n.push({token:e.token,regex:new RegExp(e.regex,"g"),sol:e.beginWord}),e.beginWord&&n.push({token:e.token,regex:new RegExp(String.raw`\W`+e.regex,"g"),sol:!1});const r=function(e){a(e,"start");var t={},n=e.languageData||{},r=!1;for(var g in e)if(g!=n&&e.hasOwnProperty(g))for(var u=t[g]=[],d=e[g],l=0;l<d.length;l++){var p=d[l];u.push(new i(p,e)),(p.indent||p.dedent)&&(r=!0)}return{name:n.name,startState:function(){return{state:"start",pending:null,indent:r?[]:null}},copyState:function(e){var t={state:e.state,pending:e.pending,indent:e.indent&&e.indent.slice(0)};return e.stack&&(t.stack=e.stack.slice(0)),t},token:o(t),indent:s(t,n),languageData:n}}({start:n}),u=new g.LanguageSupport(g.StreamLanguage.define(r));e.addLanguage({name:"qsharp",mime:"text/x-qsharp",support:u,extensions:["qs"]})}(t),function(e){e.forEach((e=>{d(e)})),e.widgetAdded.connect(((e,t)=>{d(t)}))}(n)}}}}]);