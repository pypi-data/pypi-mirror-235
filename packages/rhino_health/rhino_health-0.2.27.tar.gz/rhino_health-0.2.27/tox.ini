[tox]
env_list = py{38,39,310,311}-requests{2.26,2.27,2.28,2.29,2.3X}-funcy{1.16,1.17,1.18},py{38,39,310,311}-requests2.3X-funcy1.18-with_extras
min_version = 4
isolated_build = True

[testenv]
deps =
    requests2.3X: requests >=2.30, <2.32
    requests2.29: requests >=2.29, <2.30
    requests2.28: requests >=2.28, <2.29
    requests2.27: requests >=2.27, <2.28
    requests2.26: requests >=2.26, <2.27
    funcy1.18: funcy >= 1.18, <1.19
    funcy1.17: funcy >= 1.17, <1.18
    funcy1.16: funcy >= 1.16, <1.17
    flit >=3.3, <4
allowlist_externals = make
install_command =
    python tox_install_deps.py {opts} {packages}
commands = make test

[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311

[testenv:with_extras]
install_command =
    python tox_install_deps.py --with-extras {opts} {packages}
set_env = RHINO_SDK_WITH_EXTRAS=1
