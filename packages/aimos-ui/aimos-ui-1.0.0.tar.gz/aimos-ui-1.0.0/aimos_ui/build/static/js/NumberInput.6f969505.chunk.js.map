{"version":3,"file":"static/js/NumberInput.6f969505.chunk.js","mappings":"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","sources":["pages/Board/components/VisualizationElements/NumberInputVizElement.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { Box, Input, Text } from 'components/kit_v2';\n\nimport generateId from 'utils/generateId';\n\nfunction NumberInputVizElement(props: any) {\n  const [value, setValue] = React.useState(props.options.value);\n  const [error, setError] = React.useState(false);\n  const [errorMsg, setErrorMsg] = React.useState('');\n  const { min, max } = props.options;\n\n  const onChange = React.useCallback(\n    ({ target }) => {\n      setValue(target.value);\n\n      const { err } = validate(target.value, min, max);\n      if (!err) {\n        props.callbacks?.on_change(Number(target.value));\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [min, max],\n  );\n\n  React.useEffect(() => {\n    setValue(props.options.value);\n  }, [props.options.value]);\n\n  React.useEffect(() => {\n    const { err, errMsg } = validate(value, min, max);\n    setError(err);\n    setErrorMsg(errMsg);\n  }, [value, min, max]);\n\n  const id = React.useMemo(generateId, []);\n  return (\n    <Box>\n      {props.options.label && (\n        <Text\n          as='label'\n          htmlFor={id}\n          lineHeight={1.5}\n          disabled={props.options.disabled}\n        >\n          {props.options.label}\n        </Text>\n      )}\n      <Input\n        id={id}\n        type='number'\n        value={value}\n        min={props.options.min}\n        max={props.options.max}\n        step={props.options.step}\n        disabled={props.options.disabled}\n        onChange={onChange}\n        error={error}\n        errorMessage={errorMsg}\n      />\n    </Box>\n  );\n}\n\nexport default NumberInputVizElement;\n\nfunction validate(value: number = NaN, min: number = NaN, max: number = NaN) {\n  const num_value = Number(value);\n  const num_min = Number(min);\n  const num_max = Number(max);\n\n  if (isNaN(num_value)) {\n    return { err: true, errMsg: 'Value must be a number' };\n  }\n  if (isNaN(num_min) && isNaN(num_max)) {\n    return { err: false, errMsg: '' };\n  }\n  if (!isNaN(num_min) && isNaN(num_max)) {\n    let err = num_value < num_min;\n    let errMsg = '';\n    if (err) {\n      errMsg = 'Value must be greater than ' + num_min;\n    }\n    return { err, errMsg };\n  }\n  if (isNaN(num_min) && !isNaN(num_max)) {\n    let err = num_value > num_max;\n    let errMsg = '';\n    if (err) {\n      errMsg = 'Value must be less than ' + num_max;\n    }\n    return { err, errMsg };\n  }\n\n  if (num_value < num_min || num_value > num_max) {\n    return {\n      err: true,\n      errMsg: 'Value must be between ' + num_min + ' and ' + num_max,\n    };\n  }\n\n  return { err: false, errMsg: '' };\n}\n"],"names":["validate","min","arguments","length","undefined","NaN","max","num_value","Number","num_min","num_max","isNaN","err","errMsg","props","_React$useState","React","options","value","_React$useState2","_slicedToArray","setValue","_React$useState3","_React$useState4","error","setError","_React$useState5","_React$useState6","errorMsg","setErrorMsg","_props$options","onChange","_ref","_props$callbacks","target","callbacks","on_change","_validate2","id","generateId","_jsxs","Box","children","label","_jsx","Text","as","htmlFor","lineHeight","disabled","Input","type","step","errorMessage"],"sourceRoot":""}