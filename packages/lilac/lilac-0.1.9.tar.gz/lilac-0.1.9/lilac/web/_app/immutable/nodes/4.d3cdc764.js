import{S as be,i as ve,s as pe,E as ce,k as N,a as Y,y as A,l as V,m as y,c as Q,z as F,h,F as pt,G as ie,b as S,a0 as v,A as P,H as Pe,L as Re,g as b,d as k,B,N as ke,C as st,o as Jn,Q as ye,q as R,r as H,n as I,u as se,e as fe,v as te,f as le,M as xe,w as qe,W as Xn,X as xn,D as St,I as It,J as Dt,K as $t,a1 as L,R as lt,Z as de,_ as me,$ as De,Y as Fi,p as ut,V as ei,a7 as Ve,ae as Ri,a8 as Oe,O as ze,ab as Ne,T as We,U as Ze,a4 as Ke,P as Hi,a2 as ti,a3 as bt,a9 as zt,x as vt,a6 as tl,ad as Li}from"../chunks/index.c33bdc5f.js";import{g as Ft}from"../chunks/navigation.1552e8e8.js";import{O as Oi,a as it,P as qi}from"../chunks/Page.8b083612.js";import{W as ji,O as Ui,d as Xe,P as Yi,h as Te,R as Ye,U as Rt,V as Qi,X as Ie,Y as Ht,Z as Je,_ as wt,t as et,C as tt,$ as Nt,a0 as Lt,c as Qe,a1 as Ge,a2 as rt,a3 as nt,a4 as li,a5 as ni,a6 as at,a7 as ot,a8 as Ct,a9 as At,aa as ii,b as Vt,ab as Ot,N as si,B as ri,ac as ai,n as ll,ad as Gi,ae as Wi,af as qt,ag as Zi,ah as Ki,ai as Pt,aj as _t,ak as Ji,al as Xi,am as oi,an as fi,ao as xi,i as es,ap as ts,aq as gt,ar as ls,as as ns,F as is,at as ui,au as ss,av as rs,aw as as,ax as ct,ay as jt,az as ci,aA as kt,aB as Bt,aC as di,j as os,aD as mi,aE as hi,aF as fs,aG as Et,A as Ut,aH as us,aI as cs,aJ as ds,M as Yt,G as Qt,H as Gt,I as ms,J as hs,aK as _i,aL as _s,z as gi,aM as pi,aN as gs,g as ps,aO as bs,aP as vs,aQ as ws,aR as ks,aS as Es}from"../chunks/Commands.a4463454.js";import{w as ys}from"../chunks/index.3a9ccade.js";import{C as Ss,b as bi,I as nl,a as Is,T as Ds,E as $s,S as Ns}from"../chunks/ConceptView.dc7507ca.js";import{E as il,R as Vs,D as Ts,a as Wt}from"../chunks/DatasetSettingsFields.60d948d0.js";import{L as Ms,a as zs,b as Cs,c as As,C as Ps}from"../chunks/ComboBox.33b3004b.js";import{E as vi,S as Bs}from"../chunks/StringSpanHighlight.582e6560.js";import{M as Zt}from"../chunks/ToastNotification.48e5b4c7.js";import{g as Fs}from"../chunks/settingsStore.332cdb0f.js";import{S as Rs}from"../chunks/Search.fa87655b.js";import{s as yt,C as Hs,f as Ls}from"../chunks/notificationsStore.bf4bc03e.js";import{S as Os}from"../chunks/Settings.ec40b264.js";import{T as wi}from"../chunks/TextArea.99e93dd1.js";function sl(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const qs=i=>({item:i[0]&8,index:i[0]&8}),rl=i=>({item:i[39],index:i[41]});function al(i){let e,l;return{c(){e=N("label"),l=R(i[10]),this.h()},l(t){e=V(t,"LABEL",{for:!0});var n=y(e);l=H(n,i[10]),n.forEach(h),this.h()},h(){I(e,"for",i[19]),ie(e,"bx--label",!0),ie(e,"bx--label--disabled",i[9]),ie(e,"bx--visually-hidden",i[17])},m(t,n){S(t,e,n),v(e,l)},p(t,n){n[0]&1024&&se(l,t[10]),n[0]&524288&&I(e,"for",t[19]),n[0]&512&&ie(e,"bx--label--disabled",t[9]),n[0]&131072&&ie(e,"bx--visually-hidden",t[17])},d(t){t&&h(e)}}}function ol(i){let e,l;return e=new ji({props:{class:"bx--list-box__invalid-icon"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function fl(i){let e,l;return e=new Ui({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function js(i){let e;return{c(){e=R(i[16])},l(l){e=H(l,i[16])},m(l,t){S(l,e,t)},p(l,t){t[0]&65536&&se(e,l[16])},d(l){l&&h(e)}}}function Us(i){let e=i[4](i[22])+"",l;return{c(){l=R(e)},l(t){l=H(t,e)},m(t,n){S(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&se(l,e)},d(t){t&&h(l)}}}function ul(i){let e,l;return e=new Cs({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Gs]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ys(i){let e=i[4](i[39])+"",l;return{c(){l=R(e)},l(t){l=H(t,e)},m(t,n){S(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&se(l,e)},d(t){t&&h(l)}}}function Qs(i){let e,l;const t=i[29].default,n=St(t,i,i[37],rl),o=n||Ys(i);return{c(){o&&o.c(),e=Y()},l(r){o&&o.l(r),e=Q(r)},m(r,s){o&&o.m(r,s),S(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&It(n,t,r,r[37],l?$t(t,r[37],s,qs):Dt(r[37]),rl):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(b(o,r),l=!0)},o(r){k(o,r),l=!1},d(r){o&&o.d(r),r&&h(e)}}}function cl(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new As({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Qs]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=fe(),A(t.$$.fragment),this.h()},l(s){l=fe(),F(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){S(s,l,a),P(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&h(l),B(t,s)}}}function Gs(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=sl(i,o,s),f=r(a);l.set(f,e[s]=cl(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=fe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=fe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);S(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],te(),e=Xn(e,a,r,1,s,o,l,t.parentNode,xn,cl,t,sl),le())},i(s){if(!n){for(let a=0;a<o.length;a+=1)b(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)k(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function Ws(i){let e,l,t,n,o,r,s,a,f,u,_,c=i[11]&&ol(),d=!i[11]&&i[13]&&fl();function m(p,$){return p[22]?Us:js}let g=m(i),E=g(i);r=new zs({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let w=i[1]&&ul(i);return{c(){c&&c.c(),e=Y(),d&&d.c(),l=Y(),t=N("button"),n=N("span"),E.c(),o=Y(),A(r.$$.fragment),s=Y(),w&&w.c(),a=fe(),this.h()},l(p){c&&c.l(p),e=Q(p),d&&d.l(p),l=Q(p),t=V(p,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var $=y(t);n=V($,"SPAN",{});var D=y(n);E.l(D),D.forEach(h),o=Q($),F(r.$$.fragment,$),$.forEach(h),s=Q(p),w&&w.l(p),a=fe(),this.h()},h(){ie(n,"bx--list-box__label",!0),I(t,"type","button"),I(t,"tabindex","0"),I(t,"aria-expanded",i[1]),t.disabled=i[9],I(t,"translatewithid",i[18]),I(t,"id",i[19]),ie(t,"bx--list-box__field",!0)},m(p,$){c&&c.m(p,$),S(p,e,$),d&&d.m(p,$),S(p,l,$),S(p,t,$),v(t,n),E.m(n,null),v(t,o),P(r,t,null),i[31](t),S(p,s,$),w&&w.m(p,$),S(p,a,$),f=!0,u||(_=[Pe(t,"keydown",i[32]),Pe(t,"keyup",i[33])],u=!0)},p(p,$){p[11]?c?$[0]&2048&&b(c,1):(c=ol(),c.c(),b(c,1),c.m(e.parentNode,e)):c&&(te(),k(c,1,1,()=>{c=null}),le()),!p[11]&&p[13]?d?$[0]&10240&&b(d,1):(d=fl(),d.c(),b(d,1),d.m(l.parentNode,l)):d&&(te(),k(d,1,1,()=>{d=null}),le()),g===(g=m(p))&&E?E.p(p,$):(E.d(1),E=g(p),E&&(E.c(),E.m(n,null)));const D={};$[0]&262144&&(D.translateWithId=p[18]),$[0]&2&&(D.open=p[1]),r.$set(D),(!f||$[0]&2)&&I(t,"aria-expanded",p[1]),(!f||$[0]&512)&&(t.disabled=p[9]),(!f||$[0]&262144)&&I(t,"translatewithid",p[18]),(!f||$[0]&524288)&&I(t,"id",p[19]),p[1]?w?(w.p(p,$),$[0]&2&&b(w,1)):(w=ul(p),w.c(),b(w,1),w.m(a.parentNode,a)):w&&(te(),k(w,1,1,()=>{w=null}),le())},i(p){f||(b(c),b(d),b(r.$$.fragment,p),b(w),f=!0)},o(p){k(c),k(d),k(r.$$.fragment,p),k(w),f=!1},d(p){c&&c.d(p),p&&h(e),d&&d.d(p),p&&h(l),p&&h(t),E.d(),B(r),i[31](null),p&&h(s),w&&w.d(p),p&&h(a),u=!1,xe(_)}}}function dl(i){let e,l;return{c(){e=N("div"),l=R(i[15]),this.h()},l(t){e=V(t,"DIV",{});var n=y(e);l=H(n,i[15]),n.forEach(h),this.h()},h(){ie(e,"bx--form__helper-text",!0),ie(e,"bx--form__helper-text--disabled",i[9])},m(t,n){S(t,e,n),v(e,l)},p(t,n){n[0]&32768&&se(l,t[15]),n[0]&512&&ie(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&h(e)}}}function Zs(i){let e,l,t,n,o,r,s,a=i[10]&&al(i);t=new Ms({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[Ws]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&dl(i),u=[i[27]],_={};for(let c=0;c<u.length;c+=1)_=ce(_,u[c]);return{c(){e=N("div"),a&&a.c(),l=Y(),A(t.$$.fragment),n=Y(),f&&f.c(),this.h()},l(c){e=V(c,"DIV",{});var d=y(e);a&&a.l(d),l=Q(d),F(t.$$.fragment,d),n=Q(d),f&&f.l(d),d.forEach(h),this.h()},h(){pt(e,_),ie(e,"bx--dropdown__wrapper",!0),ie(e,"bx--list-box__wrapper",!0),ie(e,"bx--dropdown__wrapper--inline",i[23]),ie(e,"bx--list-box__wrapper--inline",i[23]),ie(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,d){S(c,e,d),a&&a.m(e,null),v(e,l),P(t,e,null),v(e,n),f&&f.m(e,null),o=!0,r||(s=Pe(window,"click",i[26]),r=!0)},p(c,d){c[10]?a?a.p(c,d):(a=al(c),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const m={};d[0]&32&&(m.type=c[5]),d[0]&128&&(m.size=c[7]),d[0]&1048576&&(m.name=c[20]),d[0]&268435456&&(m["aria-label"]=c[28]["aria-label"]),d[0]&8399810&&(m.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),d[0]&512&&(m.disabled=c[9]),d[0]&2&&(m.open=c[1]),d[0]&2048&&(m.invalid=c[11]),d[0]&4096&&(m.invalidText=c[12]),d[0]&256&&(m.light=c[8]),d[0]&8192&&(m.warn=c[13]),d[0]&16384&&(m.warnText=c[14]),d[0]&7154207|d[1]&64&&(m.$$scope={dirty:d,ctx:c}),t.$set(m),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,d):(f=dl(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),pt(e,_=Re(u,[d[0]&134217728&&c[27]])),ie(e,"bx--dropdown__wrapper",!0),ie(e,"bx--list-box__wrapper",!0),ie(e,"bx--dropdown__wrapper--inline",c[23]),ie(e,"bx--list-box__wrapper--inline",c[23]),ie(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){o||(b(t.$$.fragment,c),o=!0)},o(c){k(t.$$.fragment,c),o=!1},d(c){c&&h(e),a&&a.d(),B(t),f&&f.d(),r=!1,s()}}}function Ks(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=ke(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:u=Z=>Z.text||Z.id}=e,{selectedId:_}=e,{type:c="default"}=e,{direction:d="bottom"}=e,{size:m=void 0}=e,{open:g=!1}=e,{light:E=!1}=e,{disabled:w=!1}=e,{titleText:p=""}=e,{invalid:$=!1}=e,{invalidText:D=""}=e,{warn:M=!1}=e,{warnText:T=""}=e,{helperText:z=""}=e,{label:j=void 0}=e,{hideLabel:x=!1}=e,{translateWithId:X=void 0}=e,{id:W="ccs-"+Math.random().toString(36)}=e,{name:O=void 0}=e,{ref:K=null}=e;const U=st();let C=-1;function G(Z){let q=C+Z;if(f.length===0)return;q<0?q=f.length-1:q>=f.length&&(q=0);let re=f[q].disabled;for(;re;)q=q+Z,q<0?q=f.length-1:q>=f.length&&(q=0),re=f[q].disabled;l(21,C=q)}const ee=()=>{U("select",{selectedId:_,selectedItem:f.find(Z=>Z.id===_)})},J=({target:Z})=>{g&&K&&!K.contains(Z)&&l(1,g=!1)};Jn(()=>(parent&&parent.addEventListener("click",J),()=>{parent&&parent.removeEventListener("click",J)}));const ge=Z=>{Z.stopPropagation(),!w&&l(1,g=!g)};function Ee(Z){qe[Z?"unshift":"push"](()=>{K=Z,l(2,K)})}const ae=Z=>{const{key:q}=Z;["Enter","ArrowDown","ArrowUp"].includes(q)&&Z.preventDefault(),q==="Enter"?(l(1,g=!g),C>-1&&f[C].id!==_&&(l(0,_=f[C].id),ee(),l(1,g=!1))):q==="Tab"?(l(1,g=!1),K.blur()):q==="ArrowDown"?(g||l(1,g=!0),G(1)):q==="ArrowUp"?(g||l(1,g=!0),G(-1)):q==="Escape"&&l(1,g=!1)},we=Z=>{const{key:q}=Z;if([" "].includes(q))Z.preventDefault();else return;l(1,g=!g),C>-1&&f[C].id!==_&&(l(0,_=f[C].id),ee(),l(1,g=!1))},_e=(Z,q)=>{if(Z.disabled){q.stopPropagation();return}l(0,_=Z.id),ee(),K.focus()},he=(Z,q)=>{Z.disabled||l(21,C=q)},Se=({target:Z})=>{w||l(1,g=K.contains(Z)?!g:!1)};return i.$$set=Z=>{l(28,e=ce(ce({},e),ye(Z))),l(27,r=ke(e,o)),"items"in Z&&l(3,f=Z.items),"itemToString"in Z&&l(4,u=Z.itemToString),"selectedId"in Z&&l(0,_=Z.selectedId),"type"in Z&&l(5,c=Z.type),"direction"in Z&&l(6,d=Z.direction),"size"in Z&&l(7,m=Z.size),"open"in Z&&l(1,g=Z.open),"light"in Z&&l(8,E=Z.light),"disabled"in Z&&l(9,w=Z.disabled),"titleText"in Z&&l(10,p=Z.titleText),"invalid"in Z&&l(11,$=Z.invalid),"invalidText"in Z&&l(12,D=Z.invalidText),"warn"in Z&&l(13,M=Z.warn),"warnText"in Z&&l(14,T=Z.warnText),"helperText"in Z&&l(15,z=Z.helperText),"label"in Z&&l(16,j=Z.label),"hideLabel"in Z&&l(17,x=Z.hideLabel),"translateWithId"in Z&&l(18,X=Z.translateWithId),"id"in Z&&l(19,W=Z.id),"name"in Z&&l(20,O=Z.name),"ref"in Z&&l(2,K=Z.ref),"$$scope"in Z&&l(37,a=Z.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(Z=>Z.id===_)),i.$$.dirty[0]&2&&(g||l(21,C=-1))},e=ye(e),[_,g,K,f,u,c,d,m,E,w,p,$,D,M,T,z,j,x,X,W,O,C,n,t,G,ee,J,r,e,s,ge,Ee,ae,we,_e,he,Se,a]}class Js extends be{constructor(e){super(),ve(this,e,Ks,Zs,pe,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const ki=Js;function Xs(i){let e,l,t,n,o,r=[i[1]],s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return{c(){e=N("div"),l=N("div"),t=N("span"),this.h()},l(a){e=V(a,"DIV",{});var f=y(e);l=V(f,"DIV",{role:!0});var u=y(l);t=V(u,"SPAN",{}),y(t).forEach(h),u.forEach(h),f.forEach(h),this.h()},h(){ie(t,"bx--list-box__label",!0),I(l,"role","button"),ie(l,"bx--list-box__field",!0),pt(e,s),ie(e,"bx--skeleton",!0),ie(e,"bx--dropdown-v2",!0),ie(e,"bx--list-box",!0),ie(e,"bx--form-item",!0),ie(e,"bx--list-box--inline",i[0])},m(a,f){S(a,e,f),v(e,l),v(l,t),n||(o=[Pe(e,"click",i[2]),Pe(e,"mouseover",i[3]),Pe(e,"mouseenter",i[4]),Pe(e,"mouseleave",i[5])],n=!0)},p(a,[f]){pt(e,s=Re(r,[f&2&&a[1]])),ie(e,"bx--skeleton",!0),ie(e,"bx--dropdown-v2",!0),ie(e,"bx--list-box",!0),ie(e,"bx--form-item",!0),ie(e,"bx--list-box--inline",a[0])},i:L,o:L,d(a){a&&h(e),n=!1,xe(o)}}}function xs(i,e,l){const t=["inline"];let n=ke(e,t),{inline:o=!1}=e;function r(u){lt.call(this,i,u)}function s(u){lt.call(this,i,u)}function a(u){lt.call(this,i,u)}function f(u){lt.call(this,i,u)}return i.$$set=u=>{e=ce(ce({},e),ye(u)),l(1,n=ke(e,t)),"inline"in u&&l(0,o=u.inline)},[o,n,r,s,a,f]}class er extends be{constructor(e){super(),ve(this,e,xs,Xs,pe,{inline:0})}}const tr=er;function ml(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function lr(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function nr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class ir extends be{constructor(e){super(),ve(this,e,nr,lr,pe,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function sr(i){let e,l,t=i[1]&&hl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=hl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function rr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class ar extends be{constructor(e){super(),ve(this,e,rr,sr,pe,{size:0,title:1})}}function _l(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function or(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function fr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class ur extends be{constructor(e){super(),ve(this,e,fr,or,pe,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function cr(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function dr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class mr extends be{constructor(e){super(),ve(this,e,dr,cr,pe,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function hr(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function _r(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class gr extends be{constructor(e){super(),ve(this,e,_r,hr,pe,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function pr(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M18,28H14a2,2,0,0,1-2-2V18.41L4.59,11A2,2,0,0,1,4,9.59V6A2,2,0,0,1,6,4H26a2,2,0,0,1,2,2V9.59A2,2,0,0,1,27.41,11L20,18.41V26A2,2,0,0,1,18,28ZM6,6V9.59l8,8V26h4V17.59l8-8V6Z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function br(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class vr extends be{constructor(e){super(),ve(this,e,br,pr,pe,{size:0,title:1})}}function vl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function wr(i){let e,l,t=i[1]&&vl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M11.17,6l3.42,3.41.58.59H28V26H4V6h7.17m0-2H4A2,2,0,0,0,2,6V26a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2H16L12.59,4.59A2,2,0,0,0,11.17,4Z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=vl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function kr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Er extends be{constructor(e){super(),ve(this,e,kr,wr,pe,{size:0,title:1})}}function wl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function yr(i){let e,l,t,n,o,r,s,a,f,u=i[1]&&wl(i),_=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],c={};for(let d=0;d<_.length;d+=1)c=ce(c,_[d]);return{c(){e=de("svg"),u&&u.c(),l=de("path"),t=de("circle"),n=de("path"),o=de("circle"),r=de("path"),s=de("circle"),a=de("path"),f=de("path"),this.h()},l(d){e=me(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var m=y(e);u&&u.l(m),l=me(m,"path",{d:!0}),y(l).forEach(h),t=me(m,"circle",{cx:!0,cy:!0,r:!0}),y(t).forEach(h),n=me(m,"path",{d:!0}),y(n).forEach(h),o=me(m,"circle",{cx:!0,cy:!0,r:!0}),y(o).forEach(h),r=me(m,"path",{d:!0}),y(r).forEach(h),s=me(m,"circle",{cx:!0,cy:!0,r:!0}),y(s).forEach(h),a=me(m,"path",{d:!0}),y(a).forEach(h),f=me(m,"path",{d:!0}),y(f).forEach(h),m.forEach(h),this.h()},h(){I(l,"d","M20 25H27V27H20zM22 29H25V31H22zM27 23h-2c0-1.1.4-2 1.2-2.8l.5-.5c.8-.8 1.3-2 1.3-3.2 0-2.5-2-4.5-4.5-4.5S19 14 19 16.5c0 1.2.5 2.3 1.3 3.2l.5.5C21.6 21 22 21.9 22 23h-2c0-.5-.2-1-.6-1.4l-.5-.5c-1.2-1.2-1.9-2.9-1.9-4.6 0-3.6 2.9-6.5 6.5-6.5s6.5 2.9 6.5 6.5c0 1.7-.7 3.4-1.9 4.6l-.5.5C27.2 22 27 22.5 27 23zM6 22H14V24H6z"),I(t,"cx","12"),I(t,"cy","19"),I(t,"r","1"),I(n,"d","M6 18H9V20H6zM6 14H13V16H6zM10 10H17V12H10z"),I(o,"cx","7"),I(o,"cy","11"),I(o,"r","1"),I(r,"d","M16 6H20V8H16z"),I(s,"cx","13"),I(s,"cy","7"),I(s,"r","1"),I(a,"d","M6 6H10V8H6z"),I(f,"d","M18,28H4V4l18,0v4h2V4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v24c0,1.1,0.9,2,2,2h14V28z"),De(e,c)},m(d,m){S(d,e,m),u&&u.m(e,null),v(e,l),v(e,t),v(e,n),v(e,o),v(e,r),v(e,s),v(e,a),v(e,f)},p(d,[m]){d[1]?u?u.p(d,m):(u=wl(d),u.c(),u.m(e,l)):u&&(u.d(1),u=null),De(e,c=Re(_,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},m&1&&{width:d[0]},m&1&&{height:d[0]},m&4&&d[2],m&8&&d[3]]))},i:L,o:L,d(d){d&&h(e),u&&u.d()}}}function Sr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Ir extends be{constructor(e){super(),ve(this,e,Sr,yr,pe,{size:0,title:1})}}function kl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Dr(i){let e,l,t,n=i[1]&&kl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=de("svg"),n&&n.c(),l=de("path"),t=de("path"),this.h()},l(s){e=me(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=y(e);n&&n.l(a),l=me(a,"path",{d:!0}),y(l).forEach(h),t=me(a,"path",{d:!0}),y(t).forEach(h),a.forEach(h),this.h()},h(){I(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),I(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),De(e,r)},m(s,a){S(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=kl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Re(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:L,o:L,d(s){s&&h(e),n&&n.d()}}}function $r(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class dt extends be{constructor(e){super(),ve(this,e,$r,Dr,pe,{size:0,title:1})}}function El(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Nr(i){let e,l,t=i[1]&&El(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=El(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function Vr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Ei extends be{constructor(e){super(),ve(this,e,Vr,Nr,pe,{size:0,title:1})}}function yl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Tr(i){let e,l,t=i[1]&&yl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=yl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function Mr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class yi extends be{constructor(e){super(),ve(this,e,Mr,Tr,pe,{size:0,title:1})}}function Sl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function zr(i){let e,l,t=i[1]&&Sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function Cr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Si extends be{constructor(e){super(),ve(this,e,Cr,zr,pe,{size:0,title:1})}}function Il(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Ar(i){let e,l,t=i[1]&&Il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=de("svg"),t&&t.c(),l=de("path"),this.h()},l(r){e=me(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=y(e);t&&t.l(s),l=me(s,"path",{d:!0}),y(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),De(e,o)},m(r,s){S(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function Pr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Br extends be{constructor(e){super(),ve(this,e,Pr,Ar,pe,{size:0,title:1})}}function Dl(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Fr(i){let e,l,t,n,o=i[1]&&Dl(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return{c(){e=de("svg"),o&&o.c(),l=de("circle"),t=de("path"),n=de("path"),this.h()},l(a){e=me(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var f=y(e);o&&o.l(f),l=me(f,"circle",{cx:!0,cy:!0,r:!0}),y(l).forEach(h),t=me(f,"path",{d:!0}),y(t).forEach(h),n=me(f,"path",{d:!0}),y(n).forEach(h),f.forEach(h),this.h()},h(){I(l,"cx","10"),I(l,"cy","14"),I(l,"r","2"),I(t,"d","M16,30a1,1,0,0,1-.71-.29L4.59,19A2,2,0,0,1,4,17.59V10A2,2,0,0,1,6,8h7.59A2,2,0,0,1,15,8.59l10.71,10.7a1,1,0,0,1,0,1.42l-9,9A1,1,0,0,1,16,30ZM6,10v7.59l10,10L23.59,20l-10-10Z"),I(n,"d","M27.71,13.29,17,2.59A2,2,0,0,0,15.59,2H8A2,2,0,0,0,6,4V6H8V4h7.59l10,10-1.3,1.29,1.42,1.42,2-2A1,1,0,0,0,27.71,13.29Z"),De(e,s)},m(a,f){S(a,e,f),o&&o.m(e,null),v(e,l),v(e,t),v(e,n)},p(a,[f]){a[1]?o?o.p(a,f):(o=Dl(a),o.c(),o.m(e,l)):o&&(o.d(1),o=null),De(e,s=Re(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},f&1&&{width:a[0]},f&1&&{height:a[0]},f&4&&a[2],f&8&&a[3]]))},i:L,o:L,d(a){a&&h(e),o&&o.d()}}}function Rr(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class Hr extends be{constructor(e){super(),ve(this,e,Rr,Fr,pe,{size:0,title:1})}}function $l(i){let e,l;return{c(){e=de("title"),l=R(i[1])},l(t){e=me(t,"title",{});var n=y(e);l=H(n,i[1]),n.forEach(h)},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&2&&se(l,t[1])},d(t){t&&h(e)}}}function Lr(i){let e,l,t,n=i[1]&&$l(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=de("svg"),n&&n.c(),l=de("path"),t=de("path"),this.h()},l(s){e=me(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=y(e);n&&n.l(a),l=me(a,"path",{d:!0}),y(l).forEach(h),t=me(a,"path",{d:!0}),y(t).forEach(h),a.forEach(h),this.h()},h(){I(l,"d","M23.092 10.3218L30 3.4141 28.5859 2 2 28.5859 3.4141 30l6.9077-6.9077 6.3218 6.3223a2.001 2.001 0 002.8286 0l9.9424-9.9424a2.001 2.001 0 000-2.8286zM18.0579 28l-6.3218-6.3223 9.9419-9.9419L28 18.0576zM10 14a4 4 0 114-4A4.0045 4.0045 0 0110 14zm0-6a2 2 0 101.998 2.0044A2.002 2.002 0 0010 8z"),I(t,"d","M7.4927,20.2627l1.414-1.4141L4,13.9414V4h9.9417l4.9069,4.9067,1.4141-1.414L15.3555,2.5859A2,2,0,0,0,13.9414,2H4A2,2,0,0,0,2,4v9.9414a2,2,0,0,0,.5857,1.4141Z"),De(e,r)},m(s,a){S(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=$l(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Re(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:L,o:L,d(s){s&&h(e),n&&n.d()}}}function Or(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[s,a,n,r,t]}class qr extends be{constructor(e){super(),ve(this,e,Or,Lr,pe,{size:0,title:1})}}function Nl(i){let e;return{c(){e=N("div"),this.h()},l(l){e=V(l,"DIV",{id:!0,style:!0}),y(e).forEach(h),this.h()},h(){I(e,"id","svelte-infinite-scroll"),ut(e,"width","0")},m(l,t){S(l,e,t),i[11](e)},p:L,d(l){l&&h(e),i[11](null)}}}function jr(i){let e,l=!i[1]&&!i[0]&&Nl(i);return{c(){l&&l.c(),e=fe()},l(t){l&&l.l(t),e=fe()},m(t,n){l&&l.m(t,n),S(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=Nl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:L,o:L,d(t){l&&l.d(t),t&&h(e)}}}function Ur(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=st();let u=!1,_,c,d,m;const g=p=>{if(!r)return;const $=p.target;E($,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,c=$.scrollHeight),l(9,d=$.scrollTop)),l(7,u=!0)):l(7,u=!1)},E=(p,$,D)=>{const M=p.documentElement?p.documentElement:p;return $?D?M.scrollLeft:M.scrollTop:D?M.scrollWidth-M.clientWidth-M.scrollLeft:M.scrollHeight-M.clientHeight-M.scrollTop};Jn(()=>{a?l(10,m=document):o?l(10,m=o):l(10,m=_.parentNode)}),Fi(()=>{m&&(m.removeEventListener("scroll",g),m.removeEventListener("resize",g))});function w(p){qe[p?"unshift":"push"](()=>{_=p,l(2,_)})}return i.$$set=p=>{"threshold"in p&&l(3,t=p.threshold),"horizontal"in p&&l(4,n=p.horizontal),"elementScroll"in p&&l(0,o=p.elementScroll),"hasMore"in p&&l(5,r=p.hasMore),"reverse"in p&&l(6,s=p.reverse),"window"in p&&l(1,a=p.window)},i.$$.update=()=>{i.$$.dirty&1088&&m&&(s&&l(10,m.scrollTop=m.scrollHeight,m),m.addEventListener("scroll",g),m.addEventListener("resize",g)),i.$$.dirty&1984&&u&&s&&l(10,m.scrollTop=m.scrollHeight-c+d,m)},[o,a,_,t,n,r,s,u,c,d,m,w]}class Yr extends be{constructor(e){super(),ve(this,e,Ur,jr,pe,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Qr(i){let e,l,t,n,o,r,s,a,f,u;t=new Yi({});const _=i[7].default,c=St(_,i,i[10],null);return{c(){e=N("div"),l=N("button"),A(t.$$.fragment),o=Y(),r=N("span"),c&&c.c(),this.h()},l(d){e=V(d,"DIV",{class:!0});var m=y(e);l=V(m,"BUTTON",{class:!0});var g=y(l);F(t.$$.fragment,g),g.forEach(h),o=Q(m),r=V(m,"SPAN",{class:!0});var E=y(r);c&&c.l(E),E.forEach(h),m.forEach(h),this.h()},h(){l.disabled=i[1],I(l,"class","p-0 opacity-50 hover:opacity-100"),I(r,"class","truncate"),I(e,"class","removable-tag flex items-center gap-x-1")},m(d,m){S(d,e,m),v(e,l),P(t,l,null),v(e,o),v(e,r),c&&c.m(r,null),a=!0,f||(u=[Ve(n=Te.call(null,l,{text:i[1]?i[2]:i[3]})),Pe(l,"click",Ri(i[8])),Ve(s=Te.call(null,r,{text:i[4]}))],f=!0)},p(d,m){(!a||m&2)&&(l.disabled=d[1]),n&&Oe(n.update)&&m&14&&n.update.call(null,{text:d[1]?d[2]:d[3]}),c&&c.p&&(!a||m&1024)&&It(c,_,d,d[10],a?$t(_,d[10],m,null):Dt(d[10]),null),s&&Oe(s.update)&&m&16&&s.update.call(null,{text:d[4]})},i(d){a||(b(t.$$.fragment,d),b(c,d),a=!0)},o(d){k(t.$$.fragment,d),k(c,d),a=!1},d(d){d&&h(e),B(t),c&&c.d(d),f=!1,xe(u)}}}function Gr(i){let e,l;const t=[{type:i[0]},i[6]];let n={$$slots:{default:[Qr]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new Xe({props:n}),e.$on("click",i[9]),{c(){A(e.$$.fragment)},l(o){F(e.$$.fragment,o)},m(o,r){P(e,o,r),l=!0},p(o,[r]){const s=r&65?Re(t,[r&1&&{type:o[0]},r&64&&ei(o[6])]):{};r&1054&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(b(e.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function Wr(i,e,l){const t=["type","removeDisabled","removeDisabledHelperText","closeHelperText","clickHelperText"];let n=ke(e,t),{$$slots:o={},$$scope:r}=e;const s=st();let{type:a}=e,{removeDisabled:f=!1}=e,{removeDisabledHelperText:u=void 0}=e,{closeHelperText:_=void 0}=e,{clickHelperText:c=void 0}=e;const d=()=>s("remove");function m(g){lt.call(this,i,g)}return i.$$set=g=>{e=ce(ce({},e),ye(g)),l(6,n=ke(e,t)),"type"in g&&l(0,a=g.type),"removeDisabled"in g&&l(1,f=g.removeDisabled),"removeDisabledHelperText"in g&&l(2,u=g.removeDisabledHelperText),"closeHelperText"in g&&l(3,_=g.closeHelperText),"clickHelperText"in g&&l(4,c=g.clickHelperText),"$$scope"in g&&l(10,r=g.$$scope)},[a,f,u,_,c,s,n,o,d,m,r]}class Kt extends be{constructor(e){super(),ve(this,e,Wr,Gr,pe,{type:0,removeDisabled:1,removeDisabledHelperText:2,closeHelperText:3,clickHelperText:4})}}function Zr(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=N("span"),t=R(l),n=Y(),r=R(o),s=Y(),a=R(i[4]),this.h()},l(f){e=V(f,"SPAN",{class:!0});var u=y(e);t=H(u,l),u.forEach(h),n=Q(f),r=H(f,o),s=Q(f),a=H(f,i[4]),this.h()},h(){I(e,"class","font-mono")},m(f,u){S(f,e,u),v(e,t),S(f,n,u),S(f,r,u),S(f,s,u),S(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&se(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&se(r,o),u&16&&se(a,f[4])},d(f){f&&h(e),f&&h(n),f&&h(r),f&&h(s),f&&h(a)}}}function Kr(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=R("has "),l=N("span"),n=R(t),this.h()},l(o){e=H(o,"has "),l=V(o,"SPAN",{class:!0});var r=y(l);n=H(r,t),r.forEach(h),this.h()},h(){I(l,"class","font-mono")},m(o,r){S(o,e,r),S(o,l,r),v(l,n)},p(o,r){r&36&&t!==(t=(o[2]?"":o[5])+"")&&se(n,t)},d(o){o&&h(e),o&&h(l)}}}function Jr(i){let e,l;return{c(){e=R("is labeled "),l=R(i[7])},l(t){e=H(t,"is labeled "),l=H(t,i[7])},m(t,n){S(t,e,n),S(t,l,n)},p(t,n){n&128&&se(l,t[7])},d(t){t&&h(e),t&&h(l)}}}function Xr(i){let e;function l(o,r){return o[7]!=null?Jr:o[1].op==="exists"?Kr:Zr}let t=l(i),n=t(i);return{c(){n.c(),e=fe()},l(o){n.l(o),e=fe()},m(o,r){n.m(o,r),S(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&h(e)}}}function xr(i){let e,l,t,n,o,r;return l=new Kt({props:{interactive:!0,type:"magenta",$$slots:{default:[Xr]},$$scope:{ctx:i}}}),l.$on("click",i[12]),l.$on("remove",i[13]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","filter-pill items-center")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&16566&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Oe(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function ea(i,e,l){let t,n,o,r,s,a,f;const u={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:_}=e,{hidePath:c=!1}=e,{schema:d}=e;const m=Ye();ze(i,m,w=>l(8,f=w));const g=()=>et({command:tt.EditFilter,namespace:f.namespace,datasetName:f.datasetName,path:r}),E=()=>m.removeFilter(_);return i.$$set=w=>{"filter"in w&&l(1,_=w.filter),"hidePath"in w&&l(2,c=w.hidePath),"schema"in w&&l(10,d=w.schema)},i.$$.update=()=>{i.$$.dirty&1026&&l(11,t=Rt(d,typeof _.path=="string"?[_.path]:_.path)),i.$$.dirty&2048&&l(7,n=t!=null?Qi(t):null),i.$$.dirty&2&&l(4,o=Ie(_.value||"false")),i.$$.dirty&2&&l(3,r=Ht(_.path)),i.$$.dirty&26&&l(6,s=_.op==="exists"?`has ${Je(r)}`:`${Je(r)} ${u[_.op]} ${o}`),i.$$.dirty&8&&l(5,a=wt(r))},[u,_,c,r,o,a,s,n,f,m,d,t,g,E]}class Ii extends be{constructor(e){super(),ve(this,e,ea,xr,pe,{FILTER_SHORTHANDS:0,filter:1,hidePath:2,schema:10})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function Vl(i){let e,l,t,n,o;return l=new ar({props:{title:"Previous group",size:24}}),{c(){e=N("button"),A(l.$$.fragment)},l(r){e=V(r,"BUTTON",{});var s=y(e);F(l.$$.fragment,s),s.forEach(h)},m(r,s){S(r,e,s),P(l,e,null),t=!0,n||(o=Pe(e,"click",i[13]),n=!0)},p:L,i(r){t||(b(l.$$.fragment,r),t=!0)},o(r){k(l.$$.fragment,r),t=!1},d(r){r&&h(e),B(l),n=!1,o()}}}function ta(i){let e,l;return e=new Qe({props:{class:"!w-40"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function la(i){let e=Ie(i[2])+"",l;return{c(){l=R(e)},l(t){l=H(t,e)},m(t,n){S(t,l,n)},p(t,n){n&4&&e!==(e=Ie(t[2])+"")&&se(l,e)},i:L,o:L,d(t){t&&h(l)}}}function Tl(i){let e,l,t,n,o;return l=new ur({props:{title:"Next group",size:24}}),{c(){e=N("button"),A(l.$$.fragment)},l(r){e=V(r,"BUTTON",{});var s=y(e);F(l.$$.fragment,s),s.forEach(h)},m(r,s){S(r,e,s),P(l,e,null),t=!0,n||(o=Pe(e,"click",i[14]),n=!0)},p:L,i(r){t||(b(l.$$.fragment,r),t=!0)},o(r){k(l.$$.fragment,r),t=!1},d(r){r&&h(e),B(l),n=!1,o()}}}function na(i){let e,l,t,n,o,r,s,a,f,u,_=wt(i[0].path)+"",c,d,m,g,E=i[3]!=null&&i[3]>0&&Vl(i);const w=[la,ta],p=[];function $(M,T){return M[2]!=null?0:1}r=$(i),s=p[r]=w[r](i);let D=i[3]!=null&&i[1]&&i[3]<i[1].length-1&&Tl(i);return{c(){e=N("div"),l=N("div"),E&&E.c(),t=Y(),n=N("div"),o=N("div"),s.c(),a=Y(),f=N("div"),u=N("code"),c=R(_),d=Y(),m=N("div"),D&&D.c(),this.h()},l(M){e=V(M,"DIV",{class:!0});var T=y(e);l=V(T,"DIV",{class:!0});var z=y(l);E&&E.l(z),z.forEach(h),t=Q(T),n=V(T,"DIV",{class:!0});var j=y(n);o=V(j,"DIV",{class:!0});var x=y(o);s.l(x),x.forEach(h),a=Q(j),f=V(j,"DIV",{class:!0});var X=y(f);u=V(X,"CODE",{});var W=y(u);c=H(W,_),W.forEach(h),X.forEach(h),j.forEach(h),d=Q(T),m=V(T,"DIV",{class:!0});var O=y(m);D&&D.l(O),O.forEach(h),T.forEach(h),this.h()},h(){I(l,"class","flex-0"),I(o,"class","min-w-0 max-w-lg truncate text-center text-lg"),I(f,"class","flex-0 text-center text-gray-600"),I(n,"class","flex-col items-center justify-items-center"),I(m,"class","flex-0"),I(e,"class","mx-5 my-2 flex items-center justify-between rounded-lg border border-neutral-300 bg-neutral-100 py-2")},m(M,T){S(M,e,T),v(e,l),E&&E.m(l,null),v(e,t),v(e,n),v(n,o),p[r].m(o,null),v(n,a),v(n,f),v(f,u),v(u,c),v(e,d),v(e,m),D&&D.m(m,null),g=!0},p(M,[T]){M[3]!=null&&M[3]>0?E?(E.p(M,T),T&8&&b(E,1)):(E=Vl(M),E.c(),b(E,1),E.m(l,null)):E&&(te(),k(E,1,1,()=>{E=null}),le());let z=r;r=$(M),r===z?p[r].p(M,T):(te(),k(p[z],1,1,()=>{p[z]=null}),le(),s=p[r],s?s.p(M,T):(s=p[r]=w[r](M),s.c()),b(s,1),s.m(o,null)),(!g||T&1)&&_!==(_=wt(M[0].path)+"")&&se(c,_),M[3]!=null&&M[1]&&M[3]<M[1].length-1?D?(D.p(M,T),T&10&&b(D,1)):(D=Tl(M),D.c(),b(D,1),D.m(m,null)):D&&(te(),k(D,1,1,()=>{D=null}),le())},i(M){g||(b(E),b(s),b(D),g=!0)},o(M){k(E),k(s),k(D),g=!1},d(M){M&&h(e),E&&E.d(),p[r].d(),D&&D.d()}}}function ia(i,e,l){let t,n,o,r,s,a,f,u,_=L,c=()=>(_(),_=Ne(s,D=>l(11,u=D)),s),d;i.$$.on_destroy.push(()=>_());let{groupBy:m}=e,{schema:g}=e,E=Ye();ze(i,E,D=>l(12,d=D));function w(D){if(t==null||a==null||f==null)return;const M=D?a[f+1][0]:a[f-1][0];E.setGroupBy(m.path,M)}const p=()=>w(!1),$=()=>w(!0);return i.$$set=D=>{"groupBy"in D&&l(0,m=D.groupBy),"schema"in D&&l(7,g=D.schema)},i.$$.update=()=>{var D;i.$$.dirty&1&&l(2,t=m.value),i.$$.dirty&129&&l(10,n=Rt(g,m.path)),i.$$.dirty&1024&&l(9,o=Nt(n.dtype)&&!n.categorical?"value":"count"),i.$$.dirty&512&&l(8,r=o==="value"?"ASC":"DESC"),i.$$.dirty&4865&&c(l(4,s=Lt(d.namespace,d.datasetName,{leaf_path:m.path,sort_by:o,sort_order:r}))),i.$$.dirty&2048&&l(1,a=(D=u.data)==null?void 0:D.counts.filter(M=>M[0]!=null)),i.$$.dirty&7&&t==null&&a!=null&&a[0]!=null&&a[0][0]!=null&&(l(2,t=a[0][0]),E.setGroupBy(m.path,t)),i.$$.dirty&6&&l(3,f=a==null?void 0:a.findIndex(M=>M[0]===t))},[m,a,t,f,s,E,w,g,r,o,n,u,d,p,$]}class sa extends be{constructor(e){super(),ve(this,e,ia,na,pe,{groupBy:0,schema:7})}}const ra=i=>({item:i&2048}),Ml=i=>({item:i[11]}),aa=i=>({}),zl=i=>({item:i[11]});function oa(i){let e,l,t;return l=new tr({props:{inline:!0}}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);F(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","h-6 w-16 overflow-hidden")},m(n,o){S(n,e,o),P(l,e,null),t=!0},p:L,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),B(l)}}}function fa(i){let e,l,t;function n(r){i[8](r)}let o={size:"sm",type:"inline",selectedId:i[1]!=null?i[1]:mt,items:i[4],$$slots:{default:[da,({item:r})=>({11:r}),({item:r})=>r?2048:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new ki({props:o}),qe.push(()=>We(e,"open",n)),e.$on("select",i[5]),{c(){A(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const a={};s&2&&(a.selectedId=r[1]!=null?r[1]:mt),s&16&&(a.items=r[4]),s&2560&&(a.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,a.open=r[0],Ze(()=>l=!1)),e.$set(a)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function ua(i){let e;const l=i[7].default,t=St(l,i,i[9],Ml);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,o){t&&t.m(n,o),e=!0},p(n,o){t&&t.p&&(!e||o&2560)&&It(t,l,n,n[9],e?$t(l,n[9],o,ra):Dt(n[9]),Ml)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function ca(i){let e,l;return{c(){e=N("div"),l=R("None"),this.h()},l(t){e=V(t,"DIV",{class:!0});var n=y(e);l=H(n,"None"),n.forEach(h),this.h()},h(){I(e,"class","flex items-center justify-between gap-x-1")},m(t,n){S(t,e,n),v(e,l)},p:L,i:L,o:L,d(t){t&&h(e)}}}function da(i){let e,l,t,n;const o=[ca,ua],r=[];function s(a,f){return a[11].id===mt?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=fe()},l(a){l.l(a),t=fe()},m(a,f){r[e].m(a,f),S(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(te(),k(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function ma(i){let e,l,t,n,o,r,s,a;const f=i[7].icon,u=St(f,i,i[9],zl),_=[fa,oa],c=[];function d(m,g){return m[2]?0:1}return t=d(i),n=c[t]=_[t](i),{c(){e=N("div"),u&&u.c(),l=Y(),n.c(),this.h()},l(m){e=V(m,"DIV",{class:!0});var g=y(e);u&&u.l(g),l=Q(g),n.l(g),g.forEach(h),this.h()},h(){I(e,"class","drop-pill flex items-center px-2 svelte-99k9u5"),ie(e,"active",i[1]!=null)},m(m,g){S(m,e,g),u&&u.m(e,null),v(e,l),c[t].m(e,null),r=!0,s||(a=Ve(o=Te.call(null,e,!i[0]&&i[3]?{text:i[3]}:{text:""})),s=!0)},p(m,[g]){u&&u.p&&(!r||g&512)&&It(u,f,m,m[9],r?$t(f,m[9],g,aa):Dt(m[9]),zl);let E=t;t=d(m),t===E?c[t].p(m,g):(te(),k(c[E],1,1,()=>{c[E]=null}),le(),n=c[t],n?n.p(m,g):(n=c[t]=_[t](m),n.c()),b(n,1),n.m(e,null)),o&&Oe(o.update)&&g&9&&o.update.call(null,!m[0]&&m[3]?{text:m[3]}:{text:""}),(!r||g&2)&&ie(e,"active",m[1]!=null)},i(m){r||(b(u,m),b(n),r=!0)},o(m){k(u,m),k(n),r=!1},d(m){m&&h(e),u&&u.d(m),c[t].d(),s=!1,a()}}}const mt="__none__";function ha(i,e,l){let t,{$$slots:n={},$$scope:o}=e,{title:r}=e,{selectedId:s=null}=e,{items:a=null}=e,{tooltip:f=void 0}=e;const u=st();let{open:_=!1}=e;function c(m){l(1,s=m.detail.selectedId==mt?null:m.detail.selectedId),u("select",{selectedId:s,selectedItem:m.detail.selectedItem})}function d(m){_=m,l(0,_)}return i.$$set=m=>{"title"in m&&l(6,r=m.title),"selectedId"in m&&l(1,s=m.selectedId),"items"in m&&l(2,a=m.items),"tooltip"in m&&l(3,f=m.tooltip),"open"in m&&l(0,_=m.open),"$$scope"in m&&l(9,o=m.$$scope)},i.$$.update=()=>{i.$$.dirty&69&&l(4,t=[{id:mt,text:_?"None":r},...a||[]])},[_,s,a,f,t,c,r,n,d,o]}class Di extends be{constructor(e){super(),ve(this,e,ha,ma,pe,{title:6,selectedId:1,items:2,tooltip:3,open:0})}}function Cl(i){var l;const e=(l=i[2])==null?void 0:l.find(function(...n){return i[12](i[15],...n)});i[16]=e}function Mt(i){const e=i.slice(),l=e[16].stats.approx_count_distinct;return e[17]=l,e}function Al(i){let e,l,t=i[16].text+"",n,o,r,s=i[16].stats&&Pl(Mt(i));return{c(){e=N("div"),l=N("span"),n=R(t),r=Y(),s&&s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);l=V(f,"SPAN",{title:!0,class:!0});var u=y(l);n=H(u,t),u.forEach(h),r=Q(f),s&&s.l(f),f.forEach(h),this.h()},h(){I(l,"title",o=i[16].text),I(l,"class","truncate text-sm"),I(e,"class","flex items-center justify-between gap-x-1")},m(a,f){S(a,e,f),v(e,l),v(l,n),v(e,r),s&&s.m(e,null)},p(a,f){f&32772&&t!==(t=a[16].text+"")&&se(n,t),f&32772&&o!==(o=a[16].text)&&I(l,"title",o),a[16].stats?s?s.p(Mt(a),f):(s=Pl(Mt(a)),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&h(e),s&&s.d()}}}function Pl(i){let e,l,t=i[17].toLocaleString()+"",n,o,r=i[17]===1?"":"s",s;return{c(){e=N("span"),l=R("~"),n=R(t),o=R(" group"),s=R(r),this.h()},l(a){e=V(a,"SPAN",{class:!0});var f=y(e);l=H(f,"~"),n=H(f,t),o=H(f," group"),s=H(f,r),f.forEach(h),this.h()},h(){I(e,"class","text-xs text-gray-800")},m(a,f){S(a,e,f),v(e,l),v(e,n),v(e,o),v(e,s)},p(a,f){f&32772&&t!==(t=a[17].toLocaleString()+"")&&se(n,t),f&32772&&r!==(r=a[17]===1?"":"s")&&se(s,r)},d(a){a&&h(e)}}}function _a(i){Cl(i);let e,l=i[16]&&Al(i);return{c(){l&&l.c(),e=fe()},l(t){l&&l.l(t),e=fe()},m(t,n){l&&l.m(t,n),S(t,e,n)},p(t,n){Cl(t),t[16]?l?l.p(t,n):(l=Al(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&h(e)}}}function ga(i){let e,l,t;return l=new Er({props:{title:"Group by"}}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(n){e=V(n,"DIV",{slot:!0});var o=y(e);F(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"slot","icon")},m(n,o){S(n,e,o),P(l,e,null),t=!0},p:L,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),B(l)}}}function pa(i){let e,l,t;function n(r){i[13](r)}let o={title:"Group by",items:i[2],selectedId:i[1],tooltip:i[5]?`Grouping by ${Je(i[5])}`:null,$$slots:{icon:[ga,({item:r})=>({15:r}),({item:r})=>r?32768:0],default:[_a,({item:r})=>({15:r}),({item:r})=>r?32768:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new Di({props:o}),qe.push(()=>We(e,"open",n)),e.$on("select",i[7]),{c(){A(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,[s]){const a={};s&4&&(a.items=r[2]),s&2&&(a.selectedId=r[1]),s&32&&(a.tooltip=r[5]?`Grouping by ${Je(r[5])}`:null),s&294916&&(a.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,a.open=r[0],Ze(()=>l=!1)),e.$set(a)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function ba(i,e,l){let t,n,o,r,s,a,f,u=L,_=()=>(u(),u=Ne(s,T=>l(9,f=T)),s),c,d,m=L,g=()=>(m(),m=Ne(o,T=>l(11,d=T)),o);i.$$.on_destroy.push(()=>u()),i.$$.on_destroy.push(()=>m());const E=Ye();ze(i,E,T=>l(10,c=T));let w=!1;function p(T,z){return T.filter(j=>j.data!=null&&j.data.total_count>0).map(j=>j.data).map(j=>({id:Ge(j.path),text:z?Je(j.path):ni(j.path),stats:j}))}function $(T){if(T.detail.selectedId==null){E.setGroupBy(null,null);return}const z=T.detail.selectedItem;E.setGroupBy(z.stats.path,null),l(1,t=T.detail.selectedId)}const D=(T,z)=>z===T;function M(T){w=T,l(0,w)}return i.$$.update=()=>{var T;i.$$.dirty&1024&&l(1,t=c.groupBy?Ge(c.groupBy.path):null),i.$$.dirty&1024&&l(5,n=(T=c.groupBy)==null?void 0:T.path),i.$$.dirty&1024&&g(l(4,o=rt(c.namespace,c.datasetName))),i.$$.dirty&2048&&l(8,r=d.data?nt(d.data).filter(z=>(z.categorical||!Nt(z.dtype))&&z.dtype!=null&&z.dtype!=="string_span"&&z.dtype!=="embedding"):null),i.$$.dirty&1280&&_(l(3,s=li(c.namespace,c.datasetName,r==null?void 0:r.map(z=>z.path),r!=null))),i.$$.dirty&513&&l(2,a=p(f,w))},[w,t,a,s,o,n,E,$,r,f,c,d,D,M]}class va extends be{constructor(e){super(),ve(this,e,ba,pa,pe,{})}}function Bl(i){let e,l=i[0].concept_namespace+"",t,n,o=i[0].concept_name+"",r;return{c(){e=N("div"),t=R(l),n=R(" / "),r=R(o),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);t=H(a,l),n=H(a," / "),r=H(a,o),a.forEach(h),this.h()},h(){I(e,"class","mb-2 w-full text-center text-xs")},m(s,a){S(s,e,a),v(e,t),v(e,n),v(e,r)},p(s,a){a&1&&l!==(l=s[0].concept_namespace+"")&&se(t,l),a&1&&o!==(o=s[0].concept_name+"")&&se(r,o)},d(s){s&&h(e)}}}function wa(i){let e=Je(i[0].path)+"",l,t,n=i[0].type+"",o;return{c(){l=R(e),t=R(": "),o=R(n)},l(r){l=H(r,e),t=H(r,": "),o=H(r,n)},m(r,s){S(r,l,s),S(r,t,s),S(r,o,s)},p(r,s){s&1&&e!==(e=Je(r[0].path)+"")&&se(l,e),s&1&&n!==(n=r[0].type+"")&&se(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function Fl(i){let e,l,t;return l=new vi({props:{embedding:i[0].embedding}}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);F(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","ml-2")},m(n,o){S(n,e,o),P(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].embedding),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),B(l)}}}function Rl(i){let e,l;return{c(){e=N("div"),l=R(i[2]),this.h()},l(t){e=V(t,"DIV",{class:!0});var n=y(e);l=H(n,i[2]),n.forEach(h),this.h()},h(){I(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&4&&se(l,t[2])},d(t){t&&h(e)}}}function ka(i){let e,l,t,n,o,r,s,a,f=i[0].type==="concept"&&Bl(i);n=new Xe({props:{type:i[1],$$slots:{default:[wa]},$$scope:{ctx:i}}});let u=(i[0].type==="semantic"||i[0].type==="concept")&&Fl(i),_=i[2]&&Rl(i);return{c(){f&&f.c(),e=Y(),l=N("div"),t=N("div"),A(n.$$.fragment),o=Y(),u&&u.c(),r=Y(),_&&_.c(),s=fe(),this.h()},l(c){f&&f.l(c),e=Q(c),l=V(c,"DIV",{class:!0});var d=y(l);t=V(d,"DIV",{class:!0});var m=y(t);F(n.$$.fragment,m),m.forEach(h),o=Q(d),u&&u.l(d),d.forEach(h),r=Q(c),_&&_.l(c),s=fe(),this.h()},h(){I(t,"class","whitespace-nowrap"),I(l,"class","flex items-center justify-items-center")},m(c,d){f&&f.m(c,d),S(c,e,d),S(c,l,d),v(l,t),P(n,t,null),v(l,o),u&&u.m(l,null),S(c,r,d),_&&_.m(c,d),S(c,s,d),a=!0},p(c,[d]){c[0].type==="concept"?f?f.p(c,d):(f=Bl(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const m={};d&2&&(m.type=c[1]),d&9&&(m.$$scope={dirty:d,ctx:c}),n.$set(m),c[0].type==="semantic"||c[0].type==="concept"?u?(u.p(c,d),d&1&&b(u,1)):(u=Fl(c),u.c(),b(u,1),u.m(l,null)):u&&(te(),k(u,1,1,()=>{u=null}),le()),c[2]?_?_.p(c,d):(_=Rl(c),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null)},i(c){a||(b(n.$$.fragment,c),b(u),a=!0)},o(c){k(n.$$.fragment,c),k(u),a=!1},d(c){f&&f.d(c),c&&h(e),c&&h(l),B(n),u&&u.d(),c&&h(r),_&&_.d(c),c&&h(s)}}}function Ea(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,o,t]}class Hl extends be{constructor(e){super(),ve(this,e,Ea,ka,pe,{search:0,tagType:1})}}function ya(i){let e,l=Je(i[0].path)+"",t,n,o,r;return{c(){e=N("span"),t=R(l),n=R(' has "'),o=R(i[2]),r=R('"'),this.h()},l(s){e=V(s,"SPAN",{class:!0});var a=y(e);t=H(a,l),a.forEach(h),n=H(s,' has "'),o=H(s,i[2]),r=H(s,'"'),this.h()},h(){I(e,"class","font-mono")},m(s,a){S(s,e,a),v(e,t),S(s,n,a),S(s,o,a),S(s,r,a)},p(s,a){a&1&&l!==(l=Je(s[0].path)+"")&&se(t,l),a&4&&se(o,s[2])},d(s){s&&h(e),s&&h(n),s&&h(o),s&&h(r)}}}function Sa(i){let e,l,t,n,o,r;return l=new Kt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[ya]},$$scope:{ctx:i}}}),l.$on("click",i[7]),l.$on("remove",i[8]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","search-pill items-center text-left")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{component:Hl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&1029&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Oe(t.update)&&a&3&&t.update.call(null,{component:Hl,props:{search:s[0],tagType:s[1]}})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function Ia(i,e,l){let t,n,o,r,s,a=L,f=()=>(a(),a=Ne(t,g=>l(4,s=g)),t);i.$$.on_destroy.push(()=>a());let{search:u}=e;const _={keyword:"outline",semantic:"teal",concept:"green",metadata:"magenta"},c=Ye();ze(i,c,g=>l(6,r=g));function d(g){lt.call(this,i,g)}const m=()=>c.removeSearch(u,(s==null?void 0:s.data)||null);return i.$$set=g=>{"search"in g&&l(0,u=g.search)},i.$$.update=()=>{i.$$.dirty&64&&f(l(3,t=at(r.namespace,r.datasetName,ot(r)))),i.$$.dirty&1&&l(2,n=u.type==="concept"?u.concept_name:u.query),i.$$.dirty&1&&l(1,o=u.type!=null?_[u.type]:"outline")},[u,o,n,t,s,c,r,d,m]}class $i extends be{constructor(e){super(),ve(this,e,Ia,Sa,pe,{search:0})}}function Ll(i){var l;const e=(l=i[3])==null?void 0:l.find(function(...n){return i[10](i[15],...n)});i[16]=e}function Ol(i){let e,l=i[16].text+"",t,n;return{c(){e=N("div"),t=R(l),this.h()},l(o){e=V(o,"DIV",{title:!0,class:!0});var r=y(e);t=H(r,l),r.forEach(h),this.h()},h(){I(e,"title",n=i[16].text),I(e,"class","truncate text-sm")},m(o,r){S(o,e,r),v(e,t)},p(o,r){r&32776&&l!==(l=o[16].text+"")&&se(t,l),r&32776&&n!==(n=o[16].text)&&I(e,"title",n)},d(o){o&&h(e)}}}function Da(i){Ll(i);let e,l=i[16]&&Ol(i);return{c(){l&&l.c(),e=fe()},l(t){l&&l.l(t),e=fe()},m(t,n){l&&l.m(t,n),S(t,e,n)},p(t,n){Ll(t),t[16]?l?l.p(t,n):(l=Ol(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&h(e)}}}function $a(i){let e,l;return e=new Si({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Na(i){let e,l;return e=new yi({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Va(i){let e,l,t,n,o,r,s,a,f;const u=[Na,$a],_=[];function c(d,m){var g;return((g=d[1])==null?void 0:g.order)==="ASC"?0:1}return t=c(i),n=_[t]=u[t](i),{c(){e=N("div"),l=N("button"),n.c(),this.h()},l(d){e=V(d,"DIV",{slot:!0});var m=y(e);l=V(m,"BUTTON",{class:!0});var g=y(l);n.l(g),g.forEach(h),m.forEach(h),this.h()},h(){I(l,"class","px-1 py-2"),l.disabled=o=i[1]==null,I(e,"slot","icon")},m(d,m){var g;S(d,e,m),v(e,l),_[t].m(l,null),s=!0,a||(f=[Ve(r=Te.call(null,l,{text:((g=i[1])==null?void 0:g.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Pe(l,"click",i[7])],a=!0)},p(d,m){var E;let g=t;t=c(d),t!==g&&(te(),k(_[g],1,1,()=>{_[g]=null}),le(),n=_[t],n||(n=_[t]=u[t](d),n.c()),b(n,1),n.m(l,null)),(!s||m&2&&o!==(o=d[1]==null))&&(l.disabled=o),r&&Oe(r.update)&&m&2&&r.update.call(null,{text:((E=d[1])==null?void 0:E.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})},i(d){s||(b(n),s=!0)},o(d){k(n),s=!1},d(d){d&&h(e),_[t].d(),a=!1,xe(f)}}}function Ta(i){let e,l,t,n;function o(s){i[11](s)}let r={title:"Sort",selectedId:i[2],items:i[3],$$slots:{icon:[Va,({item:s})=>({15:s}),({item:s})=>s?32768:0],default:[Da,({item:s})=>({15:s}),({item:s})=>s?32768:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.open=i[0]),l=new Di({props:r}),qe.push(()=>We(l,"open",o)),l.$on("select",i[6]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","sort-container flex flex-row items-center gap-x-1 md:w-fit")},m(s,a){S(s,e,a),P(l,e,null),n=!0},p(s,[a]){const f={};a&4&&(f.selectedId=s[2]),a&8&&(f.items=s[3]),a&163850&&(f.$$scope={dirty:a,ctx:s}),!t&&a&1&&(t=!0,f.open=s[0],Ze(()=>t=!1)),l.$set(f)},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l)}}}function Ma(i,e,l){let t,n,o,r,s,a=L,f=()=>(a(),a=Ne(t,D=>l(8,s=D)),t),u;i.$$.on_destroy.push(()=>a());let _=Ye();ze(i,_,D=>l(9,u=D));let c=!1;function d(D){var T;if(D.query.sort_by&&D.query.sort_by.length>0)return{path:Ht(D.query.sort_by[0]),order:D.query.sort_order||"DESC"};const M=(((T=s==null?void 0:s.data)==null?void 0:T.sorts)||[])[0];return M==null||Ct(M.path,[At])?null:M}let m={};function g(D,M){return ii(D).filter(T=>T.dtype!="embedding"&&T.dtype!="string_span").map(T=>({id:Ge(T.path),path:T.path,text:M?Je(T.path):ni(T.path),disabled:!1}))}const E=D=>{if(D.detail.selectedId==null){_.clearSorts();return}const M=D.detail.selectedItem;_.setSortBy(M.path),l(2,o=D.detail.selectedId)},w=()=>{n!=null&&_.setSortBy(n.path),_.setSortOrder((n==null?void 0:n.order)==="ASC"?"DESC":"ASC")},p=(D,M)=>M===D;function $(D){c=D,l(0,c)}return i.$$.update=()=>{var D;if(i.$$.dirty&512&&f(l(4,t=at(u.namespace,u.datasetName,ot(u)))),i.$$.dirty&512&&l(1,n=d(u)),i.$$.dirty&256)for(const M of((D=s==null?void 0:s.data)==null?void 0:D.search_results)||[])m[Ge(M.result_path)]=M;i.$$.dirty&2&&l(2,o=(n==null?void 0:n.path)&&Ge(n.path)),i.$$.dirty&257&&l(3,r=s.data&&g(s.data.schema,c))},[c,n,o,r,t,_,E,w,s,u,p,$]}class za extends be{constructor(e){super(),ve(this,e,Ma,Ta,pe,{})}}function ql(i,e,l){const t=i.slice();return t[20]=e[l],t}function jl(i,e,l){const t=i.slice();return t[23]=e[l],t}function Ul(i,e,l){const t=i.slice();return t[26]=e[l],t}function Ca(i){let e;return{c(){e=R("Filters")},l(l){e=H(l,"Filters")},m(l,t){S(l,e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function Aa(i){let e,l,t,n=i[14],o=[];for(let a=0;a<n.length;a+=1)o[a]=Gl(jl(i,n,a));const r=a=>k(o[a],1,1,()=>{o[a]=null});let s=i[6]!=null&&i[6].length>0&&Wl(i);return{c(){e=N("div");for(let a=0;a<o.length;a+=1)o[a].c();l=Y(),s&&s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Q(f),s&&s.l(f),f.forEach(h),this.h()},h(){I(e,"class","flex flex-grow flex-row gap-x-4")},m(a,f){S(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f&114696){n=a[14];let u;for(u=0;u<n.length;u+=1){const _=jl(a,n,u);o[u]?(o[u].p(_,f),b(o[u],1)):(o[u]=Gl(_),o[u].c(),b(o[u],1),o[u].m(e,l))}for(te(),u=n.length;u<o.length;u+=1)r(u);le()}a[6]!=null&&a[6].length>0?s?(s.p(a,f),f&64&&b(s,1)):(s=Wl(a),s.c(),b(s,1),s.m(e,null)):s&&(te(),k(s,1,1,()=>{s=null}),le())},i(a){if(!t){for(let f=0;f<n.length;f+=1)b(o[f]);b(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);k(s),t=!1},d(a){a&&h(e),Ke(o,a),s&&s.d()}}}function Yl(i){let e,l,t=i[15][i[23]]+"",n,o,r,s,a,f=i[3][i[23]],u=[];for(let c=0;c<f.length;c+=1)u[c]=Ql(Ul(i,f,c));const _=c=>k(u[c],1,1,()=>{u[c]=null});return{c(){e=N("div"),l=N("div"),n=R(t),o=Y(),r=N("div");for(let c=0;c<u.length;c+=1)u[c].c();s=Y(),this.h()},l(c){e=V(c,"DIV",{class:!0});var d=y(e);l=V(d,"DIV",{class:!0});var m=y(l);n=H(m,t),m.forEach(h),o=Q(d),r=V(d,"DIV",{class:!0});var g=y(r);for(let E=0;E<u.length;E+=1)u[E].l(g);g.forEach(h),s=Q(d),d.forEach(h),this.h()},h(){I(l,"class","text-xs font-light"),I(r,"class","flex flex-row gap-x-1"),I(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-7vw0ck")},m(c,d){S(c,e,d),v(e,l),v(l,n),v(e,o),v(e,r);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,null);v(e,s),a=!0},p(c,d){if(d&81928){f=c[3][c[23]];let m;for(m=0;m<f.length;m+=1){const g=Ul(c,f,m);u[m]?(u[m].p(g,d),b(u[m],1)):(u[m]=Ql(g),u[m].c(),b(u[m],1),u[m].m(r,null))}for(te(),m=f.length;m<u.length;m+=1)_(m);le()}},i(c){if(!a){for(let d=0;d<f.length;d+=1)b(u[d]);a=!0}},o(c){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)k(u[d]);a=!1},d(c){c&&h(e),Ke(u,c)}}}function Ql(i){let e,l;function t(){return i[18](i[26])}return e=new $i({props:{search:i[26]}}),e.$on("click",t),{c(){A(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){P(e,n,o),l=!0},p(n,o){i=n;const r={};o&8&&(r.search=i[26]),e.$set(r)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Gl(i){let e,l,t=i[3][i[23]]&&Yl(i);return{c(){t&&t.c(),e=fe()},l(n){t&&t.l(n),e=fe()},m(n,o){t&&t.m(n,o),S(n,e,o),l=!0},p(n,o){n[3][n[23]]?t?(t.p(n,o),o&8&&b(t,1)):(t=Yl(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(te(),k(t,1,1,()=>{t=null}),le())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Wl(i){let e,l,t,n,o,r,s,a;const f=[Ba,Pa],u=[];function _(c,d){return c[10].data?0:1}return r=_(i),s=u[r]=f[r](i),{c(){e=N("div"),l=N("div"),t=R("Filters"),n=Y(),o=N("div"),s.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var d=y(e);l=V(d,"DIV",{class:!0});var m=y(l);t=H(m,"Filters"),m.forEach(h),n=Q(d),o=V(d,"DIV",{class:!0});var g=y(o);s.l(g),g.forEach(h),d.forEach(h),this.h()},h(){I(l,"class","text-xs font-light"),I(o,"class","flex flex-row gap-x-1"),I(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-7vw0ck")},m(c,d){S(c,e,d),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),a=!0},p(c,d){let m=r;r=_(c),r===m?u[r].p(c,d):(te(),k(u[m],1,1,()=>{u[m]=null}),le(),s=u[r],s?s.p(c,d):(s=u[r]=f[r](c),s.c()),b(s,1),s.m(o,null))},i(c){a||(b(s),a=!0)},o(c){k(s),a=!1},d(c){c&&h(e),u[r].d()}}}function Pa(i){let e,l;return e=new Qe({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ba(i){let e,l,t=i[6],n=[];for(let r=0;r<t.length;r+=1)n[r]=Zl(ql(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=fe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=fe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);S(r,e,s),l=!0},p(r,s){if(s&1088){t=r[6];let a;for(a=0;a<t.length;a+=1){const f=ql(r,t,a);n[a]?(n[a].p(f,s),b(n[a],1)):(n[a]=Zl(f),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)b(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(r){Ke(n,r),r&&h(e)}}}function Zl(i){let e,l;return e=new Ii({props:{schema:i[10].data,filter:i[20]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&1024&&(o.schema=t[10].data),n&64&&(o.filter=t[20]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Kl(i){let e;function l(o,r){return o[0]==o[1].dataset_manifest.num_items?Ra:Fa}let t=l(i),n=t(i);return{c(){n.c(),e=fe()},l(o){n.l(o),e=fe()},m(o,r){n.m(o,r),S(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&h(e)}}}function Fa(i){let e=Ie(i[0])+"",l,t,n=Ie(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=R(e),t=R(" of "),o=R(n),r=R(" rows")},l(s){l=H(s,e),t=H(s," of "),o=H(s,n),r=H(s," rows")},m(s,a){S(s,l,a),S(s,t,a),S(s,o,a),S(s,r,a)},p(s,a){a&1&&e!==(e=Ie(s[0])+"")&&se(l,e),a&2&&n!==(n=Ie(s[1].dataset_manifest.num_items)+"")&&se(o,n)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r)}}}function Ra(i){let e=Ie(i[0])+"",l,t;return{c(){l=R(e),t=R(" rows")},l(n){l=H(n,e),t=H(n," rows")},m(n,o){S(n,l,o),S(n,t,o)},p(n,o){o&1&&e!==(e=Ie(n[0])+"")&&se(l,e)},d(n){n&&h(l),n&&h(t)}}}function Jl(i){let e,l;return e=new sa({props:{schema:i[10].data,groupBy:i[5].groupBy}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&1024&&(o.schema=t[10].data),n&32&&(o.groupBy=t[5].groupBy),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Xl(i){let e,l;return e=new Zt({props:{open:!0,modalHeading:"",passiveModal:!0,size:"lg",$$slots:{default:[ja]},$$scope:{ctx:i}}}),e.$on("close",i[19]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&536872960&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ha(i){var r;let e,l,t,n,o;return l=new ri({props:{size:"small",kind:"ghost",icon:ai,href:ll((r=i[11])==null?void 0:r.data.namespace,i[11].data.concept_name),iconDescription:"Open concept page",$$slots:{default:[qa]},$$scope:{ctx:i}}}),n=new Ss({props:{concept:i[11].data}}),{c(){e=N("div"),A(l.$$.fragment),t=Y(),A(n.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),t=Q(s),F(n.$$.fragment,s),this.h()},h(){I(e,"class","mb-4 ml-6")},m(s,a){S(s,e,a),P(l,e,null),S(s,t,a),P(n,s,a),o=!0},p(s,a){var _;const f={};a&2048&&(f.href=ll((_=s[11])==null?void 0:_.data.namespace,s[11].data.concept_name)),a&536870912&&(f.$$scope={dirty:a,ctx:s}),l.$set(f);const u={};a&2048&&(u.concept=s[11].data),n.$set(u)},i(s){o||(b(l.$$.fragment,s),b(n.$$.fragment,s),o=!0)},o(s){k(l.$$.fragment,s),k(n.$$.fragment,s),o=!1},d(s){s&&h(e),B(l),s&&h(t),B(n,s)}}}function La(i){let e,l=i[11].error.message+"",t;return{c(){e=N("p"),t=R(l)},l(n){e=V(n,"P",{});var o=y(e);t=H(o,l),o.forEach(h)},m(n,o){S(n,e,o),v(e,t)},p(n,o){o&2048&&l!==(l=n[11].error.message+"")&&se(t,l)},i:L,o:L,d(n){n&&h(e)}}}function Oa(i){let e,l;return e=new Qe({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qa(i){let e;return{c(){e=R("Go to concept")},l(l){e=H(l,"Go to concept")},m(l,t){S(l,e,t)},d(l){l&&h(e)}}}function ja(i){let e,l,t,n;const o=[Oa,La,Ha],r=[];function s(a,f){var u,_,c;return(u=a[11])!=null&&u.isLoading?0:(_=a[11])!=null&&_.isError?1:(c=a[11])!=null&&c.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=fe()},l(a){l&&l.l(a),t=fe()},m(a,f){~e&&r[e].m(a,f),S(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(te(),k(r[u],1,1,()=>{r[u]=null}),le()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function Ua(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D,M,T,z;n=new il({props:{totalNumRows:i[0],icon:Hr,disabled:!i[9],disabledMessage:i[9]?"":"User does not have access to label all.",labelsQuery:{searches:i[4],filters:i[6]},helperText:"Label all items in the current filter"}}),r=new il({props:{totalNumRows:i[0],remove:!0,icon:qr,disabled:!i[9],disabledMessage:i[9]?"":"User does not have access to label all.",labelsQuery:{searches:i[4],filters:i[6]},helperText:"Remove label from all items in the current filter"}}),u=new vr({});const j=[Aa,Ca],x=[];function X(U,C){return U[4].length>0||U[6]&&U[6].length>0?0:1}c=X(i),d=x[c]=j[c](i),g=new va({}),w=new za({});let W=i[0]&&i[1]&&Kl(i),O=i[5].groupBy&&i[10].data&&Jl(i),K=i[2]&&Xl(i);return{c(){e=N("div"),l=N("div"),t=N("div"),A(n.$$.fragment),o=Y(),A(r.$$.fragment),s=Y(),a=N("div"),f=N("div"),A(u.$$.fragment),_=Y(),d.c(),m=Y(),A(g.$$.fragment),E=Y(),A(w.$$.fragment),p=Y(),$=N("div"),W&&W.c(),D=Y(),O&&O.c(),M=Y(),K&&K.c(),T=fe(),this.h()},l(U){e=V(U,"DIV",{class:!0});var C=y(e);l=V(C,"DIV",{class:!0});var G=y(l);t=V(G,"DIV",{class:!0});var ee=y(t);F(n.$$.fragment,ee),o=Q(ee),F(r.$$.fragment,ee),ee.forEach(h),s=Q(G),a=V(G,"DIV",{class:!0});var J=y(a);f=V(J,"DIV",{});var ge=y(f);F(u.$$.fragment,ge),ge.forEach(h),_=Q(J),d.l(J),J.forEach(h),m=Q(G),F(g.$$.fragment,G),E=Q(G),F(w.$$.fragment,G),G.forEach(h),p=Q(C),$=V(C,"DIV",{class:!0});var Ee=y($);W&&W.l(Ee),Ee.forEach(h),C.forEach(h),D=Q(U),O&&O.l(U),M=Q(U),K&&K.l(U),T=fe(),this.h()},h(){I(t,"class","flex items-center gap-x-2"),I(a,"class","flex items-center gap-x-1"),I(l,"class","flex items-center gap-x-6 gap-y-2"),I($,"class","flex py-2"),I(e,"class","relative mx-5 my-2 flex items-center justify-between")},m(U,C){S(U,e,C),v(e,l),v(l,t),P(n,t,null),v(t,o),P(r,t,null),v(l,s),v(l,a),v(a,f),P(u,f,null),v(a,_),x[c].m(a,null),v(l,m),P(g,l,null),v(l,E),P(w,l,null),v(e,p),v(e,$),W&&W.m($,null),S(U,D,C),O&&O.m(U,C),S(U,M,C),K&&K.m(U,C),S(U,T,C),z=!0},p(U,[C]){const G={};C&1&&(G.totalNumRows=U[0]),C&512&&(G.disabled=!U[9]),C&512&&(G.disabledMessage=U[9]?"":"User does not have access to label all."),C&80&&(G.labelsQuery={searches:U[4],filters:U[6]}),n.$set(G);const ee={};C&1&&(ee.totalNumRows=U[0]),C&512&&(ee.disabled=!U[9]),C&512&&(ee.disabledMessage=U[9]?"":"User does not have access to label all."),C&80&&(ee.labelsQuery={searches:U[4],filters:U[6]}),r.$set(ee);let J=c;c=X(U),c===J?x[c].p(U,C):(te(),k(x[J],1,1,()=>{x[J]=null}),le(),d=x[c],d?d.p(U,C):(d=x[c]=j[c](U),d.c()),b(d,1),d.m(a,null)),U[0]&&U[1]?W?W.p(U,C):(W=Kl(U),W.c(),W.m($,null)):W&&(W.d(1),W=null),U[5].groupBy&&U[10].data?O?(O.p(U,C),C&1056&&b(O,1)):(O=Jl(U),O.c(),b(O,1),O.m(M.parentNode,M)):O&&(te(),k(O,1,1,()=>{O=null}),le()),U[2]?K?(K.p(U,C),C&4&&b(K,1)):(K=Xl(U),K.c(),b(K,1),K.m(T.parentNode,T)):K&&(te(),k(K,1,1,()=>{K=null}),le())},i(U){z||(b(n.$$.fragment,U),b(r.$$.fragment,U),b(u.$$.fragment,U),b(d),b(g.$$.fragment,U),b(w.$$.fragment,U),b(O),b(K),z=!0)},o(U){k(n.$$.fragment,U),k(r.$$.fragment,U),k(u.$$.fragment,U),k(d),k(g.$$.fragment,U),k(w.$$.fragment,U),k(O),k(K),z=!1},d(U){U&&h(e),B(n),B(r),B(u),x[c].d(),B(g),B(w),W&&W.d(),U&&h(D),O&&O.d(U),U&&h(M),K&&K.d(U),U&&h(T)}}}function Ya(i,e,l){let t,n,o,r,s,a,f,u,_=L,c=()=>(_(),_=Ne(n,W=>l(10,u=W)),n),d,m=L,g=()=>(m(),m=Ne(o,W=>l(11,d=W)),o);i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>m());let{totalNumRows:E}=e,{manifest:w}=e,p=Ye();ze(i,p,W=>l(5,a=W));const $=Vt();ze(i,$,W=>l(17,f=W));let D=null;const M=["keyword","semantic","concept"],T={keyword:"Keyword",semantic:"Semantic",concept:"Concepts",metadata:"Metadata"};let z={};function j(W){W.type==="concept"&&l(2,D={namespace:W.concept_namespace,name:W.concept_name})}const x=W=>j(W),X=()=>l(2,D=null);return i.$$set=W=>{"totalNumRows"in W&&l(0,E=W.totalNumRows),"manifest"in W&&l(1,w=W.manifest)},i.$$.update=()=>{var W;if(i.$$.dirty&131072&&l(9,t=((W=f.data)==null?void 0:W.access.dataset.label_all)||!1),i.$$.dirty&32&&c(l(8,n=rt(a.namespace,a.datasetName))),i.$$.dirty&4&&g(l(7,o=D?si(D.namespace,D.name):void 0)),i.$$.dirty&32&&l(4,r=Ot(a)),i.$$.dirty&32&&l(6,s=a.query.filters),i.$$.dirty&24){l(3,z={});for(const O of r)O.type&&(O.type in z||l(3,z[O.type]=[],z),z[O.type].push(O))}},[E,w,D,z,r,a,s,o,n,t,u,d,p,$,M,T,j,f,x,X]}class Qa extends be{constructor(e){super(),ve(this,e,Ya,Ua,pe,{totalNumRows:0,manifest:1})}}function xl(i,e,l){const t=i.slice();return t[21]=e[l],t}function Ga(i){let e,l;return{c(){e=N("div"),l=R("No results."),this.h()},l(t){e=V(t,"DIV",{class:!0});var n=y(e);l=H(n,"No results."),n.forEach(h),this.h()},h(){I(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){S(t,e,n),v(e,l)},p:L,i:L,o:L,d(t){t&&h(e)}}}function Wa(i){let e,l;return e=new Qe({props:{paragraph:!0,lines:3}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Za(i){var t,n;let e,l;return e=new oi({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[1].error.body)==null?void 0:t.detail)||((n=i[1])==null?void 0:n.error.message)}}),{c(){A(e.$$.fragment)},l(o){F(e.$$.fragment,o)},m(o,r){P(e,o,r),l=!0},p(o,r){var a,f;const s={};r&2&&(s.subtitle=((a=o[1].error.body)==null?void 0:a.detail)||((f=o[1])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(b(e.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function Ka(i){var t;let e,l;return e=new oi({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||i[2].error.message}}),{c(){A(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){P(e,n,o),l=!0},p(n,o){var s;const r={};o&4&&(r.subtitle=((s=n[2].error.body)==null?void 0:s.detail)||n[2].error.message),e.$set(r)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function en(i){let e,l,t,n=i[4],o=[];for(let a=0;a<n.length;a+=1)o[a]=tn(xl(i,n,a));const r=a=>k(o[a],1,1,()=>{o[a]=null});let s=i[4].length>0&&ln(i);return{c(){e=N("div");for(let a=0;a<o.length;a+=1)o[a].c();l=Y(),s&&s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Q(f),s&&s.l(f),f.forEach(h),this.h()},h(){I(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(a,f){S(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),s&&s.m(e,null),i[19](e),t=!0},p(a,f){if(f&152){n=a[4];let u;for(u=0;u<n.length;u+=1){const _=xl(a,n,u);o[u]?(o[u].p(_,f),b(o[u],1)):(o[u]=tn(_),o[u].c(),b(o[u],1),o[u].m(e,l))}for(te(),u=n.length;u<o.length;u+=1)r(u);le()}a[4].length>0?s?(s.p(a,f),f&16&&b(s,1)):(s=ln(a),s.c(),b(s,1),s.m(e,null)):s&&(te(),k(s,1,1,()=>{s=null}),le())},i(a){if(!t){for(let f=0;f<n.length;f+=1)b(o[f]);b(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);k(s),t=!1},d(a){a&&h(e),Ke(o,a),s&&s.d(),i[19](null)}}}function tn(i){let e,l;return e=new Vs({props:{rowId:i[21],mediaFields:i[3],highlightedFields:i[7]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.rowId=t[21]),n&8&&(o.mediaFields=t[3]),n&128&&(o.highlightedFields=t[7]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ln(i){let e,l;return e=new Yr({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ja(i){let e,l,t,n,o,r,s;e=new Qa({props:{totalNumRows:i[5],manifest:i[12].data}});const a=[Ka,Za,Wa,Ga],f=[];function u(c,d){var m,g,E;return c[2].isError?0:(m=c[1])!=null&&m.isError?1:(g=c[2])!=null&&g.isFetching?2:(E=c[2])!=null&&E.isSuccess&&c[4]&&c[4].length===0?3:-1}~(t=u(i))&&(n=f[t]=a[t](i));let _=i[4]&&i[13].isSuccess&&i[3]!=null&&en(i);return{c(){A(e.$$.fragment),l=Y(),n&&n.c(),o=Y(),_&&_.c(),r=fe()},l(c){F(e.$$.fragment,c),l=Q(c),n&&n.l(c),o=Q(c),_&&_.l(c),r=fe()},m(c,d){P(e,c,d),S(c,l,d),~t&&f[t].m(c,d),S(c,o,d),_&&_.m(c,d),S(c,r,d),s=!0},p(c,[d]){const m={};d&32&&(m.totalNumRows=c[5]),d&4096&&(m.manifest=c[12].data),e.$set(m);let g=t;t=u(c),t===g?~t&&f[t].p(c,d):(n&&(te(),k(f[g],1,1,()=>{f[g]=null}),le()),~t?(n=f[t],n?n.p(c,d):(n=f[t]=a[t](c),n.c()),b(n,1),n.m(o.parentNode,o)):n=null),c[4]&&c[13].isSuccess&&c[3]!=null?_?(_.p(c,d),d&8216&&b(_,1)):(_=en(c),_.c(),b(_,1),_.m(r.parentNode,r)):_&&(te(),k(_,1,1,()=>{_=null}),le())},i(c){s||(b(e.$$.fragment,c),b(n),b(_),s=!0)},o(c){k(e.$$.fragment,c),k(n),k(_),s=!1},d(c){B(e,c),c&&h(l),~t&&f[t].d(c),c&&h(o),_&&_.d(c),c&&h(r)}}}function Xa(i,e,l){let t,n,o,r,s,a,f,u,_,c,d,m=L,g=()=>(m(),m=Ne(r,J=>l(16,d=J)),r),E,w=L,p=()=>(w(),w=Ne(s,J=>l(1,E=J)),s),$,D=L,M=()=>(D(),D=Ne(f,J=>l(2,$=J)),f),T,z,j=L,x=()=>(j(),j=Ne(t,J=>l(12,z=J)),t),X,W=L,O=()=>(W(),W=Ne(n,J=>l(13,X=J)),n);i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>j()),i.$$.on_destroy.push(()=>W());const K=Ye();ze(i,K,J=>l(17,T=J));let U=null;const C=ys(U),G=()=>$==null?void 0:$.fetchNextPage();function ee(J){qe[J?"unshift":"push"](()=>{U=J,l(0,U)})}return i.$$.update=()=>{var J,ge,Ee;i.$$.dirty&131072&&x(l(11,t=Gi(T.namespace,T.datasetName))),i.$$.dirty&131072&&O(l(10,n=rt(T.namespace,T.datasetName))),i.$$.dirty&131072&&l(15,o=Wi(T,!0)),i.$$.dirty&131072&&g(l(9,r=qt(T.namespace,T.datasetName))),i.$$.dirty&131072&&p(l(8,s=at(T.namespace,T.datasetName,ot(T)))),i.$$.dirty&131074&&l(7,a=Zi(T.query,E==null?void 0:E.data)),i.$$.dirty&163842&&M(l(6,f=Ki(T.namespace,T.datasetName,{...o,columns:[At]},E!=null&&E.isSuccess?E.data.schema:void 0))),i.$$.dirty&4&&l(5,u=(J=$.data)==null?void 0:J.pages[0].total_num_rows),i.$$.dirty&4&&l(4,_=(ge=$.data)==null?void 0:ge.pages.flatMap(ae=>ae.rows).map(ae=>Pt.value(_t(ae,[At]),"string"))),i.$$.dirty&65538&&l(3,c=d.data?Ji((Ee=E==null?void 0:E.data)==null?void 0:Ee.schema,d.data):[]),i.$$.dirty&1&&C.set(U)},Hi(Xi,C),[U,E,$,c,_,u,f,a,s,r,n,t,z,X,K,o,d,T,G,ee]}class xa extends be{constructor(e){super(),ve(this,e,Xa,Ja,pe,{})}}function nn(i){const e=i[3].find(function(...r){return i[43](i[53],...r)});i[54]=e;const l=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="field"&&i[54].id.isSignal;i[55]=l;const t=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="concept";i[56]=t;const n=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="label";i[57]=n}function sn(i){const e=i[5].find(function(...t){return i[42](i[54],...t)});i[58]=e}function rn(i){let e,l=i[58].text+"",t,n,o,r,s=i[58].embeddings.length>0&&an(i);return{c(){e=N("div"),t=R(l),n=Y(),s&&s.c(),o=fe(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);t=H(f,l),f.forEach(h),n=Q(a),s&&s.l(a),o=fe(),this.h()},h(){I(e,"class","w-full flex-grow truncate")},m(a,f){S(a,e,f),v(e,t),S(a,n,f),s&&s.m(a,f),S(a,o,f),r=!0},p(a,f){(!r||f[0]&32|f[1]&8388608)&&l!==(l=a[58].text+"")&&se(t,l),a[58].embeddings.length>0?s?(s.p(a,f),f[0]&32|f[1]&8388608&&b(s,1)):(s=an(a),s.c(),b(s,1),s.m(o.parentNode,o)):s&&(te(),k(s,1,1,()=>{s=null}),le())},i(a){r||(b(s),r=!0)},o(a){k(s),r=!1},d(a){a&&h(e),a&&h(n),s&&s.d(a),a&&h(o)}}}function an(i){let e,l,t,n,o,r;return l=new Xe({props:{$$slots:{default:[eo]},$$scope:{ctx:i}}}),{c(){e=N("div"),A(l.$$.fragment)},l(s){e=V(s,"DIV",{});var a=y(e);F(l.$$.fragment,a),a.forEach(h)},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:`Computed embeddings: ${i[58].embeddings.join(", ")}`})),o=!0)},p(s,a){i=s;const f={};a[1]&268435456&&(f.$$scope={dirty:a,ctx:i}),l.$set(f),t&&Oe(t.update)&&a[0]&32|a[1]&8388608&&t.update.call(null,{text:`Computed embeddings: ${i[58].embeddings.join(", ")}`})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function eo(i){let e,l;return e=new rs({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function to(i){sn(i);let e,l,t=i[58]&&rn(i);return{c(){e=N("div"),t&&t.c(),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);t&&t.l(o),o.forEach(h),this.h()},h(){I(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,o){S(n,e,o),t&&t.m(e,null),l=!0},p(n,o){sn(n),n[58]?t?(t.p(n,o),o[0]&32|o[1]&8388608&&b(t,1)):(t=rn(n),t.c(),b(t,1),t.m(e,null)):t&&(te(),k(t,1,1,()=>{t=null}),le())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){n&&h(e),t&&t.d()}}}function lo(i){let e,l,t=i[54].text+"",n,o,r=i[54].description&&on(i);return{c(){e=N("div"),l=N("div"),n=R(t),o=Y(),r&&r.c(),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);l=V(a,"DIV",{});var f=y(l);n=H(f,t),f.forEach(h),o=Q(a),r&&r.l(a),a.forEach(h),this.h()},h(){I(e,"class","flex justify-between gap-x-8"),ie(e,"isSignal",i[55]),ie(e,"isConcept",i[56]),ie(e,"isLabel",i[57])},m(s,a){S(s,e,a),v(e,l),v(l,n),v(e,o),r&&r.m(e,null)},p(s,a){a[0]&8|a[1]&4194304&&t!==(t=s[54].text+"")&&se(n,t),s[54].description?r?r.p(s,a):(r=on(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),a[0]&8|a[1]&4194304&&ie(e,"isSignal",s[55]),a[0]&8|a[1]&4194304&&ie(e,"isConcept",s[56]),a[0]&8|a[1]&4194304&&ie(e,"isLabel",s[57])},i:L,o:L,d(s){s&&h(e),r&&r.d()}}}function no(i){let e,l,t,n,o,r;return l=new Xe({props:{$$slots:{default:[oo]},$$scope:{ctx:i}}}),{c(){e=N("div"),A(l.$$.fragment),t=Y(),n=N("div"),o=R("Compute embeddings to enable concept search."),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),t=Q(a),n=V(a,"DIV",{class:!0});var f=y(n);o=H(f,"Compute embeddings to enable concept search."),f.forEach(h),a.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-concept flex items-center")},m(s,a){S(s,e,a),P(l,e,null),v(e,t),v(e,n),v(n,o),r=!0},p(s,a){const f={};a[1]&268435456&&(f.$$scope={dirty:a,ctx:s}),l.$set(f)},i(s){r||(b(l.$$.fragment,s),r=!0)},o(s){k(l.$$.fragment,s),r=!1},d(s){s&&h(e),B(l)}}}function io(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[fo]},$$scope:{ctx:i}}}),{c(){e=N("div"),A(l.$$.fragment),t=Y(),n=N("div"),o=R(`Semantic search:
              `),r=R(i[1]),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);F(l.$$.fragment,f),t=Q(f),n=V(f,"DIV",{class:!0});var u=y(n);o=H(u,`Semantic search:
              `),r=H(u,i[1]),u.forEach(h),f.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){S(a,e,f),P(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const u={};f[1]&268435456&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&se(r,a[1])},i(a){s||(b(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&h(e),B(l)}}}function so(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[uo]},$$scope:{ctx:i}}}),{c(){e=N("div"),A(l.$$.fragment),t=Y(),n=N("div"),o=R(`Keyword search:
              `),r=R(i[1]),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);F(l.$$.fragment,f),t=Q(f),n=V(f,"DIV",{class:!0});var u=y(n);o=H(u,`Keyword search:
              `),r=H(u,i[1]),u.forEach(h),f.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){S(a,e,f),P(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const u={};f[1]&268435456&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&se(r,a[1])},i(a){s||(b(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&h(e),B(l)}}}function ro(i){let e,l,t,n,o,r=i[1]!=""?":":"",s,a,f,u;return l=new Xe({props:{$$slots:{default:[co]},$$scope:{ctx:i}}}),{c(){e=N("div"),A(l.$$.fragment),t=Y(),n=N("div"),o=R("New concept"),s=R(r),a=Y(),f=R(i[1]),this.h()},l(_){e=V(_,"DIV",{class:!0});var c=y(e);F(l.$$.fragment,c),t=Q(c),n=V(c,"DIV",{class:!0});var d=y(n);o=H(d,"New concept"),s=H(d,r),a=Q(d),f=H(d,i[1]),d.forEach(h),c.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-concept flex flex-row items-center justify-items-center")},m(_,c){S(_,e,c),P(l,e,null),v(e,t),v(e,n),v(n,o),v(n,s),v(n,a),v(n,f),u=!0},p(_,c){const d={};c[1]&268435456&&(d.$$scope={dirty:c,ctx:_}),l.$set(d),(!u||c[0]&2)&&r!==(r=_[1]!=""?":":"")&&se(s,r),(!u||c[0]&2)&&se(f,_[1])},i(_){u||(b(l.$$.fragment,_),u=!0)},o(_){k(l.$$.fragment,_),u=!1},d(_){_&&h(e),B(l)}}}function ao(i){let e;return{c(){e=N("div")},l(l){e=V(l,"DIV",{}),y(e).forEach(h)},m(l,t){S(l,e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function on(i){let e,l=i[54].description+"",t;return{c(){e=N("div"),t=R(l),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);t=H(o,l),o.forEach(h),this.h()},h(){I(e,"class","truncate text-xs text-gray-500")},m(n,o){S(n,e,o),v(e,t)},p(n,o){o[0]&8|o[1]&4194304&&l!==(l=n[54].description+"")&&se(t,l)},d(n){n&&h(e)}}}function oo(i){let e,l;return e=new bi({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function fo(i){let e,l;return e=new Ei({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function uo(i){let e,l;return e=new Ei({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function co(i){let e,l;return e=new ir({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function mo(i){nn(i);let e,l,t,n;const o=[ao,ro,so,io,no,lo],r=[];function s(a,f){return a[54]==null?0:a[54].id==="new-concept"?1:a[54].id==="keyword-search"?2:a[54].id==="semantic-search"?3:a[54].id==="compute-embedding"&&a[2]&&a[0]?4:5}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=fe()},l(a){l.l(a),t=fe()},m(a,f){r[e].m(a,f),S(a,t,f),n=!0},p(a,f){nn(a);let u=e;e=s(a),e===u?r[e].p(a,f):(te(),k(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function ho(i){var w;let e,l,t,n,o,r,s,a,f,u,_,c,d,m;n=new Rs({props:{class:"ml-2 mr-px",size:16}}),s=new ki({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?Ge(i[0]):(w=i[5][0])==null?void 0:w.id,items:i[5],$$slots:{default:[to,({item:p})=>({54:p}),({item:p})=>[0,p?8388608:0]]},$$scope:{ctx:i}}}),s.$on("select",i[17]);function g(p){i[45](p)}let E={size:"xl",class:"w-full",items:i[3],shouldFilterItem:_o,placeholder:i[6],$$slots:{default:[mo,({item:p})=>({53:p}),({item:p})=>[0,p?4194304:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(E.value=i[1]),u=new Ps({props:E}),i[44](u),qe.push(()=>We(u,"value",g)),u.$on("select",i[16]),{c(){e=N("div"),l=N("div"),t=N("div"),A(n.$$.fragment),o=Y(),r=N("div"),A(s.$$.fragment),a=Y(),f=N("div"),A(u.$$.fragment),this.h()},l(p){e=V(p,"DIV",{class:!0});var $=y(e);l=V($,"DIV",{class:!0});var D=y(l);t=V(D,"DIV",{class:!0});var M=y(t);F(n.$$.fragment,M),M.forEach(h),o=Q(D),r=V(D,"DIV",{class:!0});var T=y(r);F(s.$$.fragment,T),T.forEach(h),a=Q(D),f=V(D,"DIV",{class:!0});var z=y(f);F(u.$$.fragment,z),z.forEach(h),D.forEach(h),$.forEach(h),this.h()},h(){I(t,"class","search-icon flex items-center svelte-18z5kej"),I(r,"class","embedding-dropdown rounded border-r border-gray-200"),I(f,"class","search-container w-full flex-grow"),I(l,"class","flex w-full rounded border border-gray-200"),I(e,"class","flex h-full w-full flex-grow items-center")},m(p,$){S(p,e,$),v(e,l),v(l,t),P(n,t,null),v(l,o),v(l,r),P(s,r,null),v(l,a),v(l,f),P(u,f,null),c=!0,d||(m=Ve(Te.call(null,t,{text:"Select the field to search over."})),d=!0)},p(p,$){var T;const D={};$[0]&1&&(D.disabled=p[0]==null),$[0]&33&&(D.selectedId=p[0]?Ge(p[0]):(T=p[5][0])==null?void 0:T.id),$[0]&32&&(D.items=p[5]),$[0]&32|$[1]&276824064&&(D.$$scope={dirty:$,ctx:p}),s.$set(D);const M={};$[0]&8&&(M.items=p[3]),$[0]&64&&(M.placeholder=p[6]),$[0]&15|$[1]&272629760&&(M.$$scope={dirty:$,ctx:p}),!_&&$[0]&2&&(_=!0,M.value=p[1],Ze(()=>_=!1)),u.$set(M)},i(p){c||(b(n.$$.fragment,p),b(s.$$.fragment,p),b(u.$$.fragment,p),c=!0)},o(p){k(n.$$.fragment,p),k(s.$$.fragment,p),k(u.$$.fragment,p),c=!1},d(p){p&&h(e),B(n),B(s),i[44](null),B(u),d=!1,m()}}}const _o=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function go(i,e,l){let t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D,M,T,z=L,j=()=>(z(),z=Ne(a,ue=>l(34,T=ue)),a),x,X,W,O,K,U,C=L,G=()=>(C(),C=Ne(t,ue=>l(39,U=ue)),t),ee,J,ge=L,Ee=()=>(ge(),ge=Ne(s,ue=>l(41,J=ue)),s);i.$$.on_destroy.push(()=>z()),i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>ge());const ae=Ye();ze(i,ae,ue=>l(40,ee=ue));const we=Fs();ze(i,we,ue=>l(38,K=ue));let _e;function he(ue,Ce){let Ue=Ce.filter(Be=>Be.data!=null).map(Be=>Be.data).map(Be=>({path:Be.path,embeddings:gt(ue,Be.path),avgTextLength:Be.avg_text_length}));if(Ue=Ue.sort((Be,je)=>Be.embeddings.length>0&&je.embeddings.length===0?-1:Be.embeddings.length===0&&je.embeddings.length>0?1:Be.avgTextLength!=null&&je.avgTextLength!=null?je.avgTextLength-Be.avgTextLength:je.embeddings.length-Be.embeddings.length),Ue.length!==0)return Ue[0].path}function Se(ue,Ce,Ue){if(Ce==null||ue==null)return[];const Be=Ce?nt(Ce):[],je=[];for(const $e of Be){if($e.dtype==null||$e.dtype==="embedding"||$e.dtype==="binary"||!ui($e.path,ue))continue;const Le=ss($e);if((Le==null?void 0:Le.signal_name)==="concept_score"||(Ue==null?void 0:Ue.some(Bi=>Bi.name===(Le==null?void 0:Le.signal_name))))continue;const xt=wt($e.path),el=Je($e.path.slice(ue.length));if(Nt($e.dtype)){je.push({id:{type:"field",path:$e.path,sort:"DESC",isSignal:Le!=null},text:el,description:`Sort descending by ${xt}`});continue}if($e.dtype==="string"||$e.dtype==="string_span"){if(Le==null)continue;je.push({id:{type:"field",path:$e.path,op:"exists",isSignal:Le!=null},text:el,description:`Find documents with ${xt}`});continue}}return je}const Z=fi();ze(i,Z,ue=>l(46,x=ue));const q=xi();ze(i,q,ue=>l(37,O=ue));const re=(ue,Ce)=>`${Ge(ue||"")}_${Ce}`;let ne={};const Ae=es();ze(i,Ae,ue=>l(36,W=ue));const oe=Vt();ze(i,oe,ue=>l(35,X=ue));let Fe=[],Me="",He;function Tt(){_!=null&&(l(18,ne[re(_e,_)]=!0,ne),x.mutate([n,o,{leaf_path:Ht(_e||[]),signal:{signal_name:_}}]))}let ft;const Jt=(ue,Ce)=>{_e==null||_==null||(ae.addSearch({path:_e,type:"concept",concept_namespace:ue,concept_name:Ce,embedding:_}),ft.clear())},Vi=ue=>{ae.addFilter({path:[ue,"label"],op:"equals",value:"true"})},Ti=ue=>{if(_e!=null){if(ue.detail.selectedId==="new-concept"){Me===He.id&&l(1,Me="");const Ce=Me.split("/",2);let Ue="",Be="";Ce.length===2?[Ue,Be]=Ce:[Be]=Ce,et({command:tt.CreateConcept,namespace:Ue,conceptName:Be,dataset:{namespace:n,name:o},path:_e,onCreate:je=>Jt(je.detail.namespace,je.detail.name)})}else if(ue.detail.selectedId==="keyword-search"){if(Me=="")return;ae.addSearch({path:_e,type:"keyword",query:Me})}else if(ue.detail.selectedId=="semantic-search"){if(Me==""||_==null)return;ae.addSearch({path:_e,type:"semantic",query:Me,embedding:_})}else if(ue.detail.selectedId=="compute-embedding")Tt();else if(ue.detail.selectedId.type==="concept")Jt(ue.detail.selectedId.namespace,ue.detail.selectedId.name);else if(ue.detail.selectedId.type==="label")Vi(ue.detail.selectedId.name);else if(ue.detail.selectedId.type==="field"){const Ce=ue.detail.selectedId;if(Ce.sort!=null)ae.setSortBy(Ce.path),ae.setSortOrder(Ce.sort);else if(Ce.op!=null)ae.addFilter({path:Ce.path,op:Ce.op});else throw new Error(`Unknown search type ${ue.detail.selectedId}`)}else throw new Error(`Unknown search type ${ue.detail.selectedId}`);ft.clear()}},Mi=ue=>{l(0,_e=ue.detail.selectedItem.path)};let Xt=[];const zi=(ue,Ce)=>Ce===ue,Ci=(ue,Ce)=>Ce.id===ue.id;function Ai(ue){qe[ue?"unshift":"push"](()=>{ft=ue,l(4,ft)})}function Pi(ue){Me=ue,l(1,Me)}return i.$$.update=()=>{var ue,Ce,Ue,Be,je;i.$$.dirty[1]&512&&G(l(9,t=qt(ee.namespace,ee.datasetName))),i.$$.dirty[1]&512&&l(22,n=ee.namespace),i.$$.dirty[1]&512&&l(21,o=ee.datasetName),i.$$.dirty[1]&256&&l(20,r=(Ue=(Ce=(ue=U.data)==null?void 0:ue.ui)==null?void 0:Ce.media_paths)==null?void 0:Ue.map($e=>Array.isArray($e)?$e:[$e])),i.$$.dirty[0]&7340032&&Ee(l(8,s=li(n,o,r,r!=null))),i.$$.dirty[0]&6291456&&j(l(7,a=rt(n,o))),i.$$.dirty[0]&1|i.$$.dirty[1]&1032&&_e==null&&T.data!=null&&l(0,_e=he(T.data,J)),i.$$.dirty[0]&1|i.$$.dirty[1]&512&&l(23,f=Ot(ee,_e)),i.$$.dirty[0]&1|i.$$.dirty[1]&72&&l(25,u=T.data!=null?Se(_e,T.data,O.data):[]),i.$$.dirty[0]&1|i.$$.dirty[1]&456&&l(2,_=ts(U.data,K,T.data,_e,(O.data||[]).map($e=>$e.name))),i.$$.dirty[0]&1|i.$$.dirty[1]&8&&l(33,c=T.data!=null?gt(T.data,_e):[]),i.$$.dirty[0]&4|i.$$.dirty[1]&4&&l(28,d=c!=null&&!!c.includes(_||"")),i.$$.dirty[0]&268697605&&l(31,m=!d&&ne[re(_e,_)]),i.$$.dirty[0]&268435456&&l(6,g=d?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&16&&l(32,E=(je=(Be=X.data)==null?void 0:Be.user)==null?void 0:je.id),i.$$.dirty[0]&268435456|i.$$.dirty[1]&34&&l(24,w=d?ls(W.data||[],E):[]),i.$$.dirty[0]&2&&l(19,He={id:"new-concept",text:Me}),i.$$.dirty[0]&2&&l(30,p={id:"keyword-search",text:Me}),i.$$.dirty[0]&2&&l(29,$={id:"semantic-search",text:Me}),i.$$.dirty[1]&1&&l(27,D={id:"compute-embedding",text:"Compute embedding",disabled:m}),i.$$.dirty[1]&8&&l(26,M=T.data!=null?ns(T.data):[]),i.$$.dirty[0]&2139619334|i.$$.dirty[1]&48&&l(3,Fe=W!=null&&W.data?[...Me!=""?[p]:[],...Me!=""&&_&&d?[$]:[],...d?[He]:[D],...M.map($e=>({id:{type:"label",name:$e},text:$e,description:`Find documents labeled "${$e}"`})),...u,...w.flatMap($e=>$e.concepts.map(Le=>({id:{namespace:Le.namespace,name:Le.name,type:"concept"},text:is(Le.namespace,Le.name,X.data),description:Le.metadata.description||void 0,disabled:f.some(ht=>ht.type==="concept"&&ht.concept_namespace===Le.namespace&&ht.concept_name===Le.name)})))]:[]),i.$$.dirty[0]&1048576|i.$$.dirty[1]&8&&l(5,Xt=(r||[]).map($e=>({id:Ge($e),text:Je($e),path:$e,embeddings:T.data!=null?gt(T.data,$e):[]})))},[_e,Me,_,Fe,ft,Xt,g,a,s,t,ae,we,Z,q,Ae,oe,Ti,Mi,ne,He,r,o,n,f,w,u,M,D,d,$,p,m,E,c,T,X,W,O,K,U,ee,J,zi,Ci,Ai,Pi]}class po extends be{constructor(e){super(),ve(this,e,go,ho,pe,{},null,[-1,-1])}}function fn(i){let e,l;return e=new Oi({props:{light:!0,flipped:!0,$$slots:{default:[bo]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&767|n[1]&4&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function un(i){let e,l;return e=new it({props:{text:"Sort by"}}),e.$on("click",i[22]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function cn(i){let e,l;return e=new it({props:{text:"Filter"}}),e.$on("click",i[23]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function dn(i){let e,l,t,n,o,r;return l=new it({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[24]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Oe(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function mn(i){let e,l,t,n,o,r;return l=new it({props:{text:"Compute concept",disabled:!i[7]||i[9].length===0}}),l.$on("click",i[25]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:i[7]?i[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})),o=!0)},p(s,a){const f={};a[0]&640&&(f.disabled=!s[7]||s[9].length===0),l.$set(f),t&&Oe(t.update)&&a[0]&640&&t.update.call(null,{text:s[7]?s[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function hn(i){let e,l,t,n,o,r;return l=new it({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[26]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Oe(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function _n(i){let e,l;return e=new it({props:{text:"Preview signal"}}),e.$on("click",i[27]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function gn(i){let e,l,t,n,o,r;return l=new it({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[28]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);F(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){S(s,e,a),P(l,e,null),n=!0,o||(r=Ve(t=Te.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a[0]&64&&(f.disabled=!s[6]),l.$set(f),t&&Oe(t.update)&&a[0]&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(b(l.$$.fragment,s),n=!0)},o(s){k(l.$$.fragment,s),n=!1},d(s){s&&h(e),B(l),o=!1,r()}}}function bo(i){let e=kt(i[0]),l,t=Bt(i[0]),n,o,r,s,a,f,u,_=e&&un(i),c=t&&cn(i),d=!i[4]&&dn(i),m=!i[4]&&mn(i),g=!i[4]&&hn(i),E=!i[4]&&_n(i),w=i[3]&&gn(i);return{c(){_&&_.c(),l=Y(),c&&c.c(),n=Y(),d&&d.c(),o=Y(),m&&m.c(),r=Y(),g&&g.c(),s=Y(),E&&E.c(),a=Y(),w&&w.c(),f=fe()},l(p){_&&_.l(p),l=Q(p),c&&c.l(p),n=Q(p),d&&d.l(p),o=Q(p),m&&m.l(p),r=Q(p),g&&g.l(p),s=Q(p),E&&E.l(p),a=Q(p),w&&w.l(p),f=fe()},m(p,$){_&&_.m(p,$),S(p,l,$),c&&c.m(p,$),S(p,n,$),d&&d.m(p,$),S(p,o,$),m&&m.m(p,$),S(p,r,$),g&&g.m(p,$),S(p,s,$),E&&E.m(p,$),S(p,a,$),w&&w.m(p,$),S(p,f,$),u=!0},p(p,$){$[0]&1&&(e=kt(p[0])),e?_?(_.p(p,$),$[0]&1&&b(_,1)):(_=un(p),_.c(),b(_,1),_.m(l.parentNode,l)):_&&(te(),k(_,1,1,()=>{_=null}),le()),$[0]&1&&(t=Bt(p[0])),t?c?(c.p(p,$),$[0]&1&&b(c,1)):(c=cn(p),c.c(),b(c,1),c.m(n.parentNode,n)):c&&(te(),k(c,1,1,()=>{c=null}),le()),p[4]?d&&(te(),k(d,1,1,()=>{d=null}),le()):d?(d.p(p,$),$[0]&16&&b(d,1)):(d=dn(p),d.c(),b(d,1),d.m(o.parentNode,o)),p[4]?m&&(te(),k(m,1,1,()=>{m=null}),le()):m?(m.p(p,$),$[0]&16&&b(m,1)):(m=mn(p),m.c(),b(m,1),m.m(r.parentNode,r)),p[4]?g&&(te(),k(g,1,1,()=>{g=null}),le()):g?(g.p(p,$),$[0]&16&&b(g,1)):(g=hn(p),g.c(),b(g,1),g.m(s.parentNode,s)),p[4]?E&&(te(),k(E,1,1,()=>{E=null}),le()):E?(E.p(p,$),$[0]&16&&b(E,1)):(E=_n(p),E.c(),b(E,1),E.m(a.parentNode,a)),p[3]?w?(w.p(p,$),$[0]&8&&b(w,1)):(w=gn(p),w.c(),b(w,1),w.m(f.parentNode,f)):w&&(te(),k(w,1,1,()=>{w=null}),le())},i(p){u||(b(_),b(c),b(d),b(m),b(g),b(E),b(w),u=!0)},o(p){k(_),k(c),k(d),k(m),k(g),k(E),k(w),u=!1},d(p){_&&_.d(p),p&&h(l),c&&c.d(p),p&&h(n),d&&d.d(p),p&&h(o),m&&m.d(p),p&&h(r),g&&g.d(p),p&&h(s),E&&E.d(p),p&&h(a),w&&w.d(p),p&&h(f)}}}function vo(i){let e,l,t,n=Ge(i[0].path)+"",o,r,s,a,f;return{c(){e=N("p"),l=R("Confirm deleting "),t=N("code"),o=R(n),r=R(" ?"),s=Y(),a=N("p"),f=R("This is a permanent action and cannot be undone."),this.h()},l(u){e=V(u,"P",{class:!0});var _=y(e);l=H(_,"Confirm deleting "),t=V(_,"CODE",{});var c=y(t);o=H(c,n),c.forEach(h),r=H(_," ?"),_.forEach(h),s=Q(u),a=V(u,"P",{class:!0});var d=y(a);f=H(d,"This is a permanent action and cannot be undone."),d.forEach(h),this.h()},h(){I(e,"class","!text-lg"),I(a,"class","mt-2")},m(u,_){S(u,e,_),v(e,l),v(e,t),v(t,o),v(e,r),S(u,s,_),S(u,a,_),v(a,f)},p(u,_){_[0]&1&&n!==(n=Ge(u[0].path)+"")&&se(o,n)},d(u){u&&h(e),u&&h(s),u&&h(a)}}}function wo(i){let e,l,t,n,o=i[8]&&fn(i);function r(a){i[29](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[12].isLoading?nl:void 0,secondaryButtonText:"Cancel",$$slots:{default:[vo]},$$scope:{ctx:i}};return i[5]!==void 0&&(s.open=i[5]),l=new Zt({props:s}),qe.push(()=>We(l,"open",r)),l.$on("click:button--secondary",i[30]),l.$on("open",i[31]),l.$on("close",i[32]),l.$on("submit",i[16]),{c(){o&&o.c(),e=Y(),A(l.$$.fragment)},l(a){o&&o.l(a),e=Q(a),F(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),S(a,e,f),P(l,a,f),n=!0},p(a,f){a[8]?o?(o.p(a,f),f[0]&256&&b(o,1)):(o=fn(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(te(),k(o,1,1,()=>{o=null}),le());const u={};f[0]&4096&&(u.primaryButtonIcon=a[12].isLoading?nl:void 0),f[0]&1|f[1]&4&&(u.$$scope={dirty:f,ctx:a}),!t&&f[0]&32&&(t=!0,u.open=a[5],Ze(()=>t=!1)),l.$set(u)},i(a){n||(b(o),b(l.$$.fragment,a),n=!0)},o(a){k(o),k(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&h(e),B(l,a)}}}function ko(i,e,l){let t,n,o,r,s,a,f,u,_,c,d,m,g,E,w=L,p=()=>(w(),w=Ne(r,he=>l(19,E=he)),r),$,D=L,M=()=>(D(),D=Ne(o,he=>l(20,$=he)),o),T;i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>D());let{field:z}=e,j=!1;const x=Ye();ze(i,x,he=>l(21,T=he));const X=as();ze(i,X,he=>l(12,m=he));const W=Vt();ze(i,W,he=>l(18,g=he));function O(){m.mutate([t,n,{signal_path:z.path}],{onSuccess:()=>{l(5,j=!1),x.deleteSignal(z.path)}})}const K=()=>x.addSortBy(z.path),U=()=>et({command:tt.EditFilter,namespace:t,datasetName:n,path:z.path}),C=()=>et({command:tt.ComputeEmbedding,namespace:t,datasetName:n,path:z==null?void 0:z.path}),G=()=>et({command:tt.ComputeConcept,namespace:t,datasetName:n,path:z==null?void 0:z.path}),ee=()=>et({command:tt.ComputeSignal,namespace:t,datasetName:n,path:z==null?void 0:z.path}),J=()=>et({command:tt.PreviewConcept,namespace:t,datasetName:n,path:z==null?void 0:z.path}),ge=()=>l(5,j=!0);function Ee(he){j=he,l(5,j)}const ae=()=>l(5,j=!1);function we(he){lt.call(this,i,he)}function _e(he){lt.call(this,i,he)}return i.$$set=he=>{"field"in he&&l(0,z=he.field)},i.$$.update=()=>{var he,Se;i.$$.dirty[0]&2097152&&l(2,t=T.namespace),i.$$.dirty[0]&2097152&&l(1,n=T.datasetName),i.$$.dirty[0]&6&&M(l(11,o=rt(t,n))),i.$$.dirty[0]&2097158&&p(l(10,r=at(t,n,ot(T)))),i.$$.dirty[0]&1&&l(4,s=ct(z)),i.$$.dirty[0]&1&&l(3,a=jt(z)),i.$$.dirty[0]&1048577&&l(9,f=gt($.data,z.path)),i.$$.dirty[0]&524289&&l(17,u=ci((E==null?void 0:E.data)||null,z.path)),i.$$.dirty[0]&131097&&l(8,_=(kt(z)||Bt(z)||!s||a)&&!u),i.$$.dirty[0]&262144&&l(7,c=(he=g.data)==null?void 0:he.access.dataset.compute_signals),i.$$.dirty[0]&262144&&l(6,d=(Se=g.data)==null?void 0:Se.access.dataset.delete_signals)},[z,n,t,a,s,j,d,c,_,f,r,o,m,x,X,W,O,u,g,E,$,T,K,U,C,G,ee,J,ge,Ee,ae,we,_e]}class Eo extends be{constructor(e){super(),ve(this,e,ko,wo,pe,{field:0},null,[-1,-1])}}function yo(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return l=new Xe({props:s}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);F(l.$$.fragment,f),f.forEach(h),this.h()},h(){I(e,"class","signal-badge")},m(a,f){S(a,e,f),P(l,e,null),t=!0,n||(o=Ve(Te.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const u=f&13?Re(r,[f&8&&ei(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(u)},i(a){t||(b(l.$$.fragment,a),t=!0)},o(a){k(l.$$.fragment,a),t=!1},d(a){a&&h(e),B(l),n=!1,o()}}}function So(i,e,l){const t=["isPreview"];let n=ke(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?Is:gr;return i.$$set=a=>{e=ce(ce({},e),ye(a)),l(3,n=ke(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class Io extends be{constructor(e){super(),ve(this,e,So,yo,pe,{isPreview:0})}}function pn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=Ie(t[8]);return t[11]=r,t}function bn(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,_,c,d,m;function g(){return i[6](i[7])}return{c(){e=N("button"),l=N("div"),n=R(t),r=Y(),s=N("div"),a=N("div"),u=R(f),c=Y(),this.h()},l(E){e=V(E,"BUTTON",{class:!0});var w=y(e);l=V(w,"DIV",{title:!0,class:!0});var p=y(l);n=H(p,t),p.forEach(h),r=Q(w),s=V(w,"DIV",{class:!0});var $=y(s);a=V($,"DIV",{title:!0,class:!0});var D=y(a);u=H(D,f),D.forEach(h),$.forEach(h),c=Q(w),w.forEach(h),this.h()},h(){I(l,"title",o=i[9]),I(l,"class","w-48 flex-none truncate px-2"),I(a,"title",_=i[11]),I(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),ut(a,"width",i[10]),I(s,"class","w-36 border-l border-gray-300 pl-2"),I(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(E,w){S(E,e,w),v(e,l),v(l,n),v(e,r),v(e,s),v(s,a),v(a,u),v(e,c),d||(m=Pe(e,"click",g),d=!0)},p(E,w){i=E,w&1&&t!==(t=i[9]+"")&&se(n,t),w&1&&o!==(o=i[9])&&I(l,"title",o),w&1&&f!==(f=i[11]+"")&&se(u,f),w&1&&_!==(_=i[11])&&I(a,"title",_),w&3&&ut(a,"width",i[10])},d(E){E&&h(e),d=!1,m()}}}function Do(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=bn(pn(i,l,n));return{c(){e=N("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){I(e,"class","histogram")},m(n,o){S(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=pn(n,l,r);t[r]?t[r].p(s,o):(t[r]=bn(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:L,o:L,d(n){n&&h(e),Ke(t,n)}}}function $o(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return Ie(u);if(r==null||n.bins!=null)return Ie(u);const[_,c]=r[u.toString()];return _==null?`< ${Ie(c)}`:c==null?`≥ ${Ie(_)}`:`${Ie(_)} .. ${Ie(c)}`}const a=st(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,_])=>_)))},[o,t,s,a,n,r,f]}class No extends be{constructor(e){super(),ve(this,e,$o,Do,pe,{field:4,counts:0,bins:5})}}function Vo(i){let e,l,t,n,o,r,s,a,f,u,_,c=Ie(i[4].total_count)+"",d,m,g,E,w,p,$,D,M,T,z,j,x=Ie(i[4].approx_count_distinct)+"",X,W,O,K,U,C;r=new dt({props:{class:"inline"}}),p=new dt({props:{class:"inline"}});let G=i[4].avg_text_length&&vn(i),ee=i[4].min_val&&i[4].max_val&&wn(i);return{c(){e=N("table"),l=N("tbody"),t=N("tr"),n=N("td"),o=N("span"),A(r.$$.fragment),s=Y(),a=N("span"),f=R("Total count"),u=Y(),_=N("td"),d=R(c),m=Y(),g=N("tr"),E=N("td"),w=N("span"),A(p.$$.fragment),$=Y(),D=N("span"),M=R("Unique values"),T=Y(),z=N("td"),j=R("~"),X=R(x),W=Y(),G&&G.c(),O=Y(),ee&&ee.c(),this.h()},l(J){e=V(J,"TABLE",{class:!0});var ge=y(e);l=V(ge,"TBODY",{});var Ee=y(l);t=V(Ee,"TR",{});var ae=y(t);n=V(ae,"TD",{class:!0});var we=y(n);o=V(we,"SPAN",{});var _e=y(o);F(r.$$.fragment,_e),_e.forEach(h),s=Q(we),a=V(we,"SPAN",{});var he=y(a);f=H(he,"Total count"),he.forEach(h),we.forEach(h),u=Q(ae),_=V(ae,"TD",{class:!0});var Se=y(_);d=H(Se,c),Se.forEach(h),ae.forEach(h),m=Q(Ee),g=V(Ee,"TR",{});var Z=y(g);E=V(Z,"TD",{class:!0});var q=y(E);w=V(q,"SPAN",{});var re=y(w);F(p.$$.fragment,re),re.forEach(h),$=Q(q),D=V(q,"SPAN",{});var ne=y(D);M=H(ne,"Unique values"),ne.forEach(h),q.forEach(h),T=Q(Z),z=V(Z,"TD",{class:!0});var Ae=y(z);j=H(Ae,"~"),X=H(Ae,x),Ae.forEach(h),Z.forEach(h),W=Q(Ee),G&&G.l(Ee),O=Q(Ee),ee&&ee.l(Ee),Ee.forEach(h),ge.forEach(h),this.h()},h(){I(n,"class","svelte-1tctrjz"),I(_,"class","svelte-1tctrjz"),I(E,"class","svelte-1tctrjz"),I(z,"class","svelte-1tctrjz"),I(e,"class","stats-table w-full svelte-1tctrjz")},m(J,ge){S(J,e,ge),v(e,l),v(l,t),v(t,n),v(n,o),P(r,o,null),v(n,s),v(n,a),v(a,f),v(t,u),v(t,_),v(_,d),v(l,m),v(l,g),v(g,E),v(E,w),P(p,w,null),v(E,$),v(E,D),v(D,M),v(g,T),v(g,z),v(z,j),v(z,X),v(l,W),G&&G.m(l,null),v(l,O),ee&&ee.m(l,null),K=!0,U||(C=[Ve(Te.call(null,o,{text:"Total number of rows where the value is defined."})),Ve(Te.call(null,w,{text:"An approximation of the total number of unique values."}))],U=!0)},p(J,ge){(!K||ge&16)&&c!==(c=Ie(J[4].total_count)+"")&&se(d,c),(!K||ge&16)&&x!==(x=Ie(J[4].approx_count_distinct)+"")&&se(X,x),J[4].avg_text_length?G?(G.p(J,ge),ge&16&&b(G,1)):(G=vn(J),G.c(),b(G,1),G.m(l,O)):G&&(te(),k(G,1,1,()=>{G=null}),le()),J[4].min_val&&J[4].max_val?ee?(ee.p(J,ge),ge&16&&b(ee,1)):(ee=wn(J),ee.c(),b(ee,1),ee.m(l,null)):ee&&(te(),k(ee,1,1,()=>{ee=null}),le())},i(J){K||(b(r.$$.fragment,J),b(p.$$.fragment,J),b(G),b(ee),K=!0)},o(J){k(r.$$.fragment,J),k(p.$$.fragment,J),k(G),k(ee),K=!1},d(J){J&&h(e),B(r),B(p),G&&G.d(),ee&&ee.d(),U=!1,xe(C)}}}function To(i){let e,l;return e=new Qe({props:{paragraph:!0,width:"50%"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Mo(i){let e,l,t=i[2].error.message+"",n;return{c(){e=N("p"),l=R("Error: "),n=R(t)},l(o){e=V(o,"P",{});var r=y(e);l=H(r,"Error: "),n=H(r,t),r.forEach(h)},m(o,r){S(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&se(n,t)},i:L,o:L,d(o){o&&h(e)}}}function vn(i){let e,l,t,n,o,r,s,a,f,u=Ie(i[4].avg_text_length)+"",_,c,d,m;return n=new dt({props:{class:"inline"}}),{c(){e=N("tr"),l=N("td"),t=N("span"),A(n.$$.fragment),o=Y(),r=N("span"),s=R("Average text length"),a=Y(),f=N("td"),_=R(u),this.h()},l(g){e=V(g,"TR",{});var E=y(e);l=V(E,"TD",{class:!0});var w=y(l);t=V(w,"SPAN",{});var p=y(t);F(n.$$.fragment,p),p.forEach(h),o=Q(w),r=V(w,"SPAN",{});var $=y(r);s=H($,"Average text length"),$.forEach(h),w.forEach(h),a=Q(E),f=V(E,"TD",{class:!0});var D=y(f);_=H(D,u),D.forEach(h),E.forEach(h),this.h()},h(){I(l,"class","svelte-1tctrjz"),I(f,"class","svelte-1tctrjz")},m(g,E){S(g,e,E),v(e,l),v(l,t),P(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,_),c=!0,d||(m=Ve(Te.call(null,t,{text:"The average length of the text in characters."})),d=!0)},p(g,E){(!c||E&16)&&u!==(u=Ie(g[4].avg_text_length)+"")&&se(_,u)},i(g){c||(b(n.$$.fragment,g),c=!0)},o(g){k(n.$$.fragment,g),c=!1},d(g){g&&h(e),B(n),d=!1,m()}}}function wn(i){let e,l,t,n,o,r,s,a,f,u=Ie(i[4].min_val)+"",_,c,d=Ie(i[4].max_val)+"",m,g,E,w;return n=new dt({props:{class:"inline"}}),{c(){e=N("tr"),l=N("td"),t=N("span"),A(n.$$.fragment),o=Y(),r=N("span"),s=R("Range"),a=Y(),f=N("td"),_=R(u),c=R(" .. "),m=R(d),this.h()},l(p){e=V(p,"TR",{});var $=y(e);l=V($,"TD",{class:!0});var D=y(l);t=V(D,"SPAN",{});var M=y(t);F(n.$$.fragment,M),M.forEach(h),o=Q(D),r=V(D,"SPAN",{});var T=y(r);s=H(T,"Range"),T.forEach(h),D.forEach(h),a=Q($),f=V($,"TD",{class:!0});var z=y(f);_=H(z,u),c=H(z," .. "),m=H(z,d),z.forEach(h),$.forEach(h),this.h()},h(){I(l,"class","svelte-1tctrjz"),I(f,"class","svelte-1tctrjz")},m(p,$){S(p,e,$),v(e,l),v(l,t),P(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,_),v(f,c),v(f,m),g=!0,E||(w=Ve(Te.call(null,t,{text:"The minimum and maximum value across the dataset"})),E=!0)},p(p,$){(!g||$&16)&&u!==(u=Ie(p[4].min_val)+"")&&se(_,u),(!g||$&16)&&d!==(d=Ie(p[4].max_val)+"")&&se(m,d)},i(p){g||(b(n.$$.fragment,p),g=!0)},o(p){k(n.$$.fragment,p),g=!1},d(p){p&&h(e),B(n),E=!1,w()}}}function zo(i){let e,l,t;return l=new No({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var o=y(e);F(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","mt-4")},m(n,o){S(n,e,o),P(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),B(l)}}}function Co(i){let e,l;return e=new Qe({props:{paragraph:!0,width:"50%"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ao(i){let e,l,t=i[1].error.message+"",n;return{c(){e=N("p"),l=R("Error: "),n=R(t)},l(o){e=V(o,"P",{});var r=y(e);l=H(r,"Error: "),n=H(r,t),r.forEach(h)},m(o,r){S(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&se(n,t)},i:L,o:L,d(o){o&&h(e)}}}function Po(i){let e,l,t,n,o,r,s;const a=[Mo,To,Vo],f=[];function u(m,g){return m[2].error?0:m[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const _=[Ao,Co,zo],c=[];function d(m,g){return m[1].error?0:m[5]==null?1:m[5].length>0?2:-1}return~(o=d(i))&&(r=c[o]=_[o](i)),{c(){e=N("div"),t.c(),n=Y(),r&&r.c(),this.h()},l(m){e=V(m,"DIV",{class:!0});var g=y(e);t.l(g),n=Q(g),r&&r.l(g),g.forEach(h),this.h()},h(){I(e,"class","p-4")},m(m,g){S(m,e,g),f[l].m(e,null),v(e,n),~o&&c[o].m(e,null),s=!0},p(m,[g]){let E=l;l=u(m),l===E?f[l].p(m,g):(te(),k(f[E],1,1,()=>{f[E]=null}),le(),t=f[l],t?t.p(m,g):(t=f[l]=a[l](m),t.c()),b(t,1),t.m(e,n));let w=o;o=d(m),o===w?~o&&c[o].p(m,g):(r&&(te(),k(c[w],1,1,()=>{c[w]=null}),le()),~o?(r=c[o],r?r.p(m,g):(r=c[o]=_[o](m),r.c()),b(r,1),r.m(e,null)):r=null)},i(m){s||(b(t),b(r),s=!0)},o(m){k(t),k(r),s=!1},d(m){m&&h(e),f[l].d(),~o&&c[o].d()}}}function Bo(i,e,l){let t,n,o,r,s,a=L,f=()=>(a(),a=Ne(n,M=>l(1,s=M)),n),u,_=L,c=()=>(_(),_=Ne(t,M=>l(2,u=M)),t),d;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>_());let{field:m}=e;const g=Ye();ze(i,g,M=>l(12,d=M));let E,w,p=null;function $(M){if(M==null)return;if(p!=null){const[z,j]=p[M.toString()];if(z!=null){const x={path:m.path,op:"greater_equal",value:z};g.addFilter(x)}if(j!=null){const x={path:m.path,op:"less",value:j};g.addFilter(x)}return}const T={path:m.path,op:"equals",value:M};g.addFilter(T)}const D=M=>$(M.detail.value);return i.$$set=M=>{"field"in M&&l(0,m=M.field)},i.$$.update=()=>{var M;if(i.$$.dirty&4097&&c(l(7,t=di(d.namespace,d.datasetName,{leaf_path:m.path}))),i.$$.dirty&1&&l(10,E=Nt(m.dtype)&&!m.categorical?"value":"count"),i.$$.dirty&1024&&l(11,w=E==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=Lt(d.namespace,d.datasetName,{leaf_path:m.path,filters:d.query.filters,sort_by:E,sort_order:w}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((M=s.data)==null?void 0:M.bins)!=null){l(3,p={});for(const[T,z,j]of Object.values(s.data.bins))l(3,p[T]=[z,j],p)}else l(3,p=null)},[m,s,u,p,r,o,n,t,g,$,E,w,d,D]}class Fo extends be{constructor(e){super(),ve(this,e,Bo,Po,pe,{field:0})}}function kn(i,e,l){const t=i.slice();return t[40]=e[l],t}function En(i,e,l){const t=i.slice();return t[43]=e[l],t}function yn(i,e,l){const t=i.slice();return t[46]=e[l],t}function Sn(i,e,l){const t=i.slice();return t[49]=e[l],t}function Ro(i){let e,l="{}",t;return{c(){e=N("span"),t=R(l),this.h()},l(n){e=V(n,"SPAN",{class:!0});var o=y(e);t=H(o,l),o.forEach(h),this.h()},h(){I(e,"class","font-mono")},m(n,o){S(n,e,o),v(e,t)},p:L,i:L,o:L,d(n){n&&h(e)}}}function Ho(i){let e,l,t,n;var o=Et[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype||void 0}}}return o&&(l=vt(o,r(i))),{c(){e=N("div"),l&&A(l.$$.fragment),t=R("[]"),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=y(e);l&&F(l.$$.fragment,a),t=H(a,"[]"),a.forEach(h),this.h()},h(){I(e,"class","flex")},m(s,a){S(s,e,a),l&&P(l,e,null),v(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype||void 0),a[0]&2&&o!==(o=Et[s[1].repeated_field.dtype])){if(l){te();const u=l;k(u.$$.fragment,1,0,()=>{B(u,1)}),le()}o?(l=vt(o,r(s)),A(l.$$.fragment),b(l.$$.fragment,1),P(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&b(l.$$.fragment,s),n=!0)},o(s){l&&k(l.$$.fragment,s),n=!1},d(s){s&&h(e),l&&B(l)}}}function Lo(i){let e,l,t;var n=Et[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=vt(n,o(i))),{c(){e&&A(e.$$.fragment),l=fe()},l(r){e&&F(e.$$.fragment,r),l=fe()},m(r,s){e&&P(e,r,s),S(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=Et[r[1].dtype])){if(e){te();const f=e;k(f.$$.fragment,1,0,()=>{B(f,1)}),le()}n?(e=vt(n,o(r)),A(e.$$.fragment),b(e.$$.fragment,1),P(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&b(e.$$.fragment,r),t=!0)},o(r){e&&k(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&B(e,r)}}}function In(i){let e,l;return e=new Kt({props:{interactive:!0,type:"green",$$slots:{default:[jo]},$$scope:{ctx:i}}}),e.$on("click",i[34]),e.$on("remove",i[35]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&65536|n[1]&2097152&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Oo(i){let e,l;return e=new Si({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qo(i){let e,l;return e=new yi({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function jo(i){let e,l,t,n,o,r,s,a;const f=[qo,Oo],u=[];function _(c,d){return c[16]=="ASC"?0:1}return r=_(i),s=u[r]=f[r](i),{c(){e=N("div"),l=N("div"),t=R("Sorted"),n=Y(),o=N("span"),s.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var d=y(e);l=V(d,"DIV",{class:!0});var m=y(l);t=H(m,"Sorted"),m.forEach(h),n=Q(d),o=V(d,"SPAN",{});var g=y(o);s.l(g),g.forEach(h),d.forEach(h),this.h()},h(){I(l,"class","mr-1"),I(e,"class","flex flex-row")},m(c,d){S(c,e,d),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),a=!0},p(c,d){let m=r;r=_(c),r!==m&&(te(),k(u[m],1,1,()=>{u[m]=null}),le(),s=u[r],s||(s=u[r]=f[r](c),s.c()),b(s,1),s.m(o,null))},i(c){a||(b(s),a=!0)},o(c){k(s),a=!1},d(c){c&&h(e),u[r].d()}}}function Dn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=$n(Sn(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=fe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=fe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);S(r,e,s),l=!0},p(r,s){if(s[0]&129){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=Sn(r,t,a);n[a]?(n[a].p(f,s),b(n[a],1)):(n[a]=$n(f),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)b(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(r){Ke(n,r),r&&h(e)}}}function $n(i){let e,l;return e=new Ii({props:{schema:i[0],filter:i[49],hidePath:!0}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&128&&(o.filter=t[49]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Nn(i){let e,l;return e=new $i({props:{search:i[46]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&16384&&(o.search=t[46]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Vn(i){var t;let e,l;return e=new vi({props:{embedding:(t=i[43].signal)==null?void 0:t.signal_name}}),{c(){A(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){P(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&262144&&(r.embedding=(s=n[43].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Tn(i){let e,l,t,n,o,r,s;return l=new Xe({props:{type:"cyan",icon:bi}}),l.$on("click",i[36]),n=new Io({props:{isPreview:!0}}),n.$on("click",i[37]),{c(){e=N("div"),A(l.$$.fragment),t=Y(),A(n.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);F(l.$$.fragment,f),f.forEach(h),t=Q(a),F(n.$$.fragment,a),this.h()},h(){I(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){S(a,e,f),P(l,e,null),S(a,t,f),P(n,a,f),o=!0,r||(s=Ve(Te.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:L,i(a){o||(b(l.$$.fragment,a),b(n.$$.fragment,a),o=!0)},o(a){k(l.$$.fragment,a),k(n.$$.fragment,a),o=!1},d(a){a&&h(e),B(l),a&&h(t),B(n,a),r=!1,s()}}}function Mn(i){let e,l,t,n,o,r,s;return t=new Hs({}),{c(){e=N("button"),l=N("div"),A(t.$$.fragment),this.h()},l(a){e=V(a,"BUTTON",{});var f=y(e);l=V(f,"DIV",{class:!0});var u=y(l);F(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){I(l,"class","transition"),ie(l,"rotate-180",i[21]),ie(e,"bg-slate-300",i[21])},m(a,f){S(a,e,f),v(e,l),P(t,l,null),o=!0,r||(s=[Ve(n=Te.call(null,e,{text:i[21]?"Close statistics":"See statistics"})),Pe(e,"click",i[38])],r=!0)},p(a,f){(!o||f[0]&2097152)&&ie(l,"rotate-180",a[21]),n&&Oe(n.update)&&f[0]&2097152&&n.update.call(null,{text:a[21]?"Close statistics":"See statistics"}),(!o||f[0]&2097152)&&ie(e,"bg-slate-300",a[21])},i(a){o||(b(t.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),o=!1},d(a){a&&h(e),B(t),r=!1,xe(s)}}}function zn(i){let e,l,t,n;return l=new Fo({props:{field:i[1]}}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(o){e=V(o,"DIV",{class:!0});var r=y(e);F(l.$$.fragment,r),r.forEach(h),this.h()},h(){I(e,"class","px-2")},m(o,r){S(o,e,r),P(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(b(l.$$.fragment,o),o&&ti(()=>{n&&(t||(t=bt(e,yt,{},!0)),t.run(1))}),n=!0)},o(o){k(l.$$.fragment,o),o&&(t||(t=bt(e,yt,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),B(l),o&&t&&t.end()}}}function Cn(i){let e,l,t=i[19],n=[];for(let r=0;r<t.length;r+=1)n[r]=An(kn(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=fe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=fe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);S(r,e,s),l=!0},p(r,s){if(s[0]&524559){t=r[19];let a;for(a=0;a<t.length;a+=1){const f=kn(r,t,a);n[a]?(n[a].p(f,s),b(n[a],1)):(n[a]=An(f),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)b(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(r){Ke(n,r),r&&h(e)}}}function An(i){let e,l;return e=new Ni({props:{schema:i[0],field:i[40],indent:i[3]+1,sourceField:i[8]&&ct(i[40])?i[1]:i[2]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&524288&&(o.field=t[40]),n[0]&8&&(o.indent=t[3]+1),n[0]&524550&&(o.sourceField=t[8]&&ct(t[40])?t[1]:t[2]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Uo(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D,M,T,z,j,x,X,W;const O=[Lo,Ho,Ro],K=[];function U(q,re){return q[1].dtype?0:q[1].repeated_field&&q[1].repeated_field.dtype?1:2}n=U(i),o=K[n]=O[n](i);let C=i[17]&&In(i),G=i[15]&&Dn(i),ee=i[14],J=[];for(let q=0;q<ee.length;q+=1)J[q]=Nn(yn(i,ee,q));const ge=q=>k(J[q],1,1,()=>{J[q]=null});let Ee=i[18],ae=[];for(let q=0;q<Ee.length;q+=1)ae[q]=Vn(En(i,Ee,q));const we=q=>k(ae[q],1,1,()=>{ae[q]=null});let _e=i[4]&&i[23]&&Tn(i),he=i[12]&&Mn(i);D=new Eo({props:{field:i[1]}});let Se=i[21]&&zn(i),Z=i[19].length&&Cn(i);return{c(){e=N("div"),l=N("div"),t=N("div"),o.c(),s=Y(),a=N("div"),f=N("button"),u=R(i[20]),d=Y(),C&&C.c(),m=Y(),G&&G.c(),g=Y();for(let q=0;q<J.length;q+=1)J[q].c();E=Y();for(let q=0;q<ae.length;q+=1)ae[q].c();w=Y(),_e&&_e.c(),p=Y(),he&&he.c(),$=Y(),A(D.$$.fragment),M=Y(),Se&&Se.c(),T=Y(),z=N("div"),Z&&Z.c(),this.h()},l(q){e=V(q,"DIV",{class:!0});var re=y(e);l=V(re,"DIV",{class:!0});var ne=y(l);t=V(ne,"DIV",{class:!0});var Ae=y(t);o.l(Ae),Ae.forEach(h),s=Q(ne),a=V(ne,"DIV",{class:!0});var oe=y(a);f=V(oe,"BUTTON",{class:!0});var Fe=y(f);u=H(Fe,i[20]),Fe.forEach(h),oe.forEach(h),d=Q(ne),C&&C.l(ne),m=Q(ne),G&&G.l(ne),g=Q(ne);for(let He=0;He<J.length;He+=1)J[He].l(ne);E=Q(ne);for(let He=0;He<ae.length;He+=1)ae[He].l(ne);w=Q(ne),_e&&_e.l(ne),p=Q(ne),he&&he.l(ne),$=Q(ne),F(D.$$.fragment,ne),ne.forEach(h),M=Q(re),Se&&Se.l(re),T=Q(re),z=V(re,"DIV",{});var Me=y(z);Z&&Z.l(Me),Me.forEach(h),re.forEach(h),this.h()},h(){I(t,"class","rounded-md bg-blue-200 p-0.5"),ie(t,"bg-blue-200",i[5]),ut(t,"margin-left",i[3]*1.5+"rem"),I(f,"class","ml-2 w-full cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),f.disabled=_=!i[12],ie(f,"cursor-default",!i[12]),I(a,"class","grow"),I(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),ie(l,"bg-blue-50",i[5]),ie(l,"bg-emerald-100",i[4]),ie(l,"bg-teal-100",i[9]),ie(l,"hover:bg-blue-100",i[5]),I(e,"class","border-gray-300"),ie(e,"border-b",i[8])},m(q,re){S(q,e,re),v(e,l),v(l,t),K[n].m(t,null),v(l,s),v(l,a),v(a,f),v(f,u),v(l,d),C&&C.m(l,null),v(l,m),G&&G.m(l,null),v(l,g);for(let ne=0;ne<J.length;ne+=1)J[ne]&&J[ne].m(l,null);v(l,E);for(let ne=0;ne<ae.length;ne+=1)ae[ne]&&ae[ne].m(l,null);v(l,w),_e&&_e.m(l,null),v(l,p),he&&he.m(l,null),v(l,$),P(D,l,null),v(e,M),Se&&Se.m(e,null),v(e,T),v(e,z),Z&&Z.m(z,null),x=!0,X||(W=[Ve(r=Te.call(null,t,{text:i[13]})),Pe(f,"click",i[33]),Ve(c=Te.call(null,a,{text:i[11]||""}))],X=!0)},p(q,re){let ne=n;if(n=U(q),n===ne?K[n].p(q,re):(te(),k(K[ne],1,1,()=>{K[ne]=null}),le(),o=K[n],o?o.p(q,re):(o=K[n]=O[n](q),o.c()),b(o,1),o.m(t,null)),r&&Oe(r.update)&&re[0]&8192&&r.update.call(null,{text:q[13]}),(!x||re[0]&32)&&ie(t,"bg-blue-200",q[5]),re[0]&8&&ut(t,"margin-left",q[3]*1.5+"rem"),(!x||re[0]&1048576)&&se(u,q[20]),(!x||re[0]&4096&&_!==(_=!q[12]))&&(f.disabled=_),(!x||re[0]&4096)&&ie(f,"cursor-default",!q[12]),c&&Oe(c.update)&&re[0]&2048&&c.update.call(null,{text:q[11]||""}),q[17]?C?(C.p(q,re),re[0]&131072&&b(C,1)):(C=In(q),C.c(),b(C,1),C.m(l,m)):C&&(te(),k(C,1,1,()=>{C=null}),le()),q[15]?G?(G.p(q,re),re[0]&32768&&b(G,1)):(G=Dn(q),G.c(),b(G,1),G.m(l,g)):G&&(te(),k(G,1,1,()=>{G=null}),le()),re[0]&16384){ee=q[14];let oe;for(oe=0;oe<ee.length;oe+=1){const Fe=yn(q,ee,oe);J[oe]?(J[oe].p(Fe,re),b(J[oe],1)):(J[oe]=Nn(Fe),J[oe].c(),b(J[oe],1),J[oe].m(l,E))}for(te(),oe=ee.length;oe<J.length;oe+=1)ge(oe);le()}if(re[0]&262144){Ee=q[18];let oe;for(oe=0;oe<Ee.length;oe+=1){const Fe=En(q,Ee,oe);ae[oe]?(ae[oe].p(Fe,re),b(ae[oe],1)):(ae[oe]=Vn(Fe),ae[oe].c(),b(ae[oe],1),ae[oe].m(l,w))}for(te(),oe=Ee.length;oe<ae.length;oe+=1)we(oe);le()}q[4]&&q[23]?_e?(_e.p(q,re),re[0]&8388624&&b(_e,1)):(_e=Tn(q),_e.c(),b(_e,1),_e.m(l,p)):_e&&(te(),k(_e,1,1,()=>{_e=null}),le()),q[12]?he?(he.p(q,re),re[0]&4096&&b(he,1)):(he=Mn(q),he.c(),b(he,1),he.m(l,$)):he&&(te(),k(he,1,1,()=>{he=null}),le());const Ae={};re[0]&2&&(Ae.field=q[1]),D.$set(Ae),(!x||re[0]&32)&&ie(l,"bg-blue-50",q[5]),(!x||re[0]&16)&&ie(l,"bg-emerald-100",q[4]),(!x||re[0]&512)&&ie(l,"bg-teal-100",q[9]),(!x||re[0]&32)&&ie(l,"hover:bg-blue-100",q[5]),q[21]?Se?(Se.p(q,re),re[0]&2097152&&b(Se,1)):(Se=zn(q),Se.c(),b(Se,1),Se.m(e,T)):Se&&(te(),k(Se,1,1,()=>{Se=null}),le()),q[19].length?Z?(Z.p(q,re),re[0]&524288&&b(Z,1)):(Z=Cn(q),Z.c(),b(Z,1),Z.m(z,null)):Z&&(te(),k(Z,1,1,()=>{Z=null}),le()),(!x||re[0]&256)&&ie(e,"border-b",q[8])},i(q){if(!x){b(o),b(C),b(G);for(let re=0;re<ee.length;re+=1)b(J[re]);for(let re=0;re<Ee.length;re+=1)b(ae[re]);b(_e),b(he),b(D.$$.fragment,q),b(Se),b(Z),q&&ti(()=>{x&&(j||(j=bt(z,yt,{},!0)),j.run(1))}),x=!0}},o(q){k(o),k(C),k(G),J=J.filter(Boolean);for(let re=0;re<J.length;re+=1)k(J[re]);ae=ae.filter(Boolean);for(let re=0;re<ae.length;re+=1)k(ae[re]);k(_e),k(he),k(D.$$.fragment,q),k(Se),k(Z),q&&(j||(j=bt(z,yt,{},!1)),j.run(0)),x=!1},d(q){q&&h(e),K[n].d(),C&&C.d(),G&&G.d(),Ke(J,q),Ke(ae,q),_e&&_e.d(),he&&he.d(),B(D),Se&&Se.d(),Z&&Z.d(),q&&j&&j.end(),X=!1,xe(W)}}}function Yo(i,e,l){let t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D,M,T,z,j,x,X=L,W=()=>(X(),X=Ne(s,ne=>l(31,x=ne)),s),O,K;i.$$.on_destroy.push(()=>X());let{schema:U}=e,{field:C}=e,{sourceField:G=void 0}=e,{indent:ee=0}=e;const J=fi();ze(i,J,ne=>l(24,K=ne));const ge=Ye();ze(i,ge,ne=>l(10,j=ne));const Ee=os();ze(i,Ee,ne=>l(32,O=ne));let ae=null;function we(ne){return ne!=null&&ne.repeated_field?we(ne.repeated_field):ne!=null&&ne.fields?[...Object.values(ne.fields).filter(Ae=>Ae.path.at(-1)!==fs)].filter(Ae=>{var oe,Fe,Me,He;return!(Ae.dtype==="embedding"||Ae.signal!=null&&nt(Ae).some(Tt=>Tt.dtype==="embedding")||((oe=Ae.signal)==null?void 0:oe.signal_name)==="sentences"||((Fe=Ae.signal)==null?void 0:Fe.signal_name)==="substring_search"||((Me=Ae.signal)==null?void 0:Me.signal_name)==="semantic_similarity"||((He=Ae.signal)==null?void 0:He.signal_name)==="concept_labels")}):[]}const _e=()=>{z&&(f?ge.removeExpandedColumn(a):ge.addExpandedColumn(a))},he=()=>g==="ASC"?zt(ge,j.query.sort_order="DESC",j):zt(ge,j.query.sort_order="ASC",j),Se=()=>ge.removeSortBy(a),Z=()=>C.signal&&p&&G&&K.mutate([j.namespace,j.datasetName,{leaf_path:G.path,signal:C.signal}]),q=()=>{var ne;return C.signal&&p&&et({command:tt.EditPreviewConcept,namespace:j.namespace,datasetName:j.datasetName,path:G==null?void 0:G.path,signalName:(ne=C.signal)==null?void 0:ne.signal_name,value:C.signal})},re=()=>{f?ge.removeExpandedColumn(a):ge.addExpandedColumn(a)};return i.$$set=ne=>{"schema"in ne&&l(0,U=ne.schema),"field"in ne&&l(1,C=ne.field),"sourceField"in ne&&l(2,G=ne.sourceField),"indent"in ne&&l(3,ee=ne.indent)},i.$$.update=()=>{var ne,Ae;if(i.$$.dirty[0]&2&&l(5,t=ct(C)),i.$$.dirty[0]&2&&l(23,n=jt(C)),i.$$.dirty[0]&2&&l(9,o=mi(C)),i.$$.dirty[0]&544&&l(8,r=!t&&!o),i.$$.dirty[0]&1024&&W(l(22,s=at(j.namespace,j.datasetName,ot(j)))),i.$$.dirty[0]&2&&l(6,a=C.path),i.$$.dirty[0]&1088&&l(21,f=j.expandedStats[Ge(a)]||!1),i.$$.dirty[0]&64&&l(30,u=a.at(-1)===hi),i.$$.dirty[0]&1073741888&&l(20,_=u?a.at(-2):a.at(-1)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&C.signal&&O.data!=null)if(C.signal.signal_name==="concept_score"){const oe=C.signal;l(20,_=`${oe.concept_name}`),l(11,ae=`Concept '${oe.namespace}/${oe.concept_name}' arguments:

embedding: '${oe.embedding}'`+(oe.version!=null?`
version: ${oe.version}`:""))}else{const oe=O.data.find(Fe=>{var Me;return Fe.name===((Me=C.signal)==null?void 0:Me.signal_name)});if(oe!=null){l(20,_=oe.json_schema.title);const Fe=Object.entries(C.signal||{}).filter(([Me,He])=>Me!="signal_name").map(([Me,He])=>`${Me}: ${He}`).join(`
`);Fe.length>0&&l(11,ae=`Signal '${oe.name}' arguments: 

${Fe}`)}}i.$$.dirty[0]&2&&l(19,c=we(C)),i.$$.dirty[0]&258&&l(18,d=r?nt(C).filter(oe=>oe.signal!=null&&nt(oe).some(Fe=>Fe.dtype==="embedding")):[]),i.$$.dirty[0]&1088&&l(17,m=(ne=j.query.sort_by)==null?void 0:ne.some(oe=>Ct(oe,a))),i.$$.dirty[0]&1024&&l(16,g=j.query.sort_order),i.$$.dirty[0]&1088&&l(7,E=((Ae=j.query.filters)==null?void 0:Ae.filter(oe=>Ct(oe.path,a)))||[]),i.$$.dirty[0]&128&&l(15,w=E.length>0),i.$$.dirty[0]&64|i.$$.dirty[1]&1&&l(4,p=ci(x.data||null,a)),i.$$.dirty[0]&1088&&l(14,$=Ot(j,a)),i.$$.dirty[0]&32&&l(28,D=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(29,M=C.dtype??(C.repeated_field&&C.repeated_field.dtype?`${C.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&805306368&&l(13,T=`${M}${D}`),i.$$.dirty[0]&18&&l(12,z=kt(C)&&!p)},[U,C,G,ee,p,t,a,E,r,o,j,ae,z,T,$,w,g,m,d,c,_,f,s,n,K,J,ge,Ee,D,M,u,x,O,_e,he,Se,Z,q,re]}class Ni extends be{constructor(e){super(),ve(this,e,Yo,Uo,pe,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Pn(i,e,l){const t=i.slice();return t[4]=e[l],t}function Qo(i){let e=[],l=new Map,t,n,o=Object.keys(i[1].data.schema.fields);const r=s=>s[4];for(let s=0;s<o.length;s+=1){let a=Pn(i,o,s),f=r(a);l.set(f,e[s]=Bn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=fe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=fe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);S(s,t,a),n=!0},p(s,a){a&2&&(o=Object.keys(s[1].data.schema.fields),te(),e=Xn(e,a,r,1,s,o,l,t.parentNode,xn,Bn,t,Pn),le())},i(s){if(!n){for(let a=0;a<o.length;a+=1)b(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)k(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function Go(i){let e,l;return e=new Qe({props:{paragraph:!0,lines:3}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Bn(i,e){let l,t,n;return t=new Ni({props:{schema:e[1].data.schema,field:e[1].data.schema.fields[e[4]]}}),{key:i,first:null,c(){l=fe(),A(t.$$.fragment),this.h()},l(o){l=fe(),F(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){S(o,l,r),P(t,o,r),n=!0},p(o,r){e=o;const s={};r&2&&(s.schema=e[1].data.schema),r&2&&(s.field=e[1].data.schema.fields[e[4]]),t.$set(s)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(l),B(t,o)}}}function Wo(i){let e,l,t,n;const o=[Go,Qo],r=[];function s(a,f){var u,_;return(u=a[1])!=null&&u.isLoading?0:(_=a[1])!=null&&_.isSuccess&&a[1].data.schema.fields!=null?1:-1}return~(l=s(i))&&(t=r[l]=o[l](i)),{c(){e=N("div"),t&&t.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);t&&t.l(f),f.forEach(h),this.h()},h(){I(e,"class","schema flex h-full flex-col overflow-y-auto")},m(a,f){S(a,e,f),~l&&r[l].m(e,null),n=!0},p(a,[f]){let u=l;l=s(a),l===u?~l&&r[l].p(a,f):(t&&(te(),k(r[u],1,1,()=>{r[u]=null}),le()),~l?(t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),b(t,1),t.m(e,null)):t=null)},i(a){n||(b(t),n=!0)},o(a){k(t),n=!1},d(a){a&&h(e),~l&&r[l].d()}}}function Zo(i,e,l){let t,n,o,r=L,s=()=>(r(),r=Ne(t,f=>l(1,o=f)),t);i.$$.on_destroy.push(()=>r());const a=Ye();return ze(i,a,f=>l(3,n=f)),i.$$.update=()=>{i.$$.dirty&8&&s(l(0,t=at(n.namespace,n.datasetName,ot(n))))},[t,o,a,n]}class Ko extends be{constructor(e){super(),ve(this,e,Zo,Wo,pe,{})}}function Jo(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D,M,T,z,j,x,X,W,O;function K(C){i[13](C)}let U={invalid:i[5]!=i[6]};return i[5]!==void 0&&(U.value=i[5]),$=new hs({props:U}),qe.push(()=>We($,"value",K)),j=new Ds({}),{c(){e=N("div"),l=N("section"),t=N("div"),n=R("Delete this dataset"),o=Y(),r=N("div"),s=N("p"),a=R("This action cannot be undone."),f=Y(),u=N("p"),_=R(`This will permanently delete the
                  `),c=N("span"),d=R(i[6]),m=R(` dataset and all its files. Please type
                  `),g=N("span"),E=R(i[6]),w=R(" to confirm."),p=Y(),A($.$$.fragment),M=Y(),T=N("button"),z=R(`I understand, delete this dataset
                `),A(j.$$.fragment),this.h()},l(C){e=V(C,"DIV",{class:!0});var G=y(e);l=V(G,"SECTION",{class:!0});var ee=y(l);t=V(ee,"DIV",{class:!0});var J=y(t);n=H(J,"Delete this dataset"),J.forEach(h),o=Q(ee),r=V(ee,"DIV",{class:!0});var ge=y(r);s=V(ge,"P",{class:!0});var Ee=y(s);a=H(Ee,"This action cannot be undone."),Ee.forEach(h),f=Q(ge),u=V(ge,"P",{});var ae=y(u);_=H(ae,`This will permanently delete the
                  `),c=V(ae,"SPAN",{class:!0});var we=y(c);d=H(we,i[6]),we.forEach(h),m=H(ae,` dataset and all its files. Please type
                  `),g=V(ae,"SPAN",{class:!0});var _e=y(g);E=H(_e,i[6]),_e.forEach(h),w=H(ae," to confirm."),ae.forEach(h),ge.forEach(h),p=Q(ee),F($.$$.fragment,ee),M=Q(ee),T=V(ee,"BUTTON",{class:!0});var he=y(T);z=H(he,`I understand, delete this dataset
                `),F(j.$$.fragment,he),he.forEach(h),ee.forEach(h),G.forEach(h),this.h()},h(){I(t,"class","text-lg text-gray-700"),I(s,"class","mb-2"),I(c,"class","font-bold"),I(g,"class","font-bold"),I(r,"class","mb-4 text-sm text-gray-500"),I(T,"class","mt-2 flex cursor-pointer flex-row justify-between p-4 text-left outline-red-400 hover:bg-gray-200"),T.disabled=x=i[5]!=i[6],ie(T,"cursor-not-allowed",i[5]!=i[6]),ie(T,"outline",i[5]==i[6]),ie(T,"opacity-50",i[5]!=i[6]),I(l,"class","flex flex-col gap-y-1"),I(e,"class","flex flex-col gap-y-6")},m(C,G){S(C,e,G),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(s,a),v(r,f),v(r,u),v(u,_),v(u,c),v(c,d),v(u,m),v(u,g),v(g,E),v(u,w),v(l,p),P($,l,null),v(l,M),v(l,T),v(T,z),P(j,T,null),X=!0,W||(O=Pe(T,"click",i[14]),W=!0)},p(C,G){(!X||G&64)&&se(d,C[6]),(!X||G&64)&&se(E,C[6]);const ee={};G&96&&(ee.invalid=C[5]!=C[6]),!D&&G&32&&(D=!0,ee.value=C[5],Ze(()=>D=!1)),$.$set(ee),(!X||G&96&&x!==(x=C[5]!=C[6]))&&(T.disabled=x),(!X||G&96)&&ie(T,"cursor-not-allowed",C[5]!=C[6]),(!X||G&96)&&ie(T,"outline",C[5]==C[6]),(!X||G&96)&&ie(T,"opacity-50",C[5]!=C[6])},i(C){X||(b($.$$.fragment,C),b(j.$$.fragment,C),X=!0)},o(C){k($.$$.fragment,C),k(j.$$.fragment,C),X=!1},d(C){C&&h(e),B($),B(j),W=!1,O()}}}function Xo(i){let e,l,t;function n(r){i[12](r)}let o={namespace:i[1],datasetName:i[2]};return i[4]!==void 0&&(o.settings=i[4]),e=new Ts({props:o}),qe.push(()=>We(e,"settings",n)),{c(){A(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const a={};s&2&&(a.namespace=r[1]),s&4&&(a.datasetName=r[2]),!l&&s&16&&(l=!0,a.settings=r[4],Ze(()=>l=!1)),e.$set(a)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function xo(i){let e,l,t,n,o,r,s,a;t=new ms({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[3]}}),t.$on("select",i[11]);const f=[Xo,Jo],u=[];function _(c,d){return c[3]==="fields"?0:c[3]==="administration"?1:-1}return~(r=_(i))&&(s=u[r]=f[r](i)),{c(){e=N("div"),l=N("div"),A(t.$$.fragment),n=Y(),o=N("div"),s&&s.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var d=y(e);l=V(d,"DIV",{class:!0});var m=y(l);F(t.$$.fragment,m),m.forEach(h),n=Q(d),o=V(d,"DIV",{class:!0});var g=y(o);s&&s.l(g),g.forEach(h),d.forEach(h),this.h()},h(){I(l,"class","-ml-4 mr-4 w-96 grow-0"),I(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),I(e,"class","flex flex-row")},m(c,d){S(c,e,d),v(e,l),P(t,l,null),v(e,n),v(e,o),~r&&u[r].m(o,null),a=!0},p(c,d){const m={};d&8&&(m.item=c[3]),t.$set(m);let g=r;r=_(c),r===g?~r&&u[r].p(c,d):(s&&(te(),k(u[g],1,1,()=>{u[g]=null}),le()),~r?(s=u[r],s?s.p(c,d):(s=u[r]=f[r](c),s.c()),b(s,1),s.m(o,null)):s=null)},i(c){a||(b(t.$$.fragment,c),b(s),a=!0)},o(c){k(t.$$.fragment,c),k(s),a=!1},d(c){c&&h(e),B(t),~r&&u[r].d()}}}function ef(i){let e,l,t,n,o,r;return e=new Yt({props:{label:"Changes",title:"Dataset settings"}}),t=new Qt({props:{hasForm:!0,$$slots:{default:[xo]},$$scope:{ctx:i}}}),o=new Gt({props:{danger:i[3]==="administration",primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:i[3]==="administration"}}),o.$on("click:button--secondary",i[15]),{c(){A(e.$$.fragment),l=Y(),A(t.$$.fragment),n=Y(),A(o.$$.fragment)},l(s){F(e.$$.fragment,s),l=Q(s),F(t.$$.fragment,s),n=Q(s),F(o.$$.fragment,s)},m(s,a){P(e,s,a),S(s,l,a),P(t,s,a),S(s,n,a),P(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.danger=s[3]==="administration"),a&8&&(u.primaryButtonDisabled=s[3]==="administration"),o.$set(u)},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),k(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&h(l),B(t,s),s&&h(n),B(o,s)}}}function tf(i){let e,l;return e=new Ut({props:{open:i[0],$$slots:{default:[ef]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[16]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262399&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lf(i,e,l){let t,n,o,{namespace:r}=e,{name:s}=e,{open:a=!1}=e;const f=us();ze(i,f,M=>l(17,n=M));let u="fields",_;function c(){_!=null&&n.mutate([r,s,_],{onSuccess:()=>{l(0,a=!1)}})}let d="";const m=cs();ze(i,m,M=>l(7,o=M));const g=M=>l(3,u=M.detail);function E(M){_=M,l(4,_)}function w(M){d=M,l(5,d)}const p=()=>o.mutate([r,s],{onSuccess:()=>Ft("/")}),$=()=>l(0,a=!1),D=()=>l(0,a=!1);return i.$$set=M=>{"namespace"in M&&l(1,r=M.namespace),"name"in M&&l(2,s=M.name),"open"in M&&l(0,a=M.open)},i.$$.update=()=>{i.$$.dirty&6&&l(6,t=ds(r,s))},[a,r,s,u,_,d,t,o,f,c,m,g,E,w,p,$,D]}class nf extends be{constructor(e){super(),ve(this,e,lf,tf,pe,{namespace:1,name:2,open:0})}}function Fn(i){let e,l,t,n,o,r,s;function a(u){i[16](u)}let f={fields:i[6]};return i[2]!==void 0&&(f.checkedFields=i[2]),o=new Wt({props:f}),qe.push(()=>We(o,"checkedFields",a)),{c(){e=N("section"),l=N("h4"),t=R("Label fields"),n=Y(),A(o.$$.fragment),this.h()},l(u){e=V(u,"SECTION",{});var _=y(e);l=V(_,"H4",{class:!0});var c=y(l);t=H(c,"Label fields"),c.forEach(h),n=Q(_),F(o.$$.fragment,_),_.forEach(h),this.h()},h(){I(l,"class","svelte-1ge817j")},m(u,_){S(u,e,_),v(e,l),v(l,t),v(e,n),P(o,e,null),s=!0},p(u,_){const c={};_&64&&(c.fields=u[6]),!r&&_&4&&(r=!0,c.checkedFields=u[2],Ze(()=>r=!1)),o.$set(c)},i(u){s||(b(o.$$.fragment,u),s=!0)},o(u){k(o.$$.fragment,u),s=!1},d(u){u&&h(e),B(o)}}}function Rn(i){let e,l,t,n,o,r,s;function a(u){i[17](u)}let f={fields:i[7]};return i[3]!==void 0&&(f.checkedFields=i[3]),o=new Wt({props:f}),qe.push(()=>We(o,"checkedFields",a)),{c(){e=N("section"),l=N("h4"),t=R("Enriched fields"),n=Y(),A(o.$$.fragment),this.h()},l(u){e=V(u,"SECTION",{});var _=y(e);l=V(_,"H4",{class:!0});var c=y(l);t=H(c,"Enriched fields"),c.forEach(h),n=Q(_),F(o.$$.fragment,_),_.forEach(h),this.h()},h(){I(l,"class","svelte-1ge817j")},m(u,_){S(u,e,_),v(e,l),v(l,t),v(e,n),P(o,e,null),s=!0},p(u,_){const c={};_&128&&(c.fields=u[7]),!r&&_&8&&(r=!0,c.checkedFields=u[3],Ze(()=>r=!1)),o.$set(c)},i(u){s||(b(o.$$.fragment,u),s=!0)},o(u){k(o.$$.fragment,u),s=!1},d(u){u&&h(e),B(o)}}}function Hn(i){let e,l;return{c(){e=N("p"),l=R("No fields selected. Please select at least one field to download."),this.h()},l(t){e=V(t,"P",{class:!0});var n=y(e);l=H(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){I(e,"class","text-gray-600")},m(t,n){S(t,e,n),v(e,l)},d(t){t&&h(e)}}}function sf(i){let e,l;return e=new wi({props:{value:JSON.stringify(i[9].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.value=JSON.stringify(t[9].data,null,2)),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function rf(i){let e,l;return e=new Qe({props:{paragraph:!0}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function af(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$;function D(O){i[15](O)}let M={fields:i[8]};i[1]!==void 0&&(M.checkedFields=i[1]),r=new Wt({props:M}),qe.push(()=>We(r,"checkedFields",D));let T=i[6].length>0&&Fn(i),z=i[7].length>0&&Rn(i),j=i[4].length===0&&Hn();const x=[rf,sf],X=[];function W(O,K){return O[9]&&O[9].isFetching?0:O[5]&&O[9]?1:-1}return~(w=W(i))&&(p=X[w]=x[w](i)),{c(){e=N("div"),l=N("section"),t=N("h4"),n=R("Source fields"),o=Y(),A(r.$$.fragment),a=Y(),T&&T.c(),f=Y(),z&&z.c(),u=Y(),_=N("section"),c=N("h4"),d=R("Download preview"),m=Y(),j&&j.c(),g=Y(),E=N("div"),p&&p.c(),this.h()},l(O){e=V(O,"DIV",{class:!0});var K=y(e);l=V(K,"SECTION",{});var U=y(l);t=V(U,"H4",{class:!0});var C=y(t);n=H(C,"Source fields"),C.forEach(h),o=Q(U),F(r.$$.fragment,U),U.forEach(h),a=Q(K),T&&T.l(K),f=Q(K),z&&z.l(K),K.forEach(h),u=Q(O),_=V(O,"SECTION",{});var G=y(_);c=V(G,"H4",{class:!0});var ee=y(c);d=H(ee,"Download preview"),ee.forEach(h),m=Q(G),j&&j.l(G),g=Q(G),E=V(G,"DIV",{class:!0});var J=y(E);p&&p.l(J),J.forEach(h),G.forEach(h),this.h()},h(){I(t,"class","svelte-1ge817j"),I(e,"class","flex flex-wrap gap-x-12"),I(c,"class","svelte-1ge817j"),I(E,"class","preview svelte-1ge817j")},m(O,K){S(O,e,K),v(e,l),v(l,t),v(t,n),v(l,o),P(r,l,null),v(e,a),T&&T.m(e,null),v(e,f),z&&z.m(e,null),S(O,u,K),S(O,_,K),v(_,c),v(c,d),v(_,m),j&&j.m(_,null),v(_,g),v(_,E),~w&&X[w].m(E,null),$=!0},p(O,K){const U={};K&256&&(U.fields=O[8]),!s&&K&2&&(s=!0,U.checkedFields=O[1],Ze(()=>s=!1)),r.$set(U),O[6].length>0?T?(T.p(O,K),K&64&&b(T,1)):(T=Fn(O),T.c(),b(T,1),T.m(e,f)):T&&(te(),k(T,1,1,()=>{T=null}),le()),O[7].length>0?z?(z.p(O,K),K&128&&b(z,1)):(z=Rn(O),z.c(),b(z,1),z.m(e,null)):z&&(te(),k(z,1,1,()=>{z=null}),le()),O[4].length===0?j||(j=Hn(),j.c(),j.m(_,g)):j&&(j.d(1),j=null);let C=w;w=W(O),w===C?~w&&X[w].p(O,K):(p&&(te(),k(X[C],1,1,()=>{X[C]=null}),le()),~w?(p=X[w],p?p.p(O,K):(p=X[w]=x[w](O),p.c()),b(p,1),p.m(E,null)):p=null)},i(O){$||(b(r.$$.fragment,O),b(T),b(z),b(p),$=!0)},o(O){k(r.$$.fragment,O),k(T),k(z),k(p),$=!1},d(O){O&&h(e),B(r),T&&T.d(),z&&z.d(),O&&h(u),O&&h(_),j&&j.d(),~w&&X[w].d()}}}function of(i){let e,l,t,n,o,r;return e=new Yt({props:{title:"Download data"}}),t=new Qt({props:{hasForm:!0,$$slots:{default:[af]},$$scope:{ctx:i}}}),o=new Gt({props:{primaryButtonText:"Download",primaryButtonDisabled:i[4].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[12]),{c(){A(e.$$.fragment),l=Y(),A(t.$$.fragment),n=Y(),A(o.$$.fragment)},l(s){F(e.$$.fragment,s),l=Q(s),F(t.$$.fragment,s),n=Q(s),F(o.$$.fragment,s)},m(s,a){P(e,s,a),S(s,l,a),P(t,s,a),S(s,n,a),P(o,s,a),r=!0},p(s,a){const f={};a&2098174&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&16&&(u.primaryButtonDisabled=s[4].length===0),o.$set(u)},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),k(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&h(l),B(t,s),s&&h(n),B(o,s)}}}function ff(i){let e,l;return e=new Ut({props:{size:"lg",open:i[0],$$slots:{default:[of]},$$scope:{ctx:i}}}),e.$on("submit",i[11]),e.$on("close",i[18]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&2098174&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function uf(i,e,l){let t,n,o,r,s,a,f,u=L,_=()=>(u(),u=Ne(s,X=>l(9,f=X)),s);i.$$.on_destroy.push(()=>u());let{open:c=!1}=e,{schema:d}=e;const m=st(),g=Ye();ze(i,g,X=>l(14,a=X));let E=[],w=[],p=[];function $(X){const W=nt(X),K=ii(X).filter(G=>["embedding"].indexOf(G.dtype)===-1).filter(G=>!ct(G)&&!mi(G)),U=W.filter(G=>G.label!=null),C=W.filter(G=>jt(G)).filter(G=>!nt(G).some(ee=>ee.dtype==="embedding"));return{sourceFields:K,enrichedFields:C,labelFields:U}}async function D(){const X=a.namespace,W=a.datasetName,O={combine_columns:!1,columns:r.map(C=>C.path)},K=`/api/v1/datasets/${X}/${W}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(O))}`,U=document.createElement("a");U.download=`${X}_${W}.json`,U.href=K,document.body.appendChild(U),U.click(),U.remove()}function M(){l(0,c=!1),m("close")}function T(X){E=X,l(1,E)}function z(X){w=X,l(2,w)}function j(X){p=X,l(3,p)}const x=()=>l(0,c=!1);return i.$$set=X=>{"open"in X&&l(0,c=X.open),"schema"in X&&l(13,d=X.schema)},i.$$.update=()=>{i.$$.dirty&8192&&l(8,{sourceFields:t,enrichedFields:n,labelFields:o}=$(d),t,(l(7,n),l(13,d)),(l(6,o),l(13,d))),i.$$.dirty&14&&l(4,r=[...E,...w,...p]),i.$$.dirty&16400&&_(l(5,s=r.length>0?_i(a.namespace,a.datasetName,{columns:r.map(X=>X.path),limit:3,combine_columns:!1}):null))},[c,E,w,p,r,s,o,n,t,f,g,D,M,d,a,T,z,j,x]}class cf extends be{constructor(e){super(),ve(this,e,uf,ff,pe,{open:0,schema:13})}}function Ln(i,e,l){const t=i.slice();t[12]=e[l];const n=t[3](t[12]);t[13]=n;const o=t[4](t[12]);return t[14]=o,t}function df(i){let e,l,t,n,o,r,s,a,f;s=new ri({props:{size:"small",tooltipPosition:"left",icon:ai,iconDescription:"Sort dataset by concept score"}}),s.$on("click",i[5]);let u=i[2].data.rows,_=[];for(let d=0;d<u.length;d+=1)_[d]=On(Ln(i,u,d));const c=d=>k(_[d],1,1,()=>{_[d]=null});return{c(){e=N("div"),l=N("div"),t=N("div"),n=R("Items with highest score"),o=Y(),r=N("div"),A(s.$$.fragment),a=Y();for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=V(d,"DIV",{class:!0});var m=y(e);l=V(m,"DIV",{class:!0});var g=y(l);t=V(g,"DIV",{});var E=y(t);n=H(E,"Items with highest score"),E.forEach(h),o=Q(g),r=V(g,"DIV",{});var w=y(r);F(s.$$.fragment,w),w.forEach(h),g.forEach(h),a=Q(m);for(let p=0;p<_.length;p+=1)_[p].l(m);m.forEach(h),this.h()},h(){I(l,"class","flex h-8 justify-between text-lg"),I(e,"class","flex flex-col gap-y-4")},m(d,m){S(d,e,m),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),P(s,r,null),v(e,a);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(e,null);f=!0},p(d,m){if(m&29){u=d[2].data.rows;let g;for(g=0;g<u.length;g+=1){const E=Ln(d,u,g);_[g]?(_[g].p(E,m),b(_[g],1)):(_[g]=On(E),_[g].c(),b(_[g],1),_[g].m(e,null))}for(te(),g=u.length;g<_.length;g+=1)c(g);le()}},i(d){if(!f){b(s.$$.fragment,d);for(let m=0;m<u.length;m+=1)b(_[m]);f=!0}},o(d){k(s.$$.fragment,d),_=_.filter(Boolean);for(let m=0;m<_.length;m+=1)k(_[m]);f=!1},d(d){d&&h(e),B(s),Ke(_,d)}}}function mf(i){let e,l;return e=new Qe({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function On(i){let e,l,t,n,o,r,s,a,f,u=Ie(i[14])+"",_,c,d;return t=new Bs({props:{text:i[13],row:i[12],spanPaths:i[0].spanPaths,valuePaths:i[0].valuePaths,embeddings:[]}}),{c(){e=N("div"),l=N("div"),A(t.$$.fragment),n=Y(),o=N("div"),r=N("div"),s=R("Max score"),a=Y(),f=N("div"),_=R(u),c=Y(),this.h()},l(m){e=V(m,"DIV",{class:!0});var g=y(e);l=V(g,"DIV",{class:!0});var E=y(l);F(t.$$.fragment,E),E.forEach(h),n=Q(g),o=V(g,"DIV",{class:!0});var w=y(o);r=V(w,"DIV",{class:!0});var p=y(r);s=H(p,"Max score"),p.forEach(h),a=Q(w),f=V(w,"DIV",{class:!0});var $=y(f);_=H($,u),$.forEach(h),w.forEach(h),c=Q(g),g.forEach(h),this.h()},h(){I(l,"class","flex-grow"),I(r,"class","text-sm text-gray-500"),I(f,"class","text-lg"),I(o,"class","flex flex-none flex-col items-end"),I(e,"class","flex gap-x-4 rounded border border-gray-300 px-4 py-2")},m(m,g){S(m,e,g),v(e,l),P(t,l,null),v(e,n),v(e,o),v(o,r),v(r,s),v(o,a),v(o,f),v(f,_),v(e,c),d=!0},p(m,g){const E={};g&4&&(E.text=m[13]),g&4&&(E.row=m[12]),g&1&&(E.spanPaths=m[0].spanPaths),g&1&&(E.valuePaths=m[0].valuePaths),t.$set(E),(!d||g&4)&&u!==(u=Ie(m[14])+"")&&se(_,u)},i(m){d||(b(t.$$.fragment,m),d=!0)},o(m){k(t.$$.fragment,m),d=!1},d(m){m&&h(e),B(t)}}}function hf(i){let e,l,t,n;const o=[mf,df],r=[];function s(a,f){return a[2].isFetching?0:a[2].data?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=fe()},l(a){l&&l.l(a),t=fe()},m(a,f){~e&&r[e].m(a,f),S(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(te(),k(r[u],1,1,()=>{r[u]=null}),le()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}const _f=5;function gf(i,e,l){let t,n,o,r,s=L,a=()=>(s(),s=Ne(t,w=>l(2,r=w)),t);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:u}=e,{datasetName:_}=e,{mediaPath:c}=e,{scorePath:d}=e;function m(w){return Pt.value(_t(w,c),"string")}function g(w){const p=d.slice(0,d.length-2),$=_t(w,p);let D=0;for(const M of $){const T=Pt.value(_t(M,["score"]),"float32");D=Math.max(D,T)}return D}function E(){const w=pi(u,_);w.query.sort_by=[d],w.query.sort_order="DESC",w.insightsOpen=!1,Ft(gi(u,_,w))}return i.$$set=w=>{"schema"in w&&l(6,f=w.schema),"namespace"in w&&l(7,u=w.namespace),"datasetName"in w&&l(8,_=w.datasetName),"mediaPath"in w&&l(9,c=w.mediaPath),"scorePath"in w&&l(10,d=w.scorePath)},i.$$.update=()=>{i.$$.dirty&1984&&a(l(1,t=_i(u,_,{columns:[c,d],limit:_f,combine_columns:!0,sort_by:[d]},f))),i.$$.dirty&1088&&l(11,n=[Rt(f,d)]),i.$$.dirty&2112&&l(0,o=_s(f,n))},[o,t,r,m,g,E,f,u,_,c,d,n]}class pf extends be{constructor(e){super(),ve(this,e,gf,hf,pe,{schema:6,namespace:7,datasetName:8,mediaPath:9,scorePath:10})}}function bf(i){let e,l;return e=new Qe({props:{lines:1,width:"200px"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function vf(i){let e,l;return{c(){e=N("div"),l=R(i[9]),this.h()},l(t){e=V(t,"DIV",{class:!0});var n=y(e);l=H(n,i[9]),n.forEach(h),this.h()},h(){I(e,"class","text-sm text-gray-500")},m(t,n){S(t,e,n),v(e,l)},p(t,n){n&512&&se(l,t[9])},i:L,o:L,d(t){t&&h(e)}}}function wf(i){let e,l=i[7].toFixed(2)+"",t,n,o=Ie(i[3])+"",r,s;return{c(){e=N("div"),t=R(l),n=R("% ("),r=R(o),s=R(" items)"),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=y(e);t=H(f,l),n=H(f,"% ("),r=H(f,o),s=H(f," items)"),f.forEach(h),this.h()},h(){I(e,"class","text-lg font-bold")},m(a,f){S(a,e,f),v(e,t),v(e,n),v(e,r),v(e,s)},p(a,f){f&128&&l!==(l=a[7].toFixed(2)+"")&&se(t,l),f&8&&o!==(o=Ie(a[3])+"")&&se(r,o)},i:L,o:L,d(a){a&&h(e)}}}function kf(i){let e,l;return e=new Qe({props:{lines:1,width:"200px"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ef(i){let e,l,t,n,o=i[13].namespace+"",r,s,a=i[13].concept_name+"",f,u,_,c,d,m,g,E,w,p,$,D;const M=[vf,bf],T=[];function z(W,O){return W[9]?0:1}c=z(i),d=T[c]=M[c](i);const j=[kf,wf],x=[];function X(W,O){return W[6].isFetching?0:1}return E=X(i),w=x[E]=j[E](i),{c(){e=N("div"),l=N("div"),t=N("div"),n=N("span"),r=R(o),s=R(" / "),f=R(a),_=Y(),d.c(),m=Y(),g=N("div"),w.c(),this.h()},l(W){e=V(W,"DIV",{slot:!0,class:!0});var O=y(e);l=V(O,"DIV",{class:!0});var K=y(l);t=V(K,"DIV",{class:!0});var U=y(t);n=V(U,"SPAN",{});var C=y(n);r=H(C,o),s=H(C," / "),f=H(C,a),C.forEach(h),U.forEach(h),_=Q(K),d.l(K),K.forEach(h),m=Q(O),g=V(O,"DIV",{class:!0});var G=y(g);w.l(G),G.forEach(h),O.forEach(h),this.h()},h(){I(t,"class","text-lg"),I(l,"class","w-full flex-grow"),I(g,"class","flex-none"),I(e,"slot","above"),I(e,"class","flex w-full items-center")},m(W,O){S(W,e,O),v(e,l),v(l,t),v(t,n),v(n,r),v(n,s),v(n,f),v(l,_),T[c].m(l,null),v(e,m),v(e,g),x[E].m(g,null),p=!0,$||(D=Ve(u=Te.call(null,n,{text:`version: ${i[8]}`})),$=!0)},p(W,O){u&&Oe(u.update)&&O&256&&u.update.call(null,{text:`version: ${W[8]}`});let K=c;c=z(W),c===K?T[c].p(W,O):(te(),k(T[K],1,1,()=>{T[K]=null}),le(),d=T[c],d?d.p(W,O):(d=T[c]=M[c](W),d.c()),b(d,1),d.m(l,null));let U=E;E=X(W),E===U?x[E].p(W,O):(te(),k(x[U],1,1,()=>{x[U]=null}),le(),w=x[E],w?w.p(W,O):(w=x[E]=j[E](W),w.c()),b(w,1),w.m(g,null))},i(W){p||(b(d),b(w),p=!0)},o(W){k(d),k(w),p=!1},d(W){W&&h(e),T[c].d(),x[E].d(),$=!1,D()}}}function yf(i){let e,l;return e=new Qe({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Sf(i){let e,l;return e=new pf({props:{schema:i[0],namespace:i[1],datasetName:i[2],mediaPath:i[12],scorePath:i[4]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&4096&&(o.mediaPath=t[12]),n&16&&(o.scorePath=t[4]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function If(i){let e,l,t,n;const o=[Sf,yf],r=[];function s(a,f){return a[5].data?0:1}return l=s(i),t=r[l]=o[l](i),{c(){e=N("div"),t.c(),this.h()},l(a){e=V(a,"DIV",{slot:!0});var f=y(e);t.l(f),f.forEach(h),this.h()},h(){I(e,"slot","below")},m(a,f){S(a,e,f),r[l].m(e,null),n=!0},p(a,f){let u=l;l=s(a),l===u?r[l].p(a,f):(te(),k(r[u],1,1,()=>{r[u]=null}),le(),t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),b(t,1),t.m(e,null))},i(a){n||(b(t),n=!0)},o(a){k(t),n=!1},d(a){a&&h(e),r[l].d()}}}function Df(i){let e,l;return e=new $s({props:{$$slots:{below:[If],above:[Ef]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,[n]){const o={};n&70655&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}const $f="In concept",Nf="Not in concept";function Vf(i,e,l){let t,n,o,r,s,a,f,u,_,c,d=L,m=()=>(d(),d=Ne(r,z=>l(5,c=z)),r),g,E=L,w=()=>(E(),E=Ne(o,z=>l(6,g=z)),o);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>E());let{field:p}=e,{schema:$}=e,{namespace:D}=e,{datasetName:M}=e,T=p.signal;return i.$$set=z=>{"field"in z&&l(14,p=z.field),"schema"in z&&l(0,$=z.schema),"namespace"in z&&l(1,D=z.namespace),"datasetName"in z&&l(2,M=z.datasetName)},i.$$.update=()=>{var z,j,x,X,W,O,K;i.$$.dirty&16384&&l(4,t=[...p.path,hi,"score"]),i.$$.dirty&16384&&l(12,n=p.parent.path),i.$$.dirty&22&&w(l(11,o=Lt(D,M,{leaf_path:t}))),i.$$.dirty&32&&l(9,s=(j=(z=c.data)==null?void 0:z.metadata)==null?void 0:j.description),i.$$.dirty&64&&l(15,a=((X=(x=g.data)==null?void 0:x.counts.find(([U,C])=>U===Nf))==null?void 0:X[1])||0),i.$$.dirty&64&&l(3,f=((O=(W=g.data)==null?void 0:W.counts.find(([U,C])=>U===$f))==null?void 0:O[1])||0),i.$$.dirty&32&&l(8,u=(K=c.data)==null?void 0:K.version),i.$$.dirty&32776&&l(7,_=f/(f+a)*100)},m(l(10,r=si(T.namespace,T.concept_name))),[$,D,M,f,t,c,g,_,u,s,r,o,n,T,p,a]}class Tf extends be{constructor(e){super(),ve(this,e,Vf,Df,pe,{field:14,schema:0,namespace:1,datasetName:2})}}function qn(i,e,l){const t=i.slice();return t[9]=e[l],t}function Mf(i){let e,l;return e=new Qe({props:{paragraph:!0,lines:2,width:"200px"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function zf(i){let e,l=Ie(i[5])+"",t,n,o,r,s,a;return{c(){e=N("div"),t=R(l),n=R(" items"),o=Y(),r=N("div"),s=R(i[6]),a=R(" chars on average")},l(f){e=V(f,"DIV",{});var u=y(e);t=H(u,l),n=H(u," items"),u.forEach(h),o=Q(f),r=V(f,"DIV",{});var _=y(r);s=H(_,i[6]),a=H(_," chars on average"),_.forEach(h)},m(f,u){S(f,e,u),v(e,t),v(e,n),S(f,o,u),S(f,r,u),v(r,s),v(r,a)},p(f,u){u&32&&l!==(l=Ie(f[5])+"")&&se(t,l),u&64&&se(s,f[6])},i:L,o:L,d(f){f&&h(e),f&&h(o),f&&h(r)}}}function jn(i){let e,l;return e=new Tf({props:{schema:i[2],namespace:i[3],datasetName:i[4],field:i[9]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.schema=t[2]),n&8&&(o.namespace=t[3]),n&16&&(o.datasetName=t[4]),n&1&&(o.field=t[9]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Cf(i){let e,l,t,n,o,r,s,a,f,u;const _=[zf,Mf],c=[];function d(w,p){return w[5]&&w[6]?0:1}s=d(i),a=c[s]=_[s](i);let m=i[0],g=[];for(let w=0;w<m.length;w+=1)g[w]=jn(qn(i,m,w));const E=w=>k(g[w],1,1,()=>{g[w]=null});return{c(){e=N("div"),l=N("div"),t=N("div"),n=R(i[1]),o=Y(),r=N("div"),a.c(),f=Y();for(let w=0;w<g.length;w+=1)g[w].c();this.h()},l(w){e=V(w,"DIV",{class:!0});var p=y(e);l=V(p,"DIV",{class:!0});var $=y(l);t=V($,"DIV",{class:!0});var D=y(t);n=H(D,i[1]),D.forEach(h),o=Q($),r=V($,"DIV",{class:!0});var M=y(r);a.l(M),M.forEach(h),$.forEach(h),f=Q(p);for(let T=0;T<g.length;T+=1)g[T].l(p);p.forEach(h),this.h()},h(){I(t,"class","flex-grow text-2xl font-semibold text-slate-900"),I(r,"class","flex-none text-sm text-gray-500"),I(l,"class","sticky top-0 flex rounded-xl border border-gray-300 bg-slate-50/80 px-4 py-3 backdrop-blur-sm"),I(e,"class","relative flex flex-col gap-y-4")},m(w,p){S(w,e,p),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),c[s].m(r,null),v(e,f);for(let $=0;$<g.length;$+=1)g[$]&&g[$].m(e,null);u=!0},p(w,[p]){(!u||p&2)&&se(n,w[1]);let $=s;if(s=d(w),s===$?c[s].p(w,p):(te(),k(c[$],1,1,()=>{c[$]=null}),le(),a=c[s],a?a.p(w,p):(a=c[s]=_[s](w),a.c()),b(a,1),a.m(r,null)),p&29){m=w[0];let D;for(D=0;D<m.length;D+=1){const M=qn(w,m,D);g[D]?(g[D].p(M,p),b(g[D],1)):(g[D]=jn(M),g[D].c(),b(g[D],1),g[D].m(e,null))}for(te(),D=m.length;D<g.length;D+=1)E(D);le()}},i(w){if(!u){b(a);for(let p=0;p<m.length;p+=1)b(g[p]);u=!0}},o(w){k(a),g=g.filter(Boolean);for(let p=0;p<g.length;p+=1)k(g[p]);u=!1},d(w){w&&h(e),c[s].d(),Ke(g,w)}}}function Af(i,e,l){let t,n,o,r,s=L,a=()=>(s(),s=Ne(t,m=>l(8,r=m)),t);i.$$.on_destroy.push(()=>s());let{concepts:f}=e,{mediaPath:u}=e,{schema:_}=e,{namespace:c}=e,{datasetName:d}=e;return i.$$set=m=>{"concepts"in m&&l(0,f=m.concepts),"mediaPath"in m&&l(1,u=m.mediaPath),"schema"in m&&l(2,_=m.schema),"namespace"in m&&l(3,c=m.namespace),"datasetName"in m&&l(4,d=m.datasetName)},i.$$.update=()=>{var m,g;i.$$.dirty&26&&a(l(7,t=di(c,d,{leaf_path:u}))),i.$$.dirty&256&&l(6,n=(m=r.data)==null?void 0:m.avg_text_length),i.$$.dirty&256&&l(5,o=(g=r.data)==null?void 0:g.total_count)},[f,u,_,c,d,o,n,t,r]}class Pf extends be{constructor(e){super(),ve(this,e,Af,Cf,pe,{concepts:0,mediaPath:1,schema:2,namespace:3,datasetName:4})}}function Un(i,e,l){const t=i.slice();t[8]=e[l];const n=t[5](t[8]);return t[9]=n,t}function Yn(i){let e,l;return e=new Pf({props:{mediaPath:i[8],schema:i[0],namespace:i[1],datasetName:i[2],concepts:i[9]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.mediaPath=t[8]),n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&8&&(o.concepts=t[9]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Bf(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Yn(Un(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=N("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=V(r,"DIV",{class:!0});var s=y(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(h),this.h()},h(){I(e,"class","flex flex-col gap-y-6")},m(r,s){S(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,[s]){if(s&47){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Un(r,t,a);n[a]?(n[a].p(f,s),b(n[a],1)):(n[a]=Yn(f),n[a].c(),b(n[a],1),n[a].m(e,null))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)b(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(r){r&&h(e),Ke(n,r)}}}function Ff(i,e,l){let t,n,o,r,s=L,a=()=>(s(),s=Ne(n,d=>l(6,r=d)),n);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:u}=e,{datasetName:_}=e;function c(d){return t.filter(m=>ui(m.path,d))}return i.$$set=d=>{"schema"in d&&l(0,f=d.schema),"namespace"in d&&l(1,u=d.namespace),"datasetName"in d&&l(2,_=d.datasetName)},i.$$.update=()=>{var d,m;i.$$.dirty&1&&(t=nt(f).filter(g=>{var E;return((E=g.signal)==null?void 0:E.signal_name)=="concept_score"})),i.$$.dirty&6&&a(l(4,n=qt(u,_))),i.$$.dirty&64&&l(3,o=(((m=(d=r.data)==null?void 0:d.ui)==null?void 0:m.media_paths)||[]).map(g=>Array.isArray(g)?g:[g]))},[f,u,_,o,n,c,r]}class Rf extends be{constructor(e){super(),ve(this,e,Ff,Bf,pe,{schema:0,namespace:1,datasetName:2})}}function Qn(i){let e,l,t,n,o,r,s,a;function f(d){i[24](d)}let u={namespace:i[0],name:i[1]};i[4]!==void 0&&(u.open=i[4]),e=new nf({props:u}),qe.push(()=>We(e,"open",f));function _(d){i[25](d)}let c={schema:i[12].data};return i[5]!==void 0&&(c.open=i[5]),n=new cf({props:c}),qe.push(()=>We(n,"open",_)),s=new Ut({props:{size:"lg",open:i[3].insightsOpen,$$slots:{default:[Lf]},$$scope:{ctx:i}}}),s.$on("close",i[26]),s.$on("submit",i[27]),{c(){A(e.$$.fragment),t=Y(),A(n.$$.fragment),r=Y(),A(s.$$.fragment)},l(d){F(e.$$.fragment,d),t=Q(d),F(n.$$.fragment,d),r=Q(d),F(s.$$.fragment,d)},m(d,m){P(e,d,m),S(d,t,m),P(n,d,m),S(d,r,m),P(s,d,m),a=!0},p(d,m){const g={};m[0]&1&&(g.namespace=d[0]),m[0]&2&&(g.name=d[1]),!l&&m[0]&16&&(l=!0,g.open=d[4],Ze(()=>l=!1)),e.$set(g);const E={};m[0]&4096&&(E.schema=d[12].data),!o&&m[0]&32&&(o=!0,E.open=d[5],Ze(()=>o=!1)),n.$set(E);const w={};m[0]&8&&(w.open=d[3].insightsOpen),m[0]&4107|m[1]&1&&(w.$$scope={dirty:m,ctx:d}),s.$set(w)},i(d){a||(b(e.$$.fragment,d),b(n.$$.fragment,d),b(s.$$.fragment,d),a=!0)},o(d){k(e.$$.fragment,d),k(n.$$.fragment,d),k(s.$$.fragment,d),a=!1},d(d){B(e,d),d&&h(t),B(n,d),d&&h(r),B(s,d)}}}function Gn(i){let e,l;return e=new Rf({props:{schema:i[12].data,namespace:i[0],datasetName:i[1]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.schema=t[12].data),n[0]&1&&(o.namespace=t[0]),n[0]&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Hf(i){let e,l,t=i[3].insightsOpen&&Gn(i);return{c(){t&&t.c(),e=fe()},l(n){t&&t.l(n),e=fe()},m(n,o){t&&t.m(n,o),S(n,e,o),l=!0},p(n,o){n[3].insightsOpen?t?(t.p(n,o),o[0]&8&&b(t,1)):(t=Gn(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(te(),k(t,1,1,()=>{t=null}),le())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Lf(i){let e,l,t,n,o,r;return e=new Yt({props:{title:"Insights"}}),t=new Qt({props:{$$slots:{default:[Hf]},$$scope:{ctx:i}}}),o=new Gt({props:{primaryButtonText:"Close"}}),{c(){A(e.$$.fragment),l=Y(),A(t.$$.fragment),n=Y(),A(o.$$.fragment)},l(s){F(e.$$.fragment,s),l=Q(s),F(t.$$.fragment,s),n=Q(s),F(o.$$.fragment,s)},m(s,a){P(e,s,a),S(s,l,a),P(t,s,a),S(s,n,a),P(o,s,a),r=!0},p(s,a){const f={};a[0]&4107|a[1]&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),k(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&h(l),B(t,s),s&&h(n),B(o,s)}}}function Wn(i){let e,l;return e=new Zt({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[jf]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[28]),e.$on("close",i[29]),e.$on("submit",i[30]),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&8192|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Of(i){let e,l;return e=new wi({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&8192&&(o.value=`${t[13].data}`),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qf(i){let e,l;return e=new Qe({}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p:L,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function jf(i){let e,l,t,n,o,r,s,a,f,u;const _=[qf,Of],c=[];function d(m,g){var E,w;return(E=m[13])!=null&&E.isFetching?0:(w=m[13])!=null&&w.data?1:-1}return~(s=d(i))&&(a=c[s]=_[s](i)),{c(){e=N("div"),l=R(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=Y(),n=N("div"),o=R("config.yml"),r=Y(),a&&a.c(),f=fe(),this.h()},l(m){e=V(m,"DIV",{class:!0});var g=y(e);l=H(g,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),g.forEach(h),t=Q(m),n=V(m,"DIV",{class:!0});var E=y(n);o=H(E,"config.yml"),E.forEach(h),r=Q(m),a&&a.l(m),f=fe(),this.h()},h(){I(e,"class","mb-4 text-sm"),I(n,"class","font-mono text-xs")},m(m,g){S(m,e,g),v(e,l),S(m,t,g),S(m,n,g),v(n,o),S(m,r,g),~s&&c[s].m(m,g),S(m,f,g),u=!0},p(m,g){let E=s;s=d(m),s===E?~s&&c[s].p(m,g):(a&&(te(),k(c[E],1,1,()=>{c[E]=null}),le()),~s?(a=c[s],a?a.p(m,g):(a=c[s]=_[s](m),a.c()),b(a,1),a.m(f.parentNode,f)):a=null)},i(m){u||(b(a),u=!0)},o(m){k(a),u=!1},d(m){m&&h(e),m&&h(t),m&&h(n),m&&h(r),~s&&c[s].d(m),m&&h(f)}}}function Uf(i){let e,l,t,n,o,r,s,a,f,u,_;t=new Ko({}),s=new xa({});let c=i[12].data&&Qn(i),d=i[2]&&Wn(i);return{c(){e=N("div"),l=N("div"),A(t.$$.fragment),o=Y(),r=N("div"),A(s.$$.fragment),a=Y(),c&&c.c(),f=Y(),d&&d.c(),u=fe(),this.h()},l(m){e=V(m,"DIV",{class:!0});var g=y(e);l=V(g,"DIV",{class:!0});var E=y(l);F(t.$$.fragment,E),E.forEach(h),o=Q(g),r=V(g,"DIV",{class:!0});var w=y(r);F(s.$$.fragment,w),w.forEach(h),g.forEach(h),a=Q(m),c&&c.l(m),f=Q(m),d&&d.l(m),u=fe(),this.h()},h(){I(l,"class",n=tl(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),I(r,"class","h-full w-2/3 flex-grow"),I(e,"class","flex h-full w-full")},m(m,g){S(m,e,g),v(e,l),P(t,l,null),v(e,o),v(e,r),P(s,r,null),S(m,a,g),c&&c.m(m,g),S(m,f,g),d&&d.m(m,g),S(m,u,g),_=!0},p(m,g){(!_||g[0]&2048&&n!==(n=tl(`schema-container relative h-full ${m[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&I(l,"class",n),m[12].data?c?(c.p(m,g),g[0]&4096&&b(c,1)):(c=Qn(m),c.c(),b(c,1),c.m(f.parentNode,f)):c&&(te(),k(c,1,1,()=>{c=null}),le()),m[2]?d?(d.p(m,g),g[0]&4&&b(d,1)):(d=Wn(m),d.c(),b(d,1),d.m(u.parentNode,u)):d&&(te(),k(d,1,1,()=>{d=null}),le())},i(m){_||(b(t.$$.fragment,m),b(s.$$.fragment,m),b(c),b(d),_=!0)},o(m){k(t.$$.fragment,m),k(s.$$.fragment,m),k(c),k(d),_=!1},d(m){m&&h(e),B(t),B(s),m&&h(a),c&&c.d(m),m&&h(f),d&&d.d(m),m&&h(u)}}}function Yf(i){let e,l,t=i[3].namespace+"",n,o,r=i[3].datasetName+"",s,a,f;return{c(){e=N("div"),l=N("a"),n=R(t),o=R("/"),s=R(r),this.h()},l(u){e=V(u,"DIV",{class:!0});var _=y(e);l=V(_,"A",{class:!0,href:!0});var c=y(l);n=H(c,t),o=H(c,"/"),s=H(c,r),c.forEach(h),_.forEach(h),this.h()},h(){I(l,"class","font-semibold text-black"),I(l,"href",i[8]),I(e,"class","dataset-name svelte-1xlsh2v")},m(u,_){S(u,e,_),v(e,l),v(l,n),v(l,o),v(l,s),a||(f=Pe(l,"click",i[21]),a=!0)},p(u,_){_[0]&8&&t!==(t=u[3].namespace+"")&&se(n,t),_[0]&8&&r!==(r=u[3].datasetName+"")&&se(s,r),_[0]&256&&I(l,"href",u[8])},d(u){u&&h(e),a=!1,f()}}}function Qf(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g;return t=new Br({}),r=new Xe({props:{type:"outline",$$slots:{default:[Yf]},$$scope:{ctx:i}}}),f=new dt({}),c=new Ir({}),{c(){e=N("div"),l=N("button"),A(t.$$.fragment),o=Y(),A(r.$$.fragment),s=Y(),a=N("button"),A(f.$$.fragment),u=Y(),_=N("button"),A(c.$$.fragment),this.h()},l(E){e=V(E,"DIV",{slot:!0,class:!0});var w=y(e);l=V(w,"BUTTON",{class:!0});var p=y(l);F(t.$$.fragment,p),p.forEach(h),o=Q(w),F(r.$$.fragment,w),s=Q(w),a=V(w,"BUTTON",{});var $=y(a);F(f.$$.fragment,$),$.forEach(h),u=Q(w),_=V(w,"BUTTON",{});var D=y(_);F(c.$$.fragment,D),D.forEach(h),w.forEach(h),this.h()},h(){I(l,"class","mr-2"),ie(l,"bg-blue-100",!i[11]),ie(l,"outline-blue-400",!i[11]),ie(l,"outline",!i[11]),I(e,"slot","header-subtext"),I(e,"class","flex flex-row items-center gap-x-1")},m(E,w){S(E,e,w),v(e,l),P(t,l,null),v(e,o),P(r,e,null),v(e,s),v(e,a),P(f,a,null),v(e,u),v(e,_),P(c,_,null),d=!0,m||(g=[Ve(n=Te.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),Pe(l,"click",i[15]),Pe(l,"keypress",i[15]),Pe(a,"click",i[22]),Ve(Te.call(null,a,{text:"Dataset information"})),Ve(Te.call(null,_,{text:"Dataset insights"})),Pe(_,"click",i[23])],m=!0)},p(E,w){n&&Oe(n.update)&&w[0]&2048&&n.update.call(null,{text:E[11]?"Show Schema":"Hide Schema"}),(!d||w[0]&2048)&&ie(l,"bg-blue-100",!E[11]),(!d||w[0]&2048)&&ie(l,"outline-blue-400",!E[11]),(!d||w[0]&2048)&&ie(l,"outline",!E[11]);const p={};w[0]&264|w[1]&1&&(p.$$scope={dirty:w,ctx:E}),r.$set(p)},i(E){d||(b(t.$$.fragment,E),b(r.$$.fragment,E),b(f.$$.fragment,E),b(c.$$.fragment,E),d=!0)},o(E){k(t.$$.fragment,E),k(r.$$.fragment,E),k(f.$$.fragment,E),k(c.$$.fragment,E),d=!1},d(E){E&&h(e),B(t),B(r),B(f),B(c),m=!1,xe(g)}}}function Gf(i){let e,l,t;return l=new po({}),{c(){e=N("div"),A(l.$$.fragment),this.h()},l(n){e=V(n,"DIV",{slot:!0,class:!0});var o=y(e);F(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"slot","header-center"),I(e,"class","flex w-full items-center")},m(n,o){S(n,e,o),P(l,e,null),t=!0},p:L,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),B(l)}}}function Zn(i){let e,l,t,n;return{c(){e=N("div"),l=R("Copied!"),this.h()},l(o){e=V(o,"DIV",{class:!0});var r=y(e);l=H(r,"Copied!"),r.forEach(h),this.h()},h(){I(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){S(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Li(e,Ls,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function Wf(i){let e,l,t,n,o,r,s,a,f,u,_,c,d,m,g,E,w,p,$,D=i[6]&&Zn();return s=new Ns({}),u=new mr({}),m=new Os({}),{c(){e=N("div"),l=N("div"),t=N("div"),n=N("div"),D&&D.c(),o=Y(),r=N("button"),A(s.$$.fragment),a=Y(),f=N("button"),A(u.$$.fragment),_=Y(),c=N("div"),d=N("button"),A(m.$$.fragment),this.h()},l(M){e=V(M,"DIV",{slot:!0});var T=y(e);l=V(T,"DIV",{class:!0});var z=y(l);t=V(z,"DIV",{class:!0});var j=y(t);n=V(j,"DIV",{class:!0});var x=y(n);D&&D.l(x),o=Q(x),r=V(x,"BUTTON",{});var X=y(r);F(s.$$.fragment,X),X.forEach(h),x.forEach(h),a=Q(j),f=V(j,"BUTTON",{});var W=y(f);F(u.$$.fragment,W),W.forEach(h),_=Q(j),c=V(j,"DIV",{class:!0});var O=y(c);d=V(O,"BUTTON",{});var K=y(d);F(m.$$.fragment,K),K.forEach(h),O.forEach(h),j.forEach(h),z.forEach(h),T.forEach(h),this.h()},h(){I(n,"class","relative"),d.disabled=g=!i[9],I(c,"class","mr-2"),ie(c,"opacity-40",!i[9]),I(t,"class","flex"),I(l,"class","flex h-full flex-col"),I(e,"slot","header-right")},m(M,T){S(M,e,T),v(e,l),v(l,t),v(t,n),D&&D.m(n,null),v(n,o),v(n,r),P(s,r,null),v(t,a),v(t,f),P(u,f,null),v(t,_),v(t,c),v(c,d),P(m,d,null),w=!0,p||($=[Ve(Te.call(null,r,{text:"Copy the URL"})),Pe(r,"click",i[18]),Ve(Te.call(null,f,{text:"Download data"})),Pe(f,"click",i[19]),Ve(Te.call(null,d,{text:"Dataset settings"})),Pe(d,"click",i[20]),Ve(E=Te.call(null,c,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],p=!0)},p(M,T){M[6]?D?T[0]&64&&b(D,1):(D=Zn(),D.c(),b(D,1),D.m(n,o)):D&&(te(),k(D,1,1,()=>{D=null}),le()),(!w||T[0]&512&&g!==(g=!M[9]))&&(d.disabled=g),E&&Oe(E.update)&&T[0]&512&&E.update.call(null,{text:M[9]?"":"User does not have access to update settings of this dataset."}),(!w||T[0]&512)&&ie(c,"opacity-40",!M[9])},i(M){w||(b(D),b(s.$$.fragment,M),b(u.$$.fragment,M),b(m.$$.fragment,M),w=!0)},o(M){k(D),k(s.$$.fragment,M),k(u.$$.fragment,M),k(m.$$.fragment,M),w=!1},d(M){M&&h(e),D&&D.d(),B(s),B(u),B(m),p=!1,xe($)}}}function Zf(i){let e,l;return e=new qi({props:{$$slots:{"header-right":[Wf],"header-center":[Gf],"header-subtext":[Qf],default:[Uf]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n[0]&15231|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Kf(i,e,l){let t,n,o,r,s,a,f,u,_=L,c=()=>(_(),_=Ne(n,we=>l(12,u=we)),n),d,m=L,g=()=>(m(),m=Ne(s,we=>l(13,d=we)),s);i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>m());let{namespace:E}=e,{datasetName:w}=e;const p=Ye();ze(i,p,we=>l(3,f=we));function $(){zt(p,f.schemaCollapsed=!f.schemaCollapsed,f)}let D=!1,M=!1;const T=Vt();ze(i,T,we=>l(17,a=we));let z=!1,j=!1;const x=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,z=!0),setTimeout(()=>l(6,z=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),X=()=>l(5,M=!0),W=()=>l(4,D=!0),O=()=>Ft(r),K=()=>l(2,j=!0),U=()=>p.setInsightsOpen(!0);function C(we){D=we,l(4,D)}function G(we){M=we,l(5,M)}const ee=()=>p.setInsightsOpen(!1),J=()=>p.setInsightsOpen(!1),ge=()=>l(2,j=!1),Ee=()=>l(2,j=!1),ae=()=>l(2,j=!1);return i.$$set=we=>{"namespace"in we&&l(0,E=we.namespace),"datasetName"in we&&l(1,w=we.datasetName)},i.$$.update=()=>{var we;i.$$.dirty[0]&8&&l(11,t=f.schemaCollapsed),i.$$.dirty[0]&8&&c(l(10,n=rt(f.namespace,f.datasetName))),i.$$.dirty[0]&131072&&l(9,o=(we=a.data)==null?void 0:we.access.dataset.update_settings),i.$$.dirty[0]&3&&l(8,r=gi(E,w)),i.$$.dirty[0]&7&&g(l(7,s=j?gs(E,w,"yaml"):null))},[E,w,j,f,D,M,z,s,r,o,n,t,u,d,p,$,T,a,x,X,W,O,K,U,C,G,ee,J,ge,Ee,ae]}class Jf extends be{constructor(e){super(),ve(this,e,Kf,Zf,pe,{namespace:0,datasetName:1},null,[-1,-1])}}function Xf(i){let e;return{c(){e=R("Page not found! Please specify a dataset.")},l(l){e=H(l,"Page not found! Please specify a dataset.")},m(l,t){S(l,e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function xf(i){let e=i[2],l,t,n=Kn(i);return{c(){n.c(),l=fe()},l(o){n.l(o),l=fe()},m(o,r){n.m(o,r),S(o,l,r),t=!0},p(o,r){r&4&&pe(e,e=o[2])?(te(),k(n,1,1,L),le(),n=Kn(o),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(b(n),t=!0)},o(o){k(n),t=!1},d(o){o&&h(l),n.d(o)}}}function Kn(i){let e,l;return e=new Jf({props:{namespace:i[0],datasetName:i[1]}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function eu(i){let e,l,t,n;const o=[xf,Xf],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=fe()},l(a){l.l(a),t=fe()},m(a,f){r[e].m(a,f),S(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(te(),k(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function tu(i,e,l){let t,n,o,r;const s=ps();return ze(i,s,a=>l(4,n=a)),i.$$.update=()=>{if(i.$$.dirty&19&&n.page==="datasets")if(n.identifier==""||n.identifier==null)l(0,o=void 0),l(1,r=void 0);else{const[a,f]=n.identifier.split("/");(o!=a||r!=f)&&(l(0,o=a),l(1,r=f))}if(i.$$.dirty&3&&l(2,t=o&&r?Es(o,r):null),i.$$.dirty&7&&t!=null){const a=pi(o,r);bs("datasets",`${o}/${r}`,t,s,f=>ks(f,a),f=>ws(f,a))}i.$$.dirty&4&&t!=null&&vs(t)},[o,r,t,s,n]}class pu extends be{constructor(e){super(),ve(this,e,tu,eu,pe,{})}}export{pu as component};
